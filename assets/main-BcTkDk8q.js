var vx=Object.defineProperty,bx=Object.defineProperties;var jx=Object.getOwnPropertyDescriptors;var zl=Object.getOwnPropertySymbols;var lm=Object.prototype.hasOwnProperty,im=Object.prototype.propertyIsEnumerable;var am=(e,t,r)=>t in e?vx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,R=(e,t)=>{for(var r in t||(t={}))lm.call(t,r)&&am(e,r,t[r]);if(zl)for(var r of zl(t))im.call(t,r)&&am(e,r,t[r]);return e},ne=(e,t)=>bx(e,jx(t));var Pt=(e,t)=>{var r={};for(var n in e)lm.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&zl)for(var n of zl(e))t.indexOf(n)<0&&im.call(e,n)&&(r[n]=e[n]);return r};var xe=(e,t,r)=>new Promise((n,a)=>{var l=o=>{try{c(r.next(o))}catch(d){a(d)}},i=o=>{try{c(r.throw(o))}catch(d){a(d)}},c=o=>o.done?n(o.value):Promise.resolve(o.value).then(l,i);c((r=r.apply(e,t)).next())});function wx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var No=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function th(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var sh={exports:{}},Hi={},rh={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pl=Symbol.for("react.element"),kx=Symbol.for("react.portal"),Sx=Symbol.for("react.fragment"),_x=Symbol.for("react.strict_mode"),Cx=Symbol.for("react.profiler"),Ex=Symbol.for("react.provider"),Px=Symbol.for("react.context"),Tx=Symbol.for("react.forward_ref"),zx=Symbol.for("react.suspense"),Ax=Symbol.for("react.memo"),Mx=Symbol.for("react.lazy"),om=Symbol.iterator;function Rx(e){return e===null||typeof e!="object"?null:(e=om&&e[om]||e["@@iterator"],typeof e=="function"?e:null)}var nh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ah=Object.assign,lh={};function Qn(e,t,r){this.props=e,this.context=t,this.refs=lh,this.updater=r||nh}Qn.prototype.isReactComponent={};Qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ih(){}ih.prototype=Qn.prototype;function kd(e,t,r){this.props=e,this.context=t,this.refs=lh,this.updater=r||nh}var Sd=kd.prototype=new ih;Sd.constructor=kd;ah(Sd,Qn.prototype);Sd.isPureReactComponent=!0;var cm=Array.isArray,oh=Object.prototype.hasOwnProperty,_d={current:null},ch={key:!0,ref:!0,__self:!0,__source:!0};function dh(e,t,r){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)oh.call(t,n)&&!ch.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:pl,type:e,key:l,ref:i,props:a,_owner:_d.current}}function Lx(e,t){return{$$typeof:pl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cd(e){return typeof e=="object"&&e!==null&&e.$$typeof===pl}function $x(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dm=/\/+/g;function ko(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$x(""+e.key):t.toString(36)}function si(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case pl:case kx:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+ko(i,0):n,cm(a)?(r="",e!=null&&(r=e.replace(dm,"$&/")+"/"),si(a,t,r,"",function(d){return d})):a!=null&&(Cd(a)&&(a=Lx(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(dm,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",cm(e))for(var c=0;c<e.length;c++){l=e[c];var o=n+ko(l,c);i+=si(l,t,r,o,a)}else if(o=Rx(e),typeof o=="function")for(e=o.call(e),c=0;!(l=e.next()).done;)l=l.value,o=n+ko(l,c++),i+=si(l,t,r,o,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Al(e,t,r){if(e==null)return e;var n=[],a=0;return si(e,n,"","",function(l){return t.call(r,l,a++)}),n}function Ox(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},ri={transition:null},Ix={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:ri,ReactCurrentOwner:_d};function uh(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Al,forEach:function(e,t,r){Al(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Al(e,function(){t++}),t},toArray:function(e){return Al(e,function(t){return t})||[]},only:function(e){if(!Cd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=Qn;je.Fragment=Sx;je.Profiler=Cx;je.PureComponent=kd;je.StrictMode=_x;je.Suspense=zx;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ix;je.act=uh;je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ah({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=_d.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)oh.call(t,o)&&!ch.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}return{$$typeof:pl,type:e.type,key:a,ref:l,props:n,_owner:i}};je.createContext=function(e){return e={$$typeof:Px,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ex,_context:e},e.Consumer=e};je.createElement=dh;je.createFactory=function(e){var t=dh.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:Tx,render:e}};je.isValidElement=Cd;je.lazy=function(e){return{$$typeof:Mx,_payload:{_status:-1,_result:e},_init:Ox}};je.memo=function(e,t){return{$$typeof:Ax,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=ri.transition;ri.transition={};try{e()}finally{ri.transition=t}};je.unstable_act=uh;je.useCallback=function(e,t){return $t.current.useCallback(e,t)};je.useContext=function(e){return $t.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};je.useEffect=function(e,t){return $t.current.useEffect(e,t)};je.useId=function(){return $t.current.useId()};je.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};je.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return $t.current.useMemo(e,t)};je.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};je.useRef=function(e){return $t.current.useRef(e)};je.useState=function(e){return $t.current.useState(e)};je.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};je.useTransition=function(){return $t.current.useTransition()};je.version="18.3.1";rh.exports=je;var f=rh.exports;const Xn=th(f),Dx=wx({__proto__:null,default:Xn},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=f,Ux=Symbol.for("react.element"),Vx=Symbol.for("react.fragment"),Bx=Object.prototype.hasOwnProperty,Hx=Fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wx={key:!0,ref:!0,__self:!0,__source:!0};function mh(e,t,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Bx.call(t,n)&&!Wx.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Ux,type:e,key:l,ref:i,props:a,_owner:Hx.current}}Hi.Fragment=Vx;Hi.jsx=mh;Hi.jsxs=mh;sh.exports=Hi;var s=sh.exports;typeof window!="undefined"&&(window.csrf_token="mock-csrf-token",window.frappe={boot:{sysdefaults:{float_precision:2,date_format:"yyyy-mm-dd"},user:{name:"Guest User",email:"guest@example.com"}}});var fh={exports:{}},es={},hh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,I){var V=_.length;_.push(I);e:for(;0<V;){var ue=V-1>>>1,Q=_[ue];if(0<a(Q,I))_[ue]=I,_[V]=Q,V=ue;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var I=_[0],V=_.pop();if(V!==I){_[0]=V;e:for(var ue=0,Q=_.length,Ne=Q>>>1;ue<Ne;){var ce=2*(ue+1)-1,Xe=_[ce],nt=ce+1,z=_[nt];if(0>a(Xe,V))nt<Q&&0>a(z,Xe)?(_[ue]=z,_[nt]=V,ue=nt):(_[ue]=Xe,_[ce]=V,ue=ce);else if(nt<Q&&0>a(z,V))_[ue]=z,_[nt]=V,ue=nt;else break e}}return I}function a(_,I){var V=_.sortIndex-I.sortIndex;return V!==0?V:_.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],d=[],u=1,m=null,x=3,b=!1,N=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var I=r(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=_)n(d),I.sortIndex=I.expirationTime,t(o,I);else break;I=r(d)}}function v(_){if(j=!1,y(_),!N)if(r(o)!==null)N=!0,D(M);else{var I=r(d);I!==null&&ee(v,I.startTime-_)}}function M(_,I){N=!1,j&&(j=!1,p(C),C=-1),b=!0;var V=x;try{for(y(I),m=r(o);m!==null&&(!(m.expirationTime>I)||_&&!de());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,x=m.priorityLevel;var Q=ue(m.expirationTime<=I);I=e.unstable_now(),typeof Q=="function"?m.callback=Q:m===r(o)&&n(o),y(I)}else n(o);m=r(o)}if(m!==null)var Ne=!0;else{var ce=r(d);ce!==null&&ee(v,ce.startTime-I),Ne=!1}return Ne}finally{m=null,x=V,b=!1}}var L=!1,P=null,C=-1,X=5,$=-1;function de(){return!(e.unstable_now()-$<X)}function he(){if(P!==null){var _=e.unstable_now();$=_;var I=!0;try{I=P(!0,_)}finally{I?W():(L=!1,P=null)}}else L=!1}var W;if(typeof g=="function")W=function(){g(he)};else if(typeof MessageChannel!="undefined"){var Z=new MessageChannel,te=Z.port2;Z.port1.onmessage=he,W=function(){te.postMessage(null)}}else W=function(){S(he,0)};function D(_){P=_,L||(L=!0,W())}function ee(_,I){C=S(function(){_(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){N||b||(N=!0,D(M))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(_){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var V=x;x=I;try{return _()}finally{x=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,I){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var V=x;x=_;try{return I()}finally{x=V}},e.unstable_scheduleCallback=function(_,I,V){var ue=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ue+V:ue):V=ue,_){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=V+Q,_={id:u++,callback:I,priorityLevel:_,startTime:V,expirationTime:Q,sortIndex:-1},V>ue?(_.sortIndex=V,t(d,_),r(o)===null&&_===r(d)&&(j?(p(C),C=-1):j=!0,ee(v,V-ue))):(_.sortIndex=Q,t(o,_),N||b||(N=!0,D(M))),_},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(_){var I=x;return function(){var V=x;x=I;try{return _.apply(this,arguments)}finally{x=V}}}})(ph);hh.exports=ph;var Gx=hh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=f,Jt=Gx;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gh=new Set,Ha={};function sn(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(Ha[e]=t,e=0;e<t.length;e++)gh.add(t[e])}var Ks=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),fc=Object.prototype.hasOwnProperty,Yx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,um={},mm={};function Kx(e){return fc.call(mm,e)?!0:fc.call(um,e)?!1:Yx.test(e)?mm[e]=!0:(um[e]=!0,!1)}function Qx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xx(e,t,r,n){if(t===null||typeof t=="undefined"||Qx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,r,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function Pd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ed,Pd);gt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ed,Pd);gt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ed,Pd);gt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Td(e,t,r,n){var a=gt.hasOwnProperty(t)?gt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xx(t,r,a,n)&&(r=null),n||a===null?Kx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var tr=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ml=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),zd=Symbol.for("react.strict_mode"),hc=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),yh=Symbol.for("react.context"),Ad=Symbol.for("react.forward_ref"),pc=Symbol.for("react.suspense"),gc=Symbol.for("react.suspense_list"),Md=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),vh=Symbol.for("react.offscreen"),fm=Symbol.iterator;function pa(e){return e===null||typeof e!="object"?null:(e=fm&&e[fm]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,So;function _a(e){if(So===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);So=t&&t[1]||""}return`
`+So+e}var _o=!1;function Co(e,t){if(!e||_o)return"";_o=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,c=l.length-1;1<=i&&0<=c&&a[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(a[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||a[i]!==l[c]){var o=`
`+a[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{_o=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_a(e):""}function Zx(e){switch(e.tag){case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return e=Co(e.type,!1),e;case 11:return e=Co(e.type.render,!1),e;case 1:return e=Co(e.type,!0),e;default:return""}}function xc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kn:return"Fragment";case Nn:return"Portal";case hc:return"Profiler";case zd:return"StrictMode";case pc:return"Suspense";case gc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yh:return(e.displayName||"Context")+".Consumer";case xh:return(e._context.displayName||"Context")+".Provider";case Ad:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Md:return t=e.displayName||null,t!==null?t:xc(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return xc(e(t))}catch(r){}}return null}function Jx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xc(t);case 8:return t===zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ey(e){var t=bh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rl(e){e._valueTracker||(e._valueTracker=ey(e))}function jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function yc(e,t){var r=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function hm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Er(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wh(e,t){t=t.checked,t!=null&&Td(e,"checked",t,!1)}function vc(e,t){wh(e,t);var r=Er(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bc(e,t.type,r):t.hasOwnProperty("defaultValue")&&bc(e,t.type,Er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function bc(e,t,r){(t!=="number"||xi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ca=Array.isArray;function Ln(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Er(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function jc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(Ca(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Er(r)}}function Nh(e,t){var r=Er(t.value),n=Er(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ll,Sh=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ll=Ll||document.createElement("div"),Ll.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ll.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ty=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(e){ty.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),za[t]=za[e]})});function _h(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||za.hasOwnProperty(e)&&za[e]?(""+t).trim():t+"px"}function Ch(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=_h(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var sy=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nc(e,t){if(t){if(sy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function kc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=null;function Rd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _c=null,$n=null,On=null;function ym(e){if(e=yl(e)){if(typeof _c!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Ki(t),_c(e.stateNode,e.type,t))}}function Eh(e){$n?On?On.push(e):On=[e]:$n=e}function Ph(){if($n){var e=$n,t=On;if(On=$n=null,ym(e),t)for(e=0;e<t.length;e++)ym(t[e])}}function Th(e,t){return e(t)}function zh(){}var Eo=!1;function Ah(e,t,r){if(Eo)return e(t,r);Eo=!0;try{return Th(e,t,r)}finally{Eo=!1,($n!==null||On!==null)&&(zh(),Ph())}}function Ga(e,t){var r=e.stateNode;if(r===null)return null;var n=Ki(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var Cc=!1;if(Ks)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Cc=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch(e){Cc=!1}function ry(e,t,r,n,a,l,i,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Aa=!1,yi=null,vi=!1,Ec=null,ny={onError:function(e){Aa=!0,yi=e}};function ay(e,t,r,n,a,l,i,c,o){Aa=!1,yi=null,ry.apply(ny,arguments)}function ly(e,t,r,n,a,l,i,c,o){if(ay.apply(this,arguments),Aa){if(Aa){var d=yi;Aa=!1,yi=null}else throw Error(H(198));vi||(vi=!0,Ec=d)}}function rn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vm(e){if(rn(e)!==e)throw Error(H(188))}function iy(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return vm(a),e;if(l===n)return vm(a),t;l=l.sibling}throw Error(H(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,c=a.child;c;){if(c===r){i=!0,r=a,n=l;break}if(c===n){i=!0,n=a,r=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===r){i=!0,r=l,n=a;break}if(c===n){i=!0,n=l,r=a;break}c=c.sibling}if(!i)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function Rh(e){return e=iy(e),e!==null?Lh(e):null}function Lh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lh(e);if(t!==null)return t;e=e.sibling}return null}var $h=Jt.unstable_scheduleCallback,bm=Jt.unstable_cancelCallback,oy=Jt.unstable_shouldYield,cy=Jt.unstable_requestPaint,Ge=Jt.unstable_now,dy=Jt.unstable_getCurrentPriorityLevel,Ld=Jt.unstable_ImmediatePriority,Oh=Jt.unstable_UserBlockingPriority,bi=Jt.unstable_NormalPriority,uy=Jt.unstable_LowPriority,Ih=Jt.unstable_IdlePriority,Wi=null,As=null;function my(e){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch(t){}}var js=Math.clz32?Math.clz32:py,fy=Math.log,hy=Math.LN2;function py(e){return e>>>=0,e===0?32:31-(fy(e)/hy|0)|0}var $l=64,Ol=4194304;function Ea(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ji(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var c=i&~a;c!==0?n=Ea(c):(l&=i,l!==0&&(n=Ea(l)))}else i=r&~a,i!==0?n=Ea(i):l!==0&&(n=Ea(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-js(t),a=1<<r,n|=e[r],t&=~a;return n}function gy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xy(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-js(l),c=1<<i,o=a[i];o===-1?(!(c&r)||c&n)&&(a[i]=gy(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}}function Pc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dh(){var e=$l;return $l<<=1,!($l&4194240)&&($l=64),e}function Po(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-js(t),e[t]=r}function yy(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-js(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function $d(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-js(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Se=0;function Fh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uh,Od,Vh,Bh,Hh,Tc=!1,Il=[],yr=null,vr=null,br=null,qa=new Map,Ya=new Map,cr=[],vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(t.pointerId)}}function xa(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=yl(t),t!==null&&Od(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function by(e,t,r,n,a){switch(t){case"focusin":return yr=xa(yr,e,t,r,n,a),!0;case"dragenter":return vr=xa(vr,e,t,r,n,a),!0;case"mouseover":return br=xa(br,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return qa.set(l,xa(qa.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Ya.set(l,xa(Ya.get(l)||null,e,t,r,n,a)),!0}return!1}function Wh(e){var t=Hr(e.target);if(t!==null){var r=rn(t);if(r!==null){if(t=r.tag,t===13){if(t=Mh(r),t!==null){e.blockedOn=t,Hh(e.priority,function(){Vh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Sc=n,r.target.dispatchEvent(n),Sc=null}else return t=yl(r),t!==null&&Od(t),e.blockedOn=r,!1;t.shift()}return!0}function wm(e,t,r){ni(e)&&r.delete(t)}function jy(){Tc=!1,yr!==null&&ni(yr)&&(yr=null),vr!==null&&ni(vr)&&(vr=null),br!==null&&ni(br)&&(br=null),qa.forEach(wm),Ya.forEach(wm)}function ya(e,t){e.blockedOn===t&&(e.blockedOn=null,Tc||(Tc=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,jy)))}function Ka(e){function t(a){return ya(a,e)}if(0<Il.length){ya(Il[0],e);for(var r=1;r<Il.length;r++){var n=Il[r];n.blockedOn===e&&(n.blockedOn=null)}}for(yr!==null&&ya(yr,e),vr!==null&&ya(vr,e),br!==null&&ya(br,e),qa.forEach(t),Ya.forEach(t),r=0;r<cr.length;r++)n=cr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)Wh(r),r.blockedOn===null&&cr.shift()}var In=tr.ReactCurrentBatchConfig,wi=!0;function wy(e,t,r,n){var a=Se,l=In.transition;In.transition=null;try{Se=1,Id(e,t,r,n)}finally{Se=a,In.transition=l}}function Ny(e,t,r,n){var a=Se,l=In.transition;In.transition=null;try{Se=4,Id(e,t,r,n)}finally{Se=a,In.transition=l}}function Id(e,t,r,n){if(wi){var a=zc(e,t,r,n);if(a===null)Do(e,t,n,Ni,r),jm(e,n);else if(by(a,e,t,r,n))n.stopPropagation();else if(jm(e,n),t&4&&-1<vy.indexOf(e)){for(;a!==null;){var l=yl(a);if(l!==null&&Uh(l),l=zc(e,t,r,n),l===null&&Do(e,t,n,Ni,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Do(e,t,n,null,r)}}var Ni=null;function zc(e,t,r,n){if(Ni=null,e=Rd(n),e=Hr(e),e!==null)if(t=rn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ni=e,null}function Gh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dy()){case Ld:return 1;case Oh:return 4;case bi:case uy:return 16;case Ih:return 536870912;default:return 16}default:return 16}}var hr=null,Dd=null,ai=null;function qh(){if(ai)return ai;var e,t=Dd,r=t.length,n,a="value"in hr?hr.value:hr.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[l-n];n++);return ai=a.slice(e,1<n?1-n:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function Nm(){return!1}function ts(e){function t(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Dl:Nm,this.isPropagationStopped=Nm,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fd=ts(Zn),xl=Fe({},Zn,{view:0,detail:0}),ky=ts(xl),To,zo,va,Gi=Fe({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==va&&(va&&e.type==="mousemove"?(To=e.screenX-va.screenX,zo=e.screenY-va.screenY):zo=To=0,va=e),To)},movementY:function(e){return"movementY"in e?e.movementY:zo}}),km=ts(Gi),Sy=Fe({},Gi,{dataTransfer:0}),_y=ts(Sy),Cy=Fe({},xl,{relatedTarget:0}),Ao=ts(Cy),Ey=Fe({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Py=ts(Ey),Ty=Fe({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zy=ts(Ty),Ay=Fe({},Zn,{data:0}),Sm=ts(Ay),My={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ry={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $y(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ly[e])?!!t[e]:!1}function Ud(){return $y}var Oy=Fe({},xl,{key:function(e){if(e.key){var t=My[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ry[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ud,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iy=ts(Oy),Dy=Fe({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=ts(Dy),Fy=Fe({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ud}),Uy=ts(Fy),Vy=Fe({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),By=ts(Vy),Hy=Fe({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wy=ts(Hy),Gy=[9,13,27,32],Vd=Ks&&"CompositionEvent"in window,Ma=null;Ks&&"documentMode"in document&&(Ma=document.documentMode);var qy=Ks&&"TextEvent"in window&&!Ma,Yh=Ks&&(!Vd||Ma&&8<Ma&&11>=Ma),Cm=" ",Em=!1;function Kh(e,t){switch(e){case"keyup":return Gy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function Yy(e,t){switch(e){case"compositionend":return Qh(t);case"keypress":return t.which!==32?null:(Em=!0,Cm);case"textInput":return e=t.data,e===Cm&&Em?null:e;default:return null}}function Ky(e,t){if(Sn)return e==="compositionend"||!Vd&&Kh(e,t)?(e=qh(),ai=Dd=hr=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yh&&t.locale!=="ko"?null:t.data;default:return null}}var Qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qy[e.type]:t==="textarea"}function Xh(e,t,r,n){Eh(n),t=ki(t,"onChange"),0<t.length&&(r=new Fd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ra=null,Qa=null;function Xy(e){op(e,0)}function qi(e){var t=En(e);if(jh(t))return e}function Zy(e,t){if(e==="change")return t}var Zh=!1;if(Ks){var Mo;if(Ks){var Ro="oninput"in document;if(!Ro){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),Ro=typeof Tm.oninput=="function"}Mo=Ro}else Mo=!1;Zh=Mo&&(!document.documentMode||9<document.documentMode)}function zm(){Ra&&(Ra.detachEvent("onpropertychange",Jh),Qa=Ra=null)}function Jh(e){if(e.propertyName==="value"&&qi(Qa)){var t=[];Xh(t,Qa,e,Rd(e)),Ah(Xy,t)}}function Jy(e,t,r){e==="focusin"?(zm(),Ra=t,Qa=r,Ra.attachEvent("onpropertychange",Jh)):e==="focusout"&&zm()}function ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(Qa)}function tv(e,t){if(e==="click")return qi(t)}function sv(e,t){if(e==="input"||e==="change")return qi(t)}function rv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ns=typeof Object.is=="function"?Object.is:rv;function Xa(e,t){if(Ns(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!fc.call(t,a)||!Ns(e[a],t[a]))return!1}return!0}function Am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mm(e,t){var r=Am(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Am(r)}}function ep(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ep(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tp(){for(var e=window,t=xi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=xi(e.document)}return t}function Bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nv(e){var t=tp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ep(r.ownerDocument.documentElement,r)){if(n!==null&&Bd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=Mm(r,l);var i=Mm(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var av=Ks&&"documentMode"in document&&11>=document.documentMode,_n=null,Ac=null,La=null,Mc=!1;function Rm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mc||_n==null||_n!==xi(n)||(n=_n,"selectionStart"in n&&Bd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),La&&Xa(La,n)||(La=n,n=ki(Ac,"onSelect"),0<n.length&&(t=new Fd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_n)))}function Fl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cn={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},Lo={},sp={};Ks&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function Yi(e){if(Lo[e])return Lo[e];if(!Cn[e])return e;var t=Cn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sp)return Lo[e]=t[r];return e}var rp=Yi("animationend"),np=Yi("animationiteration"),ap=Yi("animationstart"),lp=Yi("transitionend"),ip=new Map,Lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){ip.set(e,t),sn(t,[e])}for(var $o=0;$o<Lm.length;$o++){var Oo=Lm[$o],lv=Oo.toLowerCase(),iv=Oo[0].toUpperCase()+Oo.slice(1);Tr(lv,"on"+iv)}Tr(rp,"onAnimationEnd");Tr(np,"onAnimationIteration");Tr(ap,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(lp,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ov=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function $m(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ly(n,t,void 0,e),e.currentTarget=null}function op(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var c=n[i],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==l&&a.isPropagationStopped())break e;$m(a,c,d),l=o}else for(i=0;i<n.length;i++){if(c=n[i],o=c.instance,d=c.currentTarget,c=c.listener,o!==l&&a.isPropagationStopped())break e;$m(a,c,d),l=o}}}if(vi)throw e=Ec,vi=!1,Ec=null,e}function Te(e,t){var r=t[Ic];r===void 0&&(r=t[Ic]=new Set);var n=e+"__bubble";r.has(n)||(cp(t,e,2,!1),r.add(n))}function Io(e,t,r){var n=0;t&&(n|=4),cp(r,e,n,t)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Za(e){if(!e[Ul]){e[Ul]=!0,gh.forEach(function(r){r!=="selectionchange"&&(ov.has(r)||Io(r,!1,e),Io(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ul]||(t[Ul]=!0,Io("selectionchange",!1,t))}}function cp(e,t,r,n){switch(Gh(t)){case 1:var a=wy;break;case 4:a=Ny;break;default:a=Id}r=a.bind(null,t,r,e),a=void 0,!Cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Do(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===a||o.nodeType===8&&o.parentNode===a))return;i=i.return}for(;c!==null;){if(i=Hr(c),i===null)return;if(o=i.tag,o===5||o===6){n=l=i;continue e}c=c.parentNode}}n=n.return}Ah(function(){var d=l,u=Rd(r),m=[];e:{var x=ip.get(e);if(x!==void 0){var b=Fd,N=e;switch(e){case"keypress":if(li(r)===0)break e;case"keydown":case"keyup":b=Iy;break;case"focusin":N="focus",b=Ao;break;case"focusout":N="blur",b=Ao;break;case"beforeblur":case"afterblur":b=Ao;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=_y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Uy;break;case rp:case np:case ap:b=Py;break;case lp:b=By;break;case"scroll":b=ky;break;case"wheel":b=Wy;break;case"copy":case"cut":case"paste":b=zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=_m}var j=(t&4)!==0,S=!j&&e==="scroll",p=j?x!==null?x+"Capture":null:x;j=[];for(var g=d,y;g!==null;){y=g;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,p!==null&&(v=Ga(g,p),v!=null&&j.push(Ja(g,v,y)))),S)break;g=g.return}0<j.length&&(x=new b(x,N,null,r,u),m.push({event:x,listeners:j}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",x&&r!==Sc&&(N=r.relatedTarget||r.fromElement)&&(Hr(N)||N[Qs]))break e;if((b||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,b?(N=r.relatedTarget||r.toElement,b=d,N=N?Hr(N):null,N!==null&&(S=rn(N),N!==S||N.tag!==5&&N.tag!==6)&&(N=null)):(b=null,N=d),b!==N)){if(j=km,v="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(j=_m,v="onPointerLeave",p="onPointerEnter",g="pointer"),S=b==null?x:En(b),y=N==null?x:En(N),x=new j(v,g+"leave",b,r,u),x.target=S,x.relatedTarget=y,v=null,Hr(u)===d&&(j=new j(p,g+"enter",N,r,u),j.target=y,j.relatedTarget=S,v=j),S=v,b&&N)t:{for(j=b,p=N,g=0,y=j;y;y=xn(y))g++;for(y=0,v=p;v;v=xn(v))y++;for(;0<g-y;)j=xn(j),g--;for(;0<y-g;)p=xn(p),y--;for(;g--;){if(j===p||p!==null&&j===p.alternate)break t;j=xn(j),p=xn(p)}j=null}else j=null;b!==null&&Om(m,x,b,j,!1),N!==null&&S!==null&&Om(m,S,N,j,!0)}}e:{if(x=d?En(d):window,b=x.nodeName&&x.nodeName.toLowerCase(),b==="select"||b==="input"&&x.type==="file")var M=Zy;else if(Pm(x))if(Zh)M=sv;else{M=ev;var L=Jy}else(b=x.nodeName)&&b.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(M=tv);if(M&&(M=M(e,d))){Xh(m,M,r,u);break e}L&&L(e,x,d),e==="focusout"&&(L=x._wrapperState)&&L.controlled&&x.type==="number"&&bc(x,"number",x.value)}switch(L=d?En(d):window,e){case"focusin":(Pm(L)||L.contentEditable==="true")&&(_n=L,Ac=d,La=null);break;case"focusout":La=Ac=_n=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,Rm(m,r,u);break;case"selectionchange":if(av)break;case"keydown":case"keyup":Rm(m,r,u)}var P;if(Vd)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Sn?Kh(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Yh&&r.locale!=="ko"&&(Sn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Sn&&(P=qh()):(hr=u,Dd="value"in hr?hr.value:hr.textContent,Sn=!0)),L=ki(d,C),0<L.length&&(C=new Sm(C,e,null,r,u),m.push({event:C,listeners:L}),P?C.data=P:(P=Qh(r),P!==null&&(C.data=P)))),(P=qy?Yy(e,r):Ky(e,r))&&(d=ki(d,"onBeforeInput"),0<d.length&&(u=new Sm("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=P))}op(m,t)})}function Ja(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ki(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Ga(e,r),l!=null&&n.unshift(Ja(e,l,a)),l=Ga(e,t),l!=null&&n.push(Ja(e,l,a))),e=e.return}return n}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Om(e,t,r,n,a){for(var l=t._reactName,i=[];r!==null&&r!==n;){var c=r,o=c.alternate,d=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&d!==null&&(c=d,a?(o=Ga(r,l),o!=null&&i.unshift(Ja(r,o,c))):a||(o=Ga(r,l),o!=null&&i.push(Ja(r,o,c)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var cv=/\r\n?/g,dv=/\u0000|\uFFFD/g;function Im(e){return(typeof e=="string"?e:""+e).replace(cv,`
`).replace(dv,"")}function Vl(e,t,r){if(t=Im(t),Im(e)!==t&&r)throw Error(H(425))}function Si(){}var Rc=null,Lc=null;function $c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oc=typeof setTimeout=="function"?setTimeout:void 0,uv=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm!="undefined"?function(e){return Dm.resolve(null).then(e).catch(fv)}:Oc;function fv(e){setTimeout(function(){throw e})}function Fo(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ka(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ka(t)}function jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),Ps="__reactFiber$"+Jn,el="__reactProps$"+Jn,Qs="__reactContainer$"+Jn,Ic="__reactEvents$"+Jn,hv="__reactListeners$"+Jn,pv="__reactHandles$"+Jn;function Hr(e){var t=e[Ps];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qs]||r[Ps]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fm(e);e!==null;){if(r=e[Ps])return r;e=Fm(e)}return t}e=r,r=e.parentNode}return null}function yl(e){return e=e[Ps]||e[Qs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function En(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Ki(e){return e[el]||null}var Dc=[],Pn=-1;function zr(e){return{current:e}}function ze(e){0>Pn||(e.current=Dc[Pn],Dc[Pn]=null,Pn--)}function Pe(e,t){Pn++,Dc[Pn]=e.current,e.current=t}var Pr={},_t=zr(Pr),Vt=zr(!1),Xr=Pr;function Vn(e,t){var r=e.type.contextTypes;if(!r)return Pr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bt(e){return e=e.childContextTypes,e!=null}function _i(){ze(Vt),ze(_t)}function Um(e,t,r){if(_t.current!==Pr)throw Error(H(168));Pe(_t,t),Pe(Vt,r)}function dp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(H(108,Jx(e)||"Unknown",a));return Fe({},r,n)}function Ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,Xr=_t.current,Pe(_t,e),Pe(Vt,Vt.current),!0}function Vm(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=dp(e,t,Xr),n.__reactInternalMemoizedMergedChildContext=e,ze(Vt),ze(_t),Pe(_t,e)):ze(Vt),Pe(Vt,r)}var Ws=null,Qi=!1,Uo=!1;function up(e){Ws===null?Ws=[e]:Ws.push(e)}function gv(e){Qi=!0,up(e)}function Ar(){if(!Uo&&Ws!==null){Uo=!0;var e=0,t=Se;try{var r=Ws;for(Se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ws=null,Qi=!1}catch(a){throw Ws!==null&&(Ws=Ws.slice(e+1)),$h(Ld,Ar),a}finally{Se=t,Uo=!1}}return null}var Tn=[],zn=0,Ei=null,Pi=0,ns=[],as=0,Zr=null,Gs=1,qs="";function Ur(e,t){Tn[zn++]=Pi,Tn[zn++]=Ei,Ei=e,Pi=t}function mp(e,t,r){ns[as++]=Gs,ns[as++]=qs,ns[as++]=Zr,Zr=e;var n=Gs;e=qs;var a=32-js(n)-1;n&=~(1<<a),r+=1;var l=32-js(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Gs=1<<32-js(t)+a|r<<a|n,qs=l+e}else Gs=1<<l|r<<a|n,qs=e}function Hd(e){e.return!==null&&(Ur(e,1),mp(e,1,0))}function Wd(e){for(;e===Ei;)Ei=Tn[--zn],Tn[zn]=null,Pi=Tn[--zn],Tn[zn]=null;for(;e===Zr;)Zr=ns[--as],ns[as]=null,qs=ns[--as],ns[as]=null,Gs=ns[--as],ns[as]=null}var Zt=null,Qt=null,Re=!1,bs=null;function fp(e,t){var r=is(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zt=e,Qt=jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zr!==null?{id:Gs,overflow:qs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=is(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zt=e,Qt=null,!0):!1;default:return!1}}function Fc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uc(e){if(Re){var t=Qt;if(t){var r=t;if(!Bm(e,t)){if(Fc(e))throw Error(H(418));t=jr(r.nextSibling);var n=Zt;t&&Bm(e,t)?fp(n,r):(e.flags=e.flags&-4097|2,Re=!1,Zt=e)}}else{if(Fc(e))throw Error(H(418));e.flags=e.flags&-4097|2,Re=!1,Zt=e}}}function Hm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function Bl(e){if(e!==Zt)return!1;if(!Re)return Hm(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$c(e.type,e.memoizedProps)),t&&(t=Qt)){if(Fc(e))throw hp(),Error(H(418));for(;t;)fp(e,t),t=jr(t.nextSibling)}if(Hm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qt=jr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Zt?jr(e.stateNode.nextSibling):null;return!0}function hp(){for(var e=Qt;e;)e=jr(e.nextSibling)}function Bn(){Qt=Zt=null,Re=!1}function Gd(e){bs===null?bs=[e]:bs.push(e)}var xv=tr.ReactCurrentBatchConfig;function ba(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var c=a.refs;i===null?delete c[l]:c[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function Hl(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wm(e){var t=e._init;return t(e._payload)}function pp(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function a(p,g){return p=Sr(p,g),p.index=0,p.sibling=null,p}function l(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function c(p,g,y,v){return g===null||g.tag!==6?(g=Yo(y,p.mode,v),g.return=p,g):(g=a(g,y),g.return=p,g)}function o(p,g,y,v){var M=y.type;return M===kn?u(p,g,y.props.children,v,y.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===lr&&Wm(M)===g.type)?(v=a(g,y.props),v.ref=ba(p,g,y),v.return=p,v):(v=fi(y.type,y.key,y.props,null,p.mode,v),v.ref=ba(p,g,y),v.return=p,v)}function d(p,g,y,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ko(y,p.mode,v),g.return=p,g):(g=a(g,y.children||[]),g.return=p,g)}function u(p,g,y,v,M){return g===null||g.tag!==7?(g=Kr(y,p.mode,v,M),g.return=p,g):(g=a(g,y),g.return=p,g)}function m(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Yo(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ml:return y=fi(g.type,g.key,g.props,null,p.mode,y),y.ref=ba(p,null,g),y.return=p,y;case Nn:return g=Ko(g,p.mode,y),g.return=p,g;case lr:var v=g._init;return m(p,v(g._payload),y)}if(Ca(g)||pa(g))return g=Kr(g,p.mode,y,null),g.return=p,g;Hl(p,g)}return null}function x(p,g,y,v){var M=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:c(p,g,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ml:return y.key===M?o(p,g,y,v):null;case Nn:return y.key===M?d(p,g,y,v):null;case lr:return M=y._init,x(p,g,M(y._payload),v)}if(Ca(y)||pa(y))return M!==null?null:u(p,g,y,v,null);Hl(p,y)}return null}function b(p,g,y,v,M){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(y)||null,c(g,p,""+v,M);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ml:return p=p.get(v.key===null?y:v.key)||null,o(g,p,v,M);case Nn:return p=p.get(v.key===null?y:v.key)||null,d(g,p,v,M);case lr:var L=v._init;return b(p,g,y,L(v._payload),M)}if(Ca(v)||pa(v))return p=p.get(y)||null,u(g,p,v,M,null);Hl(g,v)}return null}function N(p,g,y,v){for(var M=null,L=null,P=g,C=g=0,X=null;P!==null&&C<y.length;C++){P.index>C?(X=P,P=null):X=P.sibling;var $=x(p,P,y[C],v);if($===null){P===null&&(P=X);break}e&&P&&$.alternate===null&&t(p,P),g=l($,g,C),L===null?M=$:L.sibling=$,L=$,P=X}if(C===y.length)return r(p,P),Re&&Ur(p,C),M;if(P===null){for(;C<y.length;C++)P=m(p,y[C],v),P!==null&&(g=l(P,g,C),L===null?M=P:L.sibling=P,L=P);return Re&&Ur(p,C),M}for(P=n(p,P);C<y.length;C++)X=b(P,p,C,y[C],v),X!==null&&(e&&X.alternate!==null&&P.delete(X.key===null?C:X.key),g=l(X,g,C),L===null?M=X:L.sibling=X,L=X);return e&&P.forEach(function(de){return t(p,de)}),Re&&Ur(p,C),M}function j(p,g,y,v){var M=pa(y);if(typeof M!="function")throw Error(H(150));if(y=M.call(y),y==null)throw Error(H(151));for(var L=M=null,P=g,C=g=0,X=null,$=y.next();P!==null&&!$.done;C++,$=y.next()){P.index>C?(X=P,P=null):X=P.sibling;var de=x(p,P,$.value,v);if(de===null){P===null&&(P=X);break}e&&P&&de.alternate===null&&t(p,P),g=l(de,g,C),L===null?M=de:L.sibling=de,L=de,P=X}if($.done)return r(p,P),Re&&Ur(p,C),M;if(P===null){for(;!$.done;C++,$=y.next())$=m(p,$.value,v),$!==null&&(g=l($,g,C),L===null?M=$:L.sibling=$,L=$);return Re&&Ur(p,C),M}for(P=n(p,P);!$.done;C++,$=y.next())$=b(P,p,C,$.value,v),$!==null&&(e&&$.alternate!==null&&P.delete($.key===null?C:$.key),g=l($,g,C),L===null?M=$:L.sibling=$,L=$);return e&&P.forEach(function(he){return t(p,he)}),Re&&Ur(p,C),M}function S(p,g,y,v){if(typeof y=="object"&&y!==null&&y.type===kn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ml:e:{for(var M=y.key,L=g;L!==null;){if(L.key===M){if(M=y.type,M===kn){if(L.tag===7){r(p,L.sibling),g=a(L,y.props.children),g.return=p,p=g;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===lr&&Wm(M)===L.type){r(p,L.sibling),g=a(L,y.props),g.ref=ba(p,L,y),g.return=p,p=g;break e}r(p,L);break}else t(p,L);L=L.sibling}y.type===kn?(g=Kr(y.props.children,p.mode,v,y.key),g.return=p,p=g):(v=fi(y.type,y.key,y.props,null,p.mode,v),v.ref=ba(p,g,y),v.return=p,p=v)}return i(p);case Nn:e:{for(L=y.key;g!==null;){if(g.key===L)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(p,g.sibling),g=a(g,y.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=Ko(y,p.mode,v),g.return=p,p=g}return i(p);case lr:return L=y._init,S(p,g,L(y._payload),v)}if(Ca(y))return N(p,g,y,v);if(pa(y))return j(p,g,y,v);Hl(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(p,g.sibling),g=a(g,y),g.return=p,p=g):(r(p,g),g=Yo(y,p.mode,v),g.return=p,p=g),i(p)):r(p,g)}return S}var Hn=pp(!0),gp=pp(!1),Ti=zr(null),zi=null,An=null,qd=null;function Yd(){qd=An=zi=null}function Kd(e){var t=Ti.current;ze(Ti),e._currentValue=t}function Vc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Dn(e,t){zi=e,qd=An=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function ds(e){var t=e._currentValue;if(qd!==e)if(e={context:e,memoizedValue:t,next:null},An===null){if(zi===null)throw Error(H(308));An=e,zi.dependencies={lanes:0,firstContext:e}}else An=An.next=e;return t}var Wr=null;function Qd(e){Wr===null?Wr=[e]:Wr.push(e)}function xp(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Qd(t)):(r.next=a.next,a.next=r),t.interleaved=r,Xs(e,n)}function Xs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ir=!1;function Xd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ys(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Xs(e,r)}return a=n.interleaved,a===null?(t.next=t,Qd(n)):(t.next=a.next,a.next=t),n.interleaved=t,Xs(e,r)}function ii(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$d(e,r)}}function Gm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ai(e,t,r,n){var a=e.updateQueue;ir=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var o=c,d=o.next;o.next=null,i===null?l=d:i.next=d,i=o;var u=e.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==i&&(c===null?u.firstBaseUpdate=d:c.next=d,u.lastBaseUpdate=o))}if(l!==null){var m=a.baseState;i=0,u=d=o=null,c=l;do{var x=c.lane,b=c.eventTime;if((n&x)===x){u!==null&&(u=u.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=e,j=c;switch(x=t,b=r,j.tag){case 1:if(N=j.payload,typeof N=="function"){m=N.call(b,m,x);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,x=typeof N=="function"?N.call(b,m,x):N,x==null)break e;m=Fe({},m,x);break e;case 2:ir=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[c]:x.push(c))}else b={eventTime:b,lane:x,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(d=u=b,o=m):u=u.next=b,i|=x;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;x=c,c=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(u===null&&(o=m),a.baseState=o,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);en|=i,e.lanes=i,e.memoizedState=m}}function qm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(H(191,a));a.call(n)}}}var vl={},Ms=zr(vl),tl=zr(vl),sl=zr(vl);function Gr(e){if(e===vl)throw Error(H(174));return e}function Zd(e,t){switch(Pe(sl,t),Pe(tl,e),Pe(Ms,vl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wc(t,e)}ze(Ms),Pe(Ms,t)}function Wn(){ze(Ms),ze(tl),ze(sl)}function vp(e){Gr(sl.current);var t=Gr(Ms.current),r=wc(t,e.type);t!==r&&(Pe(tl,e),Pe(Ms,r))}function Jd(e){tl.current===e&&(ze(Ms),ze(tl))}var Ie=zr(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=[];function eu(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var oi=tr.ReactCurrentDispatcher,Bo=tr.ReactCurrentBatchConfig,Jr=0,De=null,tt=null,lt=null,Ri=!1,$a=!1,rl=0,yv=0;function jt(){throw Error(H(321))}function tu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ns(e[r],t[r]))return!1;return!0}function su(e,t,r,n,a,l){if(Jr=l,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=e===null||e.memoizedState===null?wv:Nv,e=r(n,a),$a){l=0;do{if($a=!1,rl=0,25<=l)throw Error(H(301));l+=1,lt=tt=null,t.updateQueue=null,oi.current=kv,e=r(n,a)}while($a)}if(oi.current=Li,t=tt!==null&&tt.next!==null,Jr=0,lt=tt=De=null,Ri=!1,t)throw Error(H(300));return e}function ru(){var e=rl!==0;return rl=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?De.memoizedState=lt=e:lt=lt.next=e,lt}function us(){if(tt===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=lt===null?De.memoizedState:lt.next;if(t!==null)lt=t,tt=e;else{if(e===null)throw Error(H(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},lt===null?De.memoizedState=lt=e:lt=lt.next=e}return lt}function nl(e,t){return typeof t=="function"?t(e):t}function Ho(e){var t=us(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=tt,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var c=i=null,o=null,d=l;do{var u=d.lane;if((Jr&u)===u)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=m,i=n):o=o.next=m,De.lanes|=u,en|=u}d=d.next}while(d!==null&&d!==l);o===null?i=n:o.next=c,Ns(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,De.lanes|=l,en|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wo(e){var t=us(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Ns(l,t.memoizedState)||(Ut=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function bp(){}function jp(e,t){var r=De,n=us(),a=t(),l=!Ns(n.memoizedState,a);if(l&&(n.memoizedState=a,Ut=!0),n=n.queue,nu(kp.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,al(9,Np.bind(null,r,n,a,t),void 0,null),ot===null)throw Error(H(349));Jr&30||wp(r,t,a)}return a}function wp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Np(e,t,r,n){t.value=r,t.getSnapshot=n,Sp(t)&&_p(e)}function kp(e,t,r){return r(function(){Sp(t)&&_p(e)})}function Sp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ns(e,r)}catch(n){return!0}}function _p(e){var t=Xs(e,1);t!==null&&ws(t,e,1,-1)}function Ym(e){var t=Es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:e},t.queue=e,e=e.dispatch=jv.bind(null,De,e),[t.memoizedState,e]}function al(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cp(){return us().memoizedState}function ci(e,t,r,n){var a=Es();De.flags|=e,a.memoizedState=al(1|t,r,void 0,n===void 0?null:n)}function Xi(e,t,r,n){var a=us();n=n===void 0?null:n;var l=void 0;if(tt!==null){var i=tt.memoizedState;if(l=i.destroy,n!==null&&tu(n,i.deps)){a.memoizedState=al(t,r,l,n);return}}De.flags|=e,a.memoizedState=al(1|t,r,l,n)}function Km(e,t){return ci(8390656,8,e,t)}function nu(e,t){return Xi(2048,8,e,t)}function Ep(e,t){return Xi(4,2,e,t)}function Pp(e,t){return Xi(4,4,e,t)}function Tp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zp(e,t,r){return r=r!=null?r.concat([e]):null,Xi(4,4,Tp.bind(null,t,e),r)}function au(){}function Ap(e,t){var r=us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Mp(e,t){var r=us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Rp(e,t,r){return Jr&21?(Ns(r,t)||(r=Dh(),De.lanes|=r,en|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function vv(e,t){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var n=Bo.transition;Bo.transition={};try{e(!1),t()}finally{Se=r,Bo.transition=n}}function Lp(){return us().memoizedState}function bv(e,t,r){var n=kr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$p(e))Op(t,r);else if(r=xp(e,t,r,n),r!==null){var a=Lt();ws(r,e,n,a),Ip(r,t,n)}}function jv(e,t,r){var n=kr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($p(e))Op(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,c=l(i,r);if(a.hasEagerState=!0,a.eagerState=c,Ns(c,i)){var o=t.interleaved;o===null?(a.next=a,Qd(t)):(a.next=o.next,o.next=a),t.interleaved=a;return}}catch(d){}finally{}r=xp(e,t,a,n),r!==null&&(a=Lt(),ws(r,e,n,a),Ip(r,t,n))}}function $p(e){var t=e.alternate;return e===De||t!==null&&t===De}function Op(e,t){$a=Ri=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ip(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$d(e,r)}}var Li={readContext:ds,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},wv={readContext:ds,useCallback:function(e,t){return Es().memoizedState=[e,t===void 0?null:t],e},useContext:ds,useEffect:Km,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ci(4194308,4,Tp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return ci(4,2,e,t)},useMemo:function(e,t){var r=Es();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Es();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=bv.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=Es();return e={current:e},t.memoizedState=e},useState:Ym,useDebugValue:au,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=Ym(!1),t=e[0];return e=vv.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,a=Es();if(Re){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),ot===null)throw Error(H(349));Jr&30||wp(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Km(kp.bind(null,n,l,e),[e]),n.flags|=2048,al(9,Np.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=Es(),t=ot.identifierPrefix;if(Re){var r=qs,n=Gs;r=(n&~(1<<32-js(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nv={readContext:ds,useCallback:Ap,useContext:ds,useEffect:nu,useImperativeHandle:zp,useInsertionEffect:Ep,useLayoutEffect:Pp,useMemo:Mp,useReducer:Ho,useRef:Cp,useState:function(){return Ho(nl)},useDebugValue:au,useDeferredValue:function(e){var t=us();return Rp(t,tt.memoizedState,e)},useTransition:function(){var e=Ho(nl)[0],t=us().memoizedState;return[e,t]},useMutableSource:bp,useSyncExternalStore:jp,useId:Lp,unstable_isNewReconciler:!1},kv={readContext:ds,useCallback:Ap,useContext:ds,useEffect:nu,useImperativeHandle:zp,useInsertionEffect:Ep,useLayoutEffect:Pp,useMemo:Mp,useReducer:Wo,useRef:Cp,useState:function(){return Wo(nl)},useDebugValue:au,useDeferredValue:function(e){var t=us();return tt===null?t.memoizedState=e:Rp(t,tt.memoizedState,e)},useTransition:function(){var e=Wo(nl)[0],t=us().memoizedState;return[e,t]},useMutableSource:bp,useSyncExternalStore:jp,useId:Lp,unstable_isNewReconciler:!1};function ys(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Zi={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Lt(),a=kr(e),l=Ys(n,a);l.payload=t,r!=null&&(l.callback=r),t=wr(e,l,a),t!==null&&(ws(t,e,a,n),ii(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Lt(),a=kr(e),l=Ys(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=wr(e,l,a),t!==null&&(ws(t,e,a,n),ii(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lt(),n=kr(e),a=Ys(r,n);a.tag=2,t!=null&&(a.callback=t),t=wr(e,a,n),t!==null&&(ws(t,e,n,r),ii(t,e,n))}};function Qm(e,t,r,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!Xa(r,n)||!Xa(a,l):!0}function Dp(e,t,r){var n=!1,a=Pr,l=t.contextType;return typeof l=="object"&&l!==null?l=ds(l):(a=Bt(t)?Xr:_t.current,n=t.contextTypes,l=(n=n!=null)?Vn(e,a):Pr),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Xm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Zi.enqueueReplaceState(t,t.state,null)}function Hc(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Xd(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=ds(l):(l=Bt(t)?Xr:_t.current,a.context=Vn(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Bc(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Zi.enqueueReplaceState(a,a.state,null),Ai(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Gn(e,t){try{var r="",n=t;do r+=Zx(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Go(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function Wc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Sv=typeof WeakMap=="function"?WeakMap:Map;function Fp(e,t,r){r=Ys(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Oi||(Oi=!0,td=n),Wc(e,t)},r}function Up(e,t,r){r=Ys(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Wc(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Wc(e,t),typeof n!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Zm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Sv;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Dv.bind(null,e,t,r),t.then(e,e))}function Jm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ef(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ys(-1,1),t.tag=2,wr(r,t,1))),r.lanes|=1),e)}var _v=tr.ReactCurrentOwner,Ut=!1;function zt(e,t,r,n){t.child=e===null?gp(t,null,r,n):Hn(t,e.child,r,n)}function tf(e,t,r,n,a){r=r.render;var l=t.ref;return Dn(t,a),n=su(e,t,r,n,l,a),r=ru(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a)):(Re&&r&&Hd(t),t.flags|=1,zt(e,t,n,a),t.child)}function sf(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!fu(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Vp(e,t,l,n,a)):(e=fi(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Xa,r(i,n)&&e.ref===t.ref)return Zs(e,t,a)}return t.flags|=1,e=Sr(l,n),e.ref=t.ref,e.return=t,t.child=e}function Vp(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(Xa(l,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,Zs(e,t,a)}return Gc(e,t,r,n,a)}function Bp(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Rn,Yt),Yt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(Rn,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,Pe(Rn,Yt),Yt|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,Pe(Rn,Yt),Yt|=n;return zt(e,t,a,r),t.child}function Hp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gc(e,t,r,n,a){var l=Bt(r)?Xr:_t.current;return l=Vn(t,l),Dn(t,a),r=su(e,t,r,n,l,a),n=ru(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a)):(Re&&n&&Hd(t),t.flags|=1,zt(e,t,r,a),t.child)}function rf(e,t,r,n,a){if(Bt(r)){var l=!0;Ci(t)}else l=!1;if(Dn(t,a),t.stateNode===null)di(e,t),Dp(t,r,n),Hc(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=ds(d):(d=Bt(r)?Xr:_t.current,d=Vn(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==n||o!==d)&&Xm(t,i,n,d),ir=!1;var x=t.memoizedState;i.state=x,Ai(t,n,i,a),o=t.memoizedState,c!==n||x!==o||Vt.current||ir?(typeof u=="function"&&(Bc(t,r,u,n),o=t.memoizedState),(c=ir||Qm(t,r,c,n,x,o,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),i.props=n,i.state=o,i.context=d,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,yp(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:ys(t.type,c),i.props=d,m=t.pendingProps,x=i.context,o=r.contextType,typeof o=="object"&&o!==null?o=ds(o):(o=Bt(r)?Xr:_t.current,o=Vn(t,o));var b=r.getDerivedStateFromProps;(u=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==m||x!==o)&&Xm(t,i,n,o),ir=!1,x=t.memoizedState,i.state=x,Ai(t,n,i,a);var N=t.memoizedState;c!==m||x!==N||Vt.current||ir?(typeof b=="function"&&(Bc(t,r,b,n),N=t.memoizedState),(d=ir||Qm(t,r,d,n,x,N,o)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,N,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,N,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),i.props=n,i.state=N,i.context=o,n=d):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return qc(e,t,r,n,l,a)}function qc(e,t,r,n,a,l){Hp(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Vm(t,r,!1),Zs(e,t,l);n=t.stateNode,_v.current=t;var c=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Hn(t,e.child,null,l),t.child=Hn(t,null,c,l)):zt(e,t,c,l),t.memoizedState=n.state,a&&Vm(t,r,!0),t.child}function Wp(e){var t=e.stateNode;t.pendingContext?Um(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Um(e,t.context,!1),Zd(e,t.containerInfo)}function nf(e,t,r,n,a){return Bn(),Gd(a),t.flags|=256,zt(e,t,r,n),t.child}var Yc={dehydrated:null,treeContext:null,retryLane:0};function Kc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gp(e,t,r){var n=t.pendingProps,a=Ie.current,l=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Pe(Ie,a&1),e===null)return Uc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=to(i,n,0,null),e=Kr(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Kc(r),t.memoizedState=Yc,e):lu(t,i));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return Cv(e,t,i,n,c,a,r);if(l){l=n.fallback,i=t.mode,a=e.child,c=a.sibling;var o={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=Sr(a,o),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=Sr(c,l):(l=Kr(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?Kc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=Yc,n}return l=e.child,e=l.sibling,n=Sr(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lu(e,t){return t=to({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wl(e,t,r,n){return n!==null&&Gd(n),Hn(t,e.child,null,r),e=lu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cv(e,t,r,n,a,l,i){if(r)return t.flags&256?(t.flags&=-257,n=Go(Error(H(422))),Wl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=to({mode:"visible",children:n.children},a,0,null),l=Kr(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Hn(t,e.child,null,i),t.child.memoizedState=Kc(i),t.memoizedState=Yc,l);if(!(t.mode&1))return Wl(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,l=Error(H(419)),n=Go(l,n,void 0),Wl(e,t,i,n)}if(c=(i&e.childLanes)!==0,Ut||c){if(n=ot,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Xs(e,a),ws(n,e,a,-1))}return mu(),n=Go(Error(H(421))),Wl(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Fv.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Qt=jr(a.nextSibling),Zt=t,Re=!0,bs=null,e!==null&&(ns[as++]=Gs,ns[as++]=qs,ns[as++]=Zr,Gs=e.id,qs=e.overflow,Zr=t),t=lu(t,n.children),t.flags|=4096,t)}function af(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vc(e.return,t,r)}function qo(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function qp(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(zt(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&af(e,r,t);else if(e.tag===19)af(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pe(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Mi(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),qo(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Mi(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}qo(t,!0,r,null,l);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function di(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),en|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=Sr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Sr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ev(e,t,r){switch(t.tag){case 3:Wp(t),Bn();break;case 5:vp(t);break;case 1:Bt(t.type)&&Ci(t);break;case 4:Zd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Pe(Ti,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pe(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?Gp(e,t,r):(Pe(Ie,Ie.current&1),e=Zs(e,t,r),e!==null?e.sibling:null);Pe(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return qp(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pe(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,Bp(e,t,r)}return Zs(e,t,r)}var Yp,Qc,Kp,Qp;Yp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qc=function(){};Kp=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Gr(Ms.current);var l=null;switch(r){case"input":a=yc(e,a),n=yc(e,n),l=[];break;case"select":a=Fe({},a,{value:void 0}),n=Fe({},n,{value:void 0}),l=[];break;case"textarea":a=jc(e,a),n=jc(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Si)}Nc(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var c=a[d];for(i in c)c.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ha.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var o=n[d];if(c=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(r||(r={}),r[i]=o[i])}else r||(l||(l=[]),l.push(d,r)),r=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&Te("scroll",e),l||c===o||(l=[])):(l=l||[]).push(d,o))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Qp=function(e,t,r,n){r!==n&&(t.flags|=4)};function ja(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Pv(e,t,r){var n=t.pendingProps;switch(Wd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Bt(t.type)&&_i(),wt(t),null;case 3:return n=t.stateNode,Wn(),ze(Vt),ze(_t),eu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bs!==null&&(nd(bs),bs=null))),Qc(e,t),wt(t),null;case 5:Jd(t);var a=Gr(sl.current);if(r=t.type,e!==null&&t.stateNode!=null)Kp(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return wt(t),null}if(e=Gr(Ms.current),Bl(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[Ps]=t,n[el]=l,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(a=0;a<Pa.length;a++)Te(Pa[a],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":hm(n,l),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Te("invalid",n);break;case"textarea":gm(n,l),Te("invalid",n)}Nc(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?n.textContent!==c&&(l.suppressHydrationWarning!==!0&&Vl(n.textContent,c,e),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Vl(n.textContent,c,e),a=["children",""+c]):Ha.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&Te("scroll",n)}switch(r){case"input":Rl(n),pm(n,l,!0);break;case"textarea":Rl(n),xm(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Si)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ps]=t,e[el]=n,Yp(e,t,!1,!1),t.stateNode=e;e:{switch(i=kc(r,n),r){case"dialog":Te("cancel",e),Te("close",e),a=n;break;case"iframe":case"object":case"embed":Te("load",e),a=n;break;case"video":case"audio":for(a=0;a<Pa.length;a++)Te(Pa[a],e);a=n;break;case"source":Te("error",e),a=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),a=n;break;case"details":Te("toggle",e),a=n;break;case"input":hm(e,n),a=yc(e,n),Te("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Fe({},n,{value:void 0}),Te("invalid",e);break;case"textarea":gm(e,n),a=jc(e,n),Te("invalid",e);break;default:a=n}Nc(r,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?Ch(e,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Sh(e,o)):l==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Wa(e,o):typeof o=="number"&&Wa(e,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ha.hasOwnProperty(l)?o!=null&&l==="onScroll"&&Te("scroll",e):o!=null&&Td(e,l,o,i))}switch(r){case"input":Rl(e),pm(e,n,!1);break;case"textarea":Rl(e),xm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Er(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Ln(e,!!n.multiple,l,!1):n.defaultValue!=null&&Ln(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Si)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Qp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=Gr(sl.current),Gr(Ms.current),Bl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ps]=t,(l=n.nodeValue!==r)&&(e=Zt,e!==null))switch(e.tag){case 3:Vl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vl(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ps]=t,t.stateNode=n}return wt(t),null;case 13:if(ze(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Qt!==null&&t.mode&1&&!(t.flags&128))hp(),Bn(),t.flags|=98560,l=!1;else if(l=Bl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(H(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(H(317));l[Ps]=t}else Bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),l=!1}else bs!==null&&(nd(bs),bs=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?rt===0&&(rt=3):mu())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Wn(),Qc(e,t),e===null&&Za(t.stateNode.containerInfo),wt(t),null;case 10:return Kd(t.type._context),wt(t),null;case 17:return Bt(t.type)&&_i(),wt(t),null;case 19:if(ze(Ie),l=t.memoizedState,l===null)return wt(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)ja(l,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Mi(e),i!==null){for(t.flags|=128,ja(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pe(Ie,Ie.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ge()>qn&&(t.flags|=128,n=!0,ja(l,!1),t.lanes=4194304)}else{if(!n)if(e=Mi(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ja(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Re)return wt(t),null}else 2*Ge()-l.renderingStartTime>qn&&r!==1073741824&&(t.flags|=128,n=!0,ja(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ge(),t.sibling=null,r=Ie.current,Pe(Ie,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return uu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Tv(e,t){switch(Wd(t),t.tag){case 1:return Bt(t.type)&&_i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(),ze(Vt),ze(_t),eu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jd(t),null;case 13:if(ze(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ie),null;case 4:return Wn(),null;case 10:return Kd(t.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var Gl=!1,kt=!1,zv=typeof WeakSet=="function"?WeakSet:Set,J=null;function Mn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Xc(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var lf=!1;function Av(e,t){if(Rc=wi,e=tp(),Bd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch(v){r=null;break e}var i=0,c=-1,o=-1,d=0,u=0,m=e,x=null;t:for(;;){for(var b;m!==r||a!==0&&m.nodeType!==3||(c=i+a),m!==l||n!==0&&m.nodeType!==3||(o=i+n),m.nodeType===3&&(i+=m.nodeValue.length),(b=m.firstChild)!==null;)x=m,m=b;for(;;){if(m===e)break t;if(x===r&&++d===a&&(c=i),x===l&&++u===n&&(o=i),(b=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=b}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lc={focusedElem:e,selectionRange:r},wi=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,S=N.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?j:ys(t.type,j),S);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(v){Ve(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return N=lf,lf=!1,N}function Oa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Xc(t,r,l)}a=a.next}while(a!==n)}}function Ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Zc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Xp(e){var t=e.alternate;t!==null&&(e.alternate=null,Xp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ps],delete t[el],delete t[Ic],delete t[hv],delete t[pv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zp(e){return e.tag===5||e.tag===3||e.tag===4}function of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Si));else if(n!==4&&(e=e.child,e!==null))for(Jc(e,t,r),e=e.sibling;e!==null;)Jc(e,t,r),e=e.sibling}function ed(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ed(e,t,r),e=e.sibling;e!==null;)ed(e,t,r),e=e.sibling}var ht=null,vs=!1;function nr(e,t,r){for(r=r.child;r!==null;)Jp(e,t,r),r=r.sibling}function Jp(e,t,r){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(Wi,r)}catch(c){}switch(r.tag){case 5:kt||Mn(r,t);case 6:var n=ht,a=vs;ht=null,nr(e,t,r),ht=n,vs=a,ht!==null&&(vs?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(vs?(e=ht,r=r.stateNode,e.nodeType===8?Fo(e.parentNode,r):e.nodeType===1&&Fo(e,r),Ka(e)):Fo(ht,r.stateNode));break;case 4:n=ht,a=vs,ht=r.stateNode.containerInfo,vs=!0,nr(e,t,r),ht=n,vs=a;break;case 0:case 11:case 14:case 15:if(!kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Xc(r,t,i),a=a.next}while(a!==n)}nr(e,t,r);break;case 1:if(!kt&&(Mn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Ve(r,t,c)}nr(e,t,r);break;case 21:nr(e,t,r);break;case 22:r.mode&1?(kt=(n=kt)||r.memoizedState!==null,nr(e,t,r),kt=n):nr(e,t,r);break;default:nr(e,t,r)}}function cf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zv),t.forEach(function(n){var a=Uv.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function xs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:ht=c.stateNode,vs=!1;break e;case 3:ht=c.stateNode.containerInfo,vs=!0;break e;case 4:ht=c.stateNode.containerInfo,vs=!0;break e}c=c.return}if(ht===null)throw Error(H(160));Jp(l,i,a),ht=null,vs=!1;var o=a.alternate;o!==null&&(o.return=null),a.return=null}catch(d){Ve(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e0(t,e),t=t.sibling}function e0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xs(t,e),Cs(e),n&4){try{Oa(3,e,e.return),Ji(3,e)}catch(j){Ve(e,e.return,j)}try{Oa(5,e,e.return)}catch(j){Ve(e,e.return,j)}}break;case 1:xs(t,e),Cs(e),n&512&&r!==null&&Mn(r,r.return);break;case 5:if(xs(t,e),Cs(e),n&512&&r!==null&&Mn(r,r.return),e.flags&32){var a=e.stateNode;try{Wa(a,"")}catch(j){Ve(e,e.return,j)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&wh(a,l),kc(c,i);var d=kc(c,l);for(i=0;i<o.length;i+=2){var u=o[i],m=o[i+1];u==="style"?Ch(a,m):u==="dangerouslySetInnerHTML"?Sh(a,m):u==="children"?Wa(a,m):Td(a,u,m,d)}switch(c){case"input":vc(a,l);break;case"textarea":Nh(a,l);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?Ln(a,!!l.multiple,b,!1):x!==!!l.multiple&&(l.defaultValue!=null?Ln(a,!!l.multiple,l.defaultValue,!0):Ln(a,!!l.multiple,l.multiple?[]:"",!1))}a[el]=l}catch(j){Ve(e,e.return,j)}}break;case 6:if(xs(t,e),Cs(e),n&4){if(e.stateNode===null)throw Error(H(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(j){Ve(e,e.return,j)}}break;case 3:if(xs(t,e),Cs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ka(t.containerInfo)}catch(j){Ve(e,e.return,j)}break;case 4:xs(t,e),Cs(e);break;case 13:xs(t,e),Cs(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(cu=Ge())),n&4&&cf(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(kt=(d=kt)||u,xs(t,e),kt=d):xs(t,e),Cs(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(J=e,u=e.child;u!==null;){for(m=J=u;J!==null;){switch(x=J,b=x.child,x.tag){case 0:case 11:case 14:case 15:Oa(4,x,x.return);break;case 1:Mn(x,x.return);var N=x.stateNode;if(typeof N.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(j){Ve(n,r,j)}}break;case 5:Mn(x,x.return);break;case 22:if(x.memoizedState!==null){uf(m);continue}}b!==null?(b.return=x,J=b):uf(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=m.stateNode,o=m.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=_h("display",i))}catch(j){Ve(e,e.return,j)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(j){Ve(e,e.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xs(t,e),Cs(e),n&4&&cf(e);break;case 21:break;default:xs(t,e),Cs(e)}}function Cs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zp(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Wa(a,""),n.flags&=-33);var l=of(e);ed(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,c=of(e);Jc(e,c,i);break;default:throw Error(H(161))}}catch(o){Ve(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mv(e,t,r){J=e,t0(e)}function t0(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var a=J,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Gl;if(!i){var c=a.alternate,o=c!==null&&c.memoizedState!==null||kt;c=Gl;var d=kt;if(Gl=i,(kt=o)&&!d)for(J=a;J!==null;)i=J,o=i.child,i.tag===22&&i.memoizedState!==null?mf(a):o!==null?(o.return=i,J=o):mf(a);for(;l!==null;)J=l,t0(l),l=l.sibling;J=a,Gl=c,kt=d}df(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,J=l):df(e)}}function df(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||Ji(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!kt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ys(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&qm(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qm(t,i,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Ka(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}kt||t.flags&512&&Zc(t)}catch(x){Ve(t,t.return,x)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function uf(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function mf(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ji(4,t)}catch(o){Ve(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(o){Ve(t,a,o)}}var l=t.return;try{Zc(t)}catch(o){Ve(t,l,o)}break;case 5:var i=t.return;try{Zc(t)}catch(o){Ve(t,i,o)}}}catch(o){Ve(t,t.return,o)}if(t===e){J=null;break}var c=t.sibling;if(c!==null){c.return=t.return,J=c;break}J=t.return}}var Rv=Math.ceil,$i=tr.ReactCurrentDispatcher,iu=tr.ReactCurrentOwner,cs=tr.ReactCurrentBatchConfig,ke=0,ot=null,Qe=null,pt=0,Yt=0,Rn=zr(0),rt=0,ll=null,en=0,eo=0,ou=0,Ia=null,Ft=null,cu=0,qn=1/0,Bs=null,Oi=!1,td=null,Nr=null,ql=!1,pr=null,Ii=0,Da=0,sd=null,ui=-1,mi=0;function Lt(){return ke&6?Ge():ui!==-1?ui:ui=Ge()}function kr(e){return e.mode&1?ke&2&&pt!==0?pt&-pt:xv.transition!==null?(mi===0&&(mi=Dh()),mi):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Gh(e.type)),e):1}function ws(e,t,r,n){if(50<Da)throw Da=0,sd=null,Error(H(185));gl(e,r,n),(!(ke&2)||e!==ot)&&(e===ot&&(!(ke&2)&&(eo|=r),rt===4&&dr(e,pt)),Ht(e,n),r===1&&ke===0&&!(t.mode&1)&&(qn=Ge()+500,Qi&&Ar()))}function Ht(e,t){var r=e.callbackNode;xy(e,t);var n=ji(e,e===ot?pt:0);if(n===0)r!==null&&bm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bm(r),t===1)e.tag===0?gv(ff.bind(null,e)):up(ff.bind(null,e)),mv(function(){!(ke&6)&&Ar()}),r=null;else{switch(Fh(n)){case 1:r=Ld;break;case 4:r=Oh;break;case 16:r=bi;break;case 536870912:r=Ih;break;default:r=bi}r=c0(r,s0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function s0(e,t){if(ui=-1,mi=0,ke&6)throw Error(H(327));var r=e.callbackNode;if(Fn()&&e.callbackNode!==r)return null;var n=ji(e,e===ot?pt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Di(e,n);else{t=n;var a=ke;ke|=2;var l=n0();(ot!==e||pt!==t)&&(Bs=null,qn=Ge()+500,Yr(e,t));do try{Ov();break}catch(c){r0(e,c)}while(!0);Yd(),$i.current=l,ke=a,Qe!==null?t=0:(ot=null,pt=0,t=rt)}if(t!==0){if(t===2&&(a=Pc(e),a!==0&&(n=a,t=rd(e,a))),t===1)throw r=ll,Yr(e,0),dr(e,n),Ht(e,Ge()),r;if(t===6)dr(e,n);else{if(a=e.current.alternate,!(n&30)&&!Lv(a)&&(t=Di(e,n),t===2&&(l=Pc(e),l!==0&&(n=l,t=rd(e,l))),t===1))throw r=ll,Yr(e,0),dr(e,n),Ht(e,Ge()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:Vr(e,Ft,Bs);break;case 3:if(dr(e,n),(n&130023424)===n&&(t=cu+500-Ge(),10<t)){if(ji(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Lt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Oc(Vr.bind(null,e,Ft,Bs),t);break}Vr(e,Ft,Bs);break;case 4:if(dr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-js(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=Ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rv(n/1960))-n,10<n){e.timeoutHandle=Oc(Vr.bind(null,e,Ft,Bs),n);break}Vr(e,Ft,Bs);break;case 5:Vr(e,Ft,Bs);break;default:throw Error(H(329))}}}return Ht(e,Ge()),e.callbackNode===r?s0.bind(null,e):null}function rd(e,t){var r=Ia;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=Di(e,t),e!==2&&(t=Ft,Ft=r,t!==null&&nd(t)),e}function nd(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function Lv(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Ns(l(),a))return!1}catch(i){return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~ou,t&=~eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-js(t),n=1<<r;e[r]=-1,t&=~n}}function ff(e){if(ke&6)throw Error(H(327));Fn();var t=ji(e,0);if(!(t&1))return Ht(e,Ge()),null;var r=Di(e,t);if(e.tag!==0&&r===2){var n=Pc(e);n!==0&&(t=n,r=rd(e,n))}if(r===1)throw r=ll,Yr(e,0),dr(e,t),Ht(e,Ge()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vr(e,Ft,Bs),Ht(e,Ge()),null}function du(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(qn=Ge()+500,Qi&&Ar())}}function tn(e){pr!==null&&pr.tag===0&&!(ke&6)&&Fn();var t=ke;ke|=1;var r=cs.transition,n=Se;try{if(cs.transition=null,Se=1,e)return e()}finally{Se=n,cs.transition=r,ke=t,!(ke&6)&&Ar()}}function uu(){Yt=Rn.current,ze(Rn)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uv(r)),Qe!==null)for(r=Qe.return;r!==null;){var n=r;switch(Wd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_i();break;case 3:Wn(),ze(Vt),ze(_t),eu();break;case 5:Jd(n);break;case 4:Wn();break;case 13:ze(Ie);break;case 19:ze(Ie);break;case 10:Kd(n.type._context);break;case 22:case 23:uu()}r=r.return}if(ot=e,Qe=e=Sr(e.current,null),pt=Yt=t,rt=0,ll=null,ou=eo=en=0,Ft=Ia=null,Wr!==null){for(t=0;t<Wr.length;t++)if(r=Wr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}Wr=null}return e}function r0(e,t){do{var r=Qe;try{if(Yd(),oi.current=Li,Ri){for(var n=De.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ri=!1}if(Jr=0,lt=tt=De=null,$a=!1,rl=0,iu.current=null,r===null||r.return===null){rt=1,ll=t,Qe=null;break}e:{var l=e,i=r.return,c=r,o=t;if(t=pt,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,u=c,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var b=Jm(i);if(b!==null){b.flags&=-257,ef(b,i,c,l,t),b.mode&1&&Zm(l,d,t),t=b,o=d;var N=t.updateQueue;if(N===null){var j=new Set;j.add(o),t.updateQueue=j}else N.add(o);break e}else{if(!(t&1)){Zm(l,d,t),mu();break e}o=Error(H(426))}}else if(Re&&c.mode&1){var S=Jm(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ef(S,i,c,l,t),Gd(Gn(o,c));break e}}l=o=Gn(o,c),rt!==4&&(rt=2),Ia===null?Ia=[l]:Ia.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=Fp(l,o,t);Gm(l,p);break e;case 1:c=o;var g=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Nr===null||!Nr.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var v=Up(l,c,t);Gm(l,v);break e}}l=l.return}while(l!==null)}l0(r)}catch(M){t=M,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function n0(){var e=$i.current;return $i.current=Li,e===null?Li:e}function mu(){(rt===0||rt===3||rt===2)&&(rt=4),ot===null||!(en&268435455)&&!(eo&268435455)||dr(ot,pt)}function Di(e,t){var r=ke;ke|=2;var n=n0();(ot!==e||pt!==t)&&(Bs=null,Yr(e,t));do try{$v();break}catch(a){r0(e,a)}while(!0);if(Yd(),ke=r,$i.current=n,Qe!==null)throw Error(H(261));return ot=null,pt=0,rt}function $v(){for(;Qe!==null;)a0(Qe)}function Ov(){for(;Qe!==null&&!oy();)a0(Qe)}function a0(e){var t=o0(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?l0(e):Qe=t,iu.current=null}function l0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Tv(r,t),r!==null){r.flags&=32767,Qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Qe=null;return}}else if(r=Pv(r,t,Yt),r!==null){Qe=r;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);rt===0&&(rt=5)}function Vr(e,t,r){var n=Se,a=cs.transition;try{cs.transition=null,Se=1,Iv(e,t,r,n)}finally{cs.transition=a,Se=n}return null}function Iv(e,t,r,n){do Fn();while(pr!==null);if(ke&6)throw Error(H(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(yy(e,l),e===ot&&(Qe=ot=null,pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ql||(ql=!0,c0(bi,function(){return Fn(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=cs.transition,cs.transition=null;var i=Se;Se=1;var c=ke;ke|=4,iu.current=null,Av(e,r),e0(r,e),nv(Lc),wi=!!Rc,Lc=Rc=null,e.current=r,Mv(r),cy(),ke=c,Se=i,cs.transition=l}else e.current=r;if(ql&&(ql=!1,pr=e,Ii=a),l=e.pendingLanes,l===0&&(Nr=null),my(r.stateNode),Ht(e,Ge()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,e=td,td=null,e;return Ii&1&&e.tag!==0&&Fn(),l=e.pendingLanes,l&1?e===sd?Da++:(Da=0,sd=e):Da=0,Ar(),null}function Fn(){if(pr!==null){var e=Fh(Ii),t=cs.transition,r=Se;try{if(cs.transition=null,Se=16>e?16:e,pr===null)var n=!1;else{if(e=pr,pr=null,Ii=0,ke&6)throw Error(H(331));var a=ke;for(ke|=4,J=e.current;J!==null;){var l=J,i=l.child;if(J.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for(J=d;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:Oa(8,u,l)}var m=u.child;if(m!==null)m.return=u,J=m;else for(;J!==null;){u=J;var x=u.sibling,b=u.return;if(Xp(u),u===d){J=null;break}if(x!==null){x.return=b,J=x;break}J=b}}}var N=l.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var S=j.sibling;j.sibling=null,j=S}while(j!==null)}}J=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,J=i;else e:for(;J!==null;){if(l=J,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Oa(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,J=p;break e}J=l.return}}var g=e.current;for(J=g;J!==null;){i=J;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,J=y;else e:for(i=g;J!==null;){if(c=J,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ji(9,c)}}catch(M){Ve(c,c.return,M)}if(c===i){J=null;break e}var v=c.sibling;if(v!==null){v.return=c.return,J=v;break e}J=c.return}}if(ke=a,Ar(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(Wi,e)}catch(M){}n=!0}return n}finally{Se=r,cs.transition=t}}return!1}function hf(e,t,r){t=Gn(r,t),t=Fp(e,t,1),e=wr(e,t,1),t=Lt(),e!==null&&(gl(e,1,t),Ht(e,t))}function Ve(e,t,r){if(e.tag===3)hf(e,e,r);else for(;t!==null;){if(t.tag===3){hf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nr===null||!Nr.has(n))){e=Gn(r,e),e=Up(t,e,1),t=wr(t,e,1),e=Lt(),t!==null&&(gl(t,1,e),Ht(t,e));break}}t=t.return}}function Dv(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&r,ot===e&&(pt&r)===r&&(rt===4||rt===3&&(pt&130023424)===pt&&500>Ge()-cu?Yr(e,0):ou|=r),Ht(e,t)}function i0(e,t){t===0&&(e.mode&1?(t=Ol,Ol<<=1,!(Ol&130023424)&&(Ol=4194304)):t=1);var r=Lt();e=Xs(e,t),e!==null&&(gl(e,t,r),Ht(e,r))}function Fv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),i0(e,r)}function Uv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),i0(e,r)}var o0;o0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,Ev(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,Re&&t.flags&1048576&&mp(t,Pi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;di(e,t),e=t.pendingProps;var a=Vn(t,_t.current);Dn(t,r),a=su(null,t,n,e,a,r);var l=ru();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(n)?(l=!0,Ci(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Xd(t),a.updater=Zi,t.stateNode=a,a._reactInternals=t,Hc(t,n,e,r),t=qc(null,t,n,!0,l,r)):(t.tag=0,Re&&l&&Hd(t),zt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(di(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Bv(n),e=ys(n,e),a){case 0:t=Gc(null,t,n,e,r);break e;case 1:t=rf(null,t,n,e,r);break e;case 11:t=tf(null,t,n,e,r);break e;case 14:t=sf(null,t,n,ys(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ys(n,a),Gc(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ys(n,a),rf(e,t,n,a,r);case 3:e:{if(Wp(t),e===null)throw Error(H(387));n=t.pendingProps,l=t.memoizedState,a=l.element,yp(e,t),Ai(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Gn(Error(H(423)),t),t=nf(e,t,n,r,a);break e}else if(n!==a){a=Gn(Error(H(424)),t),t=nf(e,t,n,r,a);break e}else for(Qt=jr(t.stateNode.containerInfo.firstChild),Zt=t,Re=!0,bs=null,r=gp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bn(),n===a){t=Zs(e,t,r);break e}zt(e,t,n,r)}t=t.child}return t;case 5:return vp(t),e===null&&Uc(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,$c(n,a)?i=null:l!==null&&$c(n,l)&&(t.flags|=32),Hp(e,t),zt(e,t,i,r),t.child;case 6:return e===null&&Uc(t),null;case 13:return Gp(e,t,r);case 4:return Zd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hn(t,null,n,r):zt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ys(n,a),tf(e,t,n,a,r);case 7:return zt(e,t,t.pendingProps,r),t.child;case 8:return zt(e,t,t.pendingProps.children,r),t.child;case 12:return zt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,Pe(Ti,n._currentValue),n._currentValue=i,l!==null)if(Ns(l.value,i)){if(l.children===a.children&&!Vt.current){t=Zs(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(l.tag===1){o=Ys(-1,r&-r),o.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?o.next=o:(o.next=u.next,u.next=o),d.pending=o}}l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Vc(l.return,r,t),c.lanes|=r;break}o=o.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(H(341));i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Vc(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}zt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Dn(t,r),a=ds(a),n=n(a),t.flags|=1,zt(e,t,n,r),t.child;case 14:return n=t.type,a=ys(n,t.pendingProps),a=ys(n.type,a),sf(e,t,n,a,r);case 15:return Vp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ys(n,a),di(e,t),t.tag=1,Bt(n)?(e=!0,Ci(t)):e=!1,Dn(t,r),Dp(t,n,a),Hc(t,n,a,r),qc(null,t,n,!0,e,r);case 19:return qp(e,t,r);case 22:return Bp(e,t,r)}throw Error(H(156,t.tag))};function c0(e,t){return $h(e,t)}function Vv(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(e,t,r,n){return new Vv(e,t,r,n)}function fu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bv(e){if(typeof e=="function")return fu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ad)return 11;if(e===Md)return 14}return 2}function Sr(e,t){var r=e.alternate;return r===null?(r=is(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fi(e,t,r,n,a,l){var i=2;if(n=e,typeof e=="function")fu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case kn:return Kr(r.children,a,l,t);case zd:i=8,a|=8;break;case hc:return e=is(12,r,t,a|2),e.elementType=hc,e.lanes=l,e;case pc:return e=is(13,r,t,a),e.elementType=pc,e.lanes=l,e;case gc:return e=is(19,r,t,a),e.elementType=gc,e.lanes=l,e;case vh:return to(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xh:i=10;break e;case yh:i=9;break e;case Ad:i=11;break e;case Md:i=14;break e;case lr:i=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=is(i,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function Kr(e,t,r,n){return e=is(7,e,n,t),e.lanes=r,e}function to(e,t,r,n){return e=is(22,e,n,t),e.elementType=vh,e.lanes=r,e.stateNode={isHidden:!1},e}function Yo(e,t,r){return e=is(6,e,null,t),e.lanes=r,e}function Ko(e,t,r){return t=is(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hv(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hu(e,t,r,n,a,l,i,c,o){return e=new Hv(e,t,r,c,o),t===1?(t=1,l===!0&&(t|=8)):t=0,l=is(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(l),e}function Wv(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function d0(e){if(!e)return Pr;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(Bt(r))return dp(e,r,t)}return t}function u0(e,t,r,n,a,l,i,c,o){return e=hu(r,n,!0,e,a,l,i,c,o),e.context=d0(null),r=e.current,n=Lt(),a=kr(r),l=Ys(n,a),l.callback=t!=null?t:null,wr(r,l,a),e.current.lanes=a,gl(e,a,n),Ht(e,n),e}function so(e,t,r,n){var a=t.current,l=Lt(),i=kr(a);return r=d0(r),t.context===null?t.context=r:t.pendingContext=r,t=Ys(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=wr(a,t,i),e!==null&&(ws(e,a,i,l),ii(e,a,i)),i}function Fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pu(e,t){pf(e,t),(e=e.alternate)&&pf(e,t)}function Gv(){return null}var m0=typeof reportError=="function"?reportError:function(e){console.error(e)};function gu(e){this._internalRoot=e}ro.prototype.render=gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));so(e,t,null,null)};ro.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tn(function(){so(null,e,null,null)}),t[Qs]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cr.length&&t!==0&&t<cr[r].priority;r++);cr.splice(r,0,e),r===0&&Wh(e)}};function xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function no(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gf(){}function qv(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=Fi(i);l.call(d)}}var i=u0(t,n,e,0,null,!1,!1,"",gf);return e._reactRootContainer=i,e[Qs]=i.current,Za(e.nodeType===8?e.parentNode:e),tn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var d=Fi(o);c.call(d)}}var o=hu(e,0,!1,null,null,!1,!1,"",gf);return e._reactRootContainer=o,e[Qs]=o.current,Za(e.nodeType===8?e.parentNode:e),tn(function(){so(t,o,r,n)}),o}function ao(e,t,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var c=a;a=function(){var o=Fi(i);c.call(o)}}so(t,i,e,a)}else i=qv(r,t,e,a,n);return Fi(i)}Uh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ea(t.pendingLanes);r!==0&&($d(t,r|1),Ht(t,Ge()),!(ke&6)&&(qn=Ge()+500,Ar()))}break;case 13:tn(function(){var n=Xs(e,1);if(n!==null){var a=Lt();ws(n,e,1,a)}}),pu(e,1)}};Od=function(e){if(e.tag===13){var t=Xs(e,134217728);if(t!==null){var r=Lt();ws(t,e,134217728,r)}pu(e,134217728)}};Vh=function(e){if(e.tag===13){var t=kr(e),r=Xs(e,t);if(r!==null){var n=Lt();ws(r,e,t,n)}pu(e,t)}};Bh=function(){return Se};Hh=function(e,t){var r=Se;try{return Se=e,t()}finally{Se=r}};_c=function(e,t,r){switch(t){case"input":if(vc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ki(n);if(!a)throw Error(H(90));jh(n),vc(n,a)}}}break;case"textarea":Nh(e,r);break;case"select":t=r.value,t!=null&&Ln(e,!!r.multiple,t,!1)}};Th=du;zh=tn;var Yv={usingClientEntryPoint:!1,Events:[yl,En,Ki,Eh,Ph,du]},wa={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kv={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rh(e),e===null?null:e.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||Gv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Wi=Yl.inject(Kv),As=Yl}catch(e){}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yv;es.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xu(t))throw Error(H(200));return Wv(e,t,null,r)};es.createRoot=function(e,t){if(!xu(e))throw Error(H(299));var r=!1,n="",a=m0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hu(e,1,!1,null,null,r,!1,n,a),e[Qs]=t.current,Za(e.nodeType===8?e.parentNode:e),new gu(t)};es.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Rh(t),e=e===null?null:e.stateNode,e};es.flushSync=function(e){return tn(e)};es.hydrate=function(e,t,r){if(!no(t))throw Error(H(200));return ao(null,e,t,!0,r)};es.hydrateRoot=function(e,t,r){if(!xu(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=m0;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=u0(t,null,e,1,r!=null?r:null,a,!1,l,i),e[Qs]=t.current,Za(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ro(t)};es.render=function(e,t,r){if(!no(t))throw Error(H(200));return ao(null,e,t,!1,r)};es.unmountComponentAtNode=function(e){if(!no(e))throw Error(H(40));return e._reactRootContainer?(tn(function(){ao(null,null,e,!1,function(){e._reactRootContainer=null,e[Qs]=null})}),!0):!1};es.unstable_batchedUpdates=du;es.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!no(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return ao(e,t,r,!1,n)};es.version="18.3.1-next-f1338f8080-20240426";function f0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f0)}catch(e){console.error(e)}}f0(),fh.exports=es;var Qv=fh.exports,h0,xf=Qv;h0=xf.createRoot,xf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(this,arguments)}var gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gr||(gr={}));const yf="popstate";function Xv(e){e===void 0&&(e={});function t(a,l){let{pathname:i="/",search:c="",hash:o=""}=nn(a.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),ad("",{pathname:i,search:c,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){let i=a.document.querySelector("base"),c="";if(i&&i.getAttribute("href")){let o=a.location.href,d=o.indexOf("#");c=d===-1?o:o.slice(0,d)}return c+"#"+(typeof l=="string"?l:Ui(l))}function n(a,l){yu(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return Jv(t,r,n,e)}function qe(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function yu(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(r){}}}function Zv(){return Math.random().toString(36).substr(2,8)}function vf(e,t){return{usr:e.state,key:e.key,idx:t}}function ad(e,t,r,n){return r===void 0&&(r=null),il({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nn(t):t,{state:r,key:t&&t.key||n||Zv()})}function Ui(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Jv(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,c=gr.Pop,o=null,d=u();d==null&&(d=0,i.replaceState(il({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){c=gr.Pop;let S=u(),p=S==null?null:S-d;d=S,o&&o({action:c,location:j.location,delta:p})}function x(S,p){c=gr.Push;let g=ad(j.location,S,p);r&&r(g,S),d=u()+1;let y=vf(g,d),v=j.createHref(g);try{i.pushState(y,"",v)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(v)}l&&o&&o({action:c,location:j.location,delta:1})}function b(S,p){c=gr.Replace;let g=ad(j.location,S,p);r&&r(g,S),d=u();let y=vf(g,d),v=j.createHref(g);i.replaceState(y,"",v),l&&o&&o({action:c,location:j.location,delta:0})}function N(S){let p=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof S=="string"?S:Ui(S);return g=g.replace(/ $/,"%20"),qe(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let j={get action(){return c},get location(){return e(a,i)},listen(S){if(o)throw new Error("A history only accepts one active listener");return a.addEventListener(yf,m),o=S,()=>{a.removeEventListener(yf,m),o=null}},createHref(S){return t(a,S)},createURL:N,encodeLocation(S){let p=N(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:b,go(S){return i.go(S)}};return j}var bf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bf||(bf={}));function eb(e,t,r){return r===void 0&&(r="/"),tb(e,t,r)}function tb(e,t,r,n){let a=typeof t=="string"?nn(t):t,l=vu(a.pathname||"/",r);if(l==null)return null;let i=p0(e);sb(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let d=hb(l);c=ub(i[o],d)}return c}function p0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};o.relativePath.startsWith("/")&&(qe(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let d=_r([n,o.relativePath]),u=r.concat(o);l.children&&l.children.length>0&&(qe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),p0(l.children,t,u,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:cb(d,l.index),routesMeta:u})};return e.forEach((l,i)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,i);else for(let o of g0(l.path))a(l,i,o)}),t}function g0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=g0(n.join("/")),c=[];return c.push(...i.map(o=>o===""?l:[l,o].join("/"))),a&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function sb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:db(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rb=/^:[\w-]+$/,nb=3,ab=2,lb=1,ib=10,ob=-2,jf=e=>e==="*";function cb(e,t){let r=e.split("/"),n=r.length;return r.some(jf)&&(n+=ob),t&&(n+=ab),r.filter(a=>!jf(a)).reduce((a,l)=>a+(rb.test(l)?nb:l===""?lb:ib),n)}function db(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ub(e,t,r){let{routesMeta:n}=e,a={},l="/",i=[];for(let c=0;c<n.length;++c){let o=n[c],d=c===n.length-1,u=l==="/"?t:t.slice(l.length)||"/",m=mb({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},u),x=o.route;if(!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:_r([l,m.pathname]),pathnameBase:yb(_r([l,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(l=_r([l,m.pathnameBase]))}return i}function mb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=fb(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:x,isOptional:b}=u;if(x==="*"){let j=c[m]||"";i=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const N=c[m];return b&&!N?d[x]=void 0:d[x]=(N||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function fb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(n.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function hb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function pb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?nn(e):e;return{pathname:r?r.startsWith("/")?r:gb(r,t):t,search:vb(n),hash:bb(a)}}function gb(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Qo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bu(e,t){let r=xb(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ju(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=nn(e):(a=il({},e),qe(!a.pathname||!a.pathname.includes("?"),Qo("?","pathname","search",a)),qe(!a.pathname||!a.pathname.includes("#"),Qo("#","pathname","hash",a)),qe(!a.search||!a.search.includes("#"),Qo("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,c;if(i==null)c=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),m-=1;a.pathname=x.join("/")}c=m>=0?t[m]:"/"}let o=pb(a,c),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(d||u)&&(o.pathname+="/"),o}const _r=e=>e.join("/").replace(/\/\/+/g,"/"),yb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const x0=["post","put","patch","delete"];new Set(x0);const wb=["get",...x0];new Set(wb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(this,arguments)}const wu=f.createContext(null),Nb=f.createContext(null),Mr=f.createContext(null),lo=f.createContext(null),sr=f.createContext({outlet:null,matches:[],isDataRoute:!1}),y0=f.createContext(null);function kb(e,t){let{relative:r}=t===void 0?{}:t;ea()||qe(!1);let{basename:n,navigator:a}=f.useContext(Mr),{hash:l,pathname:i,search:c}=j0(e,{relative:r}),o=i;return n!=="/"&&(o=i==="/"?n:_r([n,i])),a.createHref({pathname:o,search:c,hash:l})}function ea(){return f.useContext(lo)!=null}function an(){return ea()||qe(!1),f.useContext(lo).location}function v0(e){f.useContext(Mr).static||f.useLayoutEffect(e)}function bl(){let{isDataRoute:e}=f.useContext(sr);return e?Ob():Sb()}function Sb(){ea()||qe(!1);let e=f.useContext(wu),{basename:t,future:r,navigator:n}=f.useContext(Mr),{matches:a}=f.useContext(sr),{pathname:l}=an(),i=JSON.stringify(bu(a,r.v7_relativeSplatPath)),c=f.useRef(!1);return v0(()=>{c.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!c.current)return;if(typeof d=="number"){n.go(d);return}let m=ju(d,JSON.parse(i),l,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:_r([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,i,l,e])}function b0(){let{matches:e}=f.useContext(sr),t=e[e.length-1];return t?t.params:{}}function j0(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(Mr),{matches:a}=f.useContext(sr),{pathname:l}=an(),i=JSON.stringify(bu(a,n.v7_relativeSplatPath));return f.useMemo(()=>ju(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function _b(e,t){return Cb(e,t)}function Cb(e,t,r,n){ea()||qe(!1);let{navigator:a}=f.useContext(Mr),{matches:l}=f.useContext(sr),i=l[l.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let d=an(),u;if(t){var m;let S=typeof t=="string"?nn(t):t;o==="/"||(m=S.pathname)!=null&&m.startsWith(o)||qe(!1),u=S}else u=d;let x=u.pathname||"/",b=x;if(o!=="/"){let S=o.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let N=eb(e,{pathname:b}),j=Ab(N&&N.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:_r([o,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?o:_r([o,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,r,n);return t&&j?f.createElement(lo.Provider,{value:{location:ol({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:gr.Pop}},j):j}function Eb(){let e=$b(),t=jb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,null)}const Pb=f.createElement(Eb,null);class Tb extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(sr.Provider,{value:this.props.routeContext},f.createElement(y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zb(e){let{routeContext:t,match:r,children:n}=e,a=f.useContext(wu);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(sr.Provider,{value:t},n)}function Ab(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let u=i.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);u>=0||qe(!1),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:x,errors:b}=r,N=m.route.loader&&x[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||N){o=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,x)=>{let b,N=!1,j=null,S=null;r&&(b=c&&m.route.id?c[m.route.id]:void 0,j=m.route.errorElement||Pb,o&&(d<0&&x===0?(Ib("route-fallback"),N=!0,S=null):d===x&&(N=!0,S=m.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,x+1)),g=()=>{let y;return b?y=j:N?y=S:m.route.Component?y=f.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,f.createElement(zb,{match:m,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:y})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?f.createElement(Tb,{location:r.location,revalidation:r.revalidation,component:j,error:b,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var w0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(w0||{}),N0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(N0||{});function Mb(e){let t=f.useContext(wu);return t||qe(!1),t}function Rb(e){let t=f.useContext(Nb);return t||qe(!1),t}function Lb(e){let t=f.useContext(sr);return t||qe(!1),t}function k0(e){let t=Lb(),r=t.matches[t.matches.length-1];return r.route.id||qe(!1),r.route.id}function $b(){var e;let t=f.useContext(y0),r=Rb(),n=k0();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Ob(){let{router:e}=Mb(w0.UseNavigateStable),t=k0(N0.UseNavigateStable),r=f.useRef(!1);return v0(()=>{r.current=!0}),f.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ol({fromRouteId:t},l)))},[e,t])}const wf={};function Ib(e,t,r){wf[e]||(wf[e]=!0)}function Db(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Fb(e){let{to:t,replace:r,state:n,relative:a}=e;ea()||qe(!1);let{future:l,static:i}=f.useContext(Mr),{matches:c}=f.useContext(sr),{pathname:o}=an(),d=bl(),u=ju(t,bu(c,l.v7_relativeSplatPath),o,a==="path"),m=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:a}),[d,m,a,r,n]),null}function rs(e){qe(!1)}function Ub(e){let{basename:t="/",children:r=null,location:n,navigationType:a=gr.Pop,navigator:l,static:i=!1,future:c}=e;ea()&&qe(!1);let o=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:o,navigator:l,static:i,future:ol({v7_relativeSplatPath:!1},c)}),[o,c,l,i]);typeof n=="string"&&(n=nn(n));let{pathname:u="/",search:m="",hash:x="",state:b=null,key:N="default"}=n,j=f.useMemo(()=>{let S=vu(u,o);return S==null?null:{location:{pathname:S,search:m,hash:x,state:b,key:N},navigationType:a}},[o,u,m,x,b,N,a]);return j==null?null:f.createElement(Mr.Provider,{value:d},f.createElement(lo.Provider,{children:r,value:j}))}function Vb(e){let{children:t,location:r}=e;return _b(ld(t),r)}new Promise(()=>{});function ld(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,a)=>{if(!f.isValidElement(n))return;let l=[...t,a];if(n.type===f.Fragment){r.push.apply(r,ld(n.props.children,l));return}n.type!==rs&&qe(!1),!n.props.index||!n.props.children||qe(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ld(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(this,arguments)}function Bb(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Hb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wb(e,t){return e.button===0&&(!t||t==="_self")&&!Hb(e)}const Gb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qb="6";try{window.__reactRouterVersion=qb}catch(e){}const Yb="startTransition",Nf=Dx[Yb];function Kb(e){let{basename:t,children:r,future:n,window:a}=e,l=f.useRef();l.current==null&&(l.current=Xv({window:a,v5Compat:!0}));let i=l.current,[c,o]=f.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=f.useCallback(m=>{d&&Nf?Nf(()=>o(m)):o(m)},[o,d]);return f.useLayoutEffect(()=>i.listen(u),[i,u]),f.useEffect(()=>Db(n),[n]),f.createElement(Ub,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:i,future:n})}const Qb=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ls=f.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:c,target:o,to:d,preventScrollReset:u,viewTransition:m}=t,x=Bb(t,Gb),{basename:b}=f.useContext(Mr),N,j=!1;if(typeof d=="string"&&Xb.test(d)&&(N=d,Qb))try{let y=new URL(window.location.href),v=d.startsWith("//")?new URL(y.protocol+d):new URL(d),M=vu(v.pathname,b);v.origin===y.origin&&M!=null?d=M+v.search+v.hash:j=!0}catch(y){}let S=kb(d,{relative:a}),p=Zb(d,{replace:i,state:c,target:o,preventScrollReset:u,relative:a,viewTransition:m});function g(y){n&&n(y),y.defaultPrevented||p(y)}return f.createElement("a",id({},x,{href:N||S,onClick:j||l?n:g,ref:r,target:o}))});var kf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kf||(kf={}));var Sf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Sf||(Sf={}));function Zb(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:c}=t===void 0?{}:t,o=bl(),d=an(),u=j0(e,{relative:i});return f.useCallback(m=>{if(Wb(m,r)){m.preventDefault();let x=n!==void 0?n:Ui(d)===Ui(u);o(e,{replace:x,state:a,preventScrollReset:l,relative:i,viewTransition:c})}},[d,o,u,n,a,r,e,l,i,c])}const Jb=({children:e})=>s.jsx(s.Fragment,{children:e}),Ls=()=>({currentUser:"Guest User",isValidating:!1,isLoading:!1,login:()=>xe(void 0,null,function*(){return Promise.resolve({user:"Guest User"})}),logout:()=>xe(void 0,null,function*(){return Promise.resolve()}),updateCurrentUser:()=>xe(void 0,null,function*(){}),getUserCookie:()=>"Guest User"}),e1={"surgical_training.api.user.get_user_roles":{message:{roles:["System Manager","Administrator","Doctor"],frappe_roles:["System Manager"]}},"surgical_training.api.session.get_sessions":{message:{message:"Success",data:[{name:"SESS-2025-001",title:"2025-05-15 Wildlife Simulation",description:"Demonstration of video playback and annotation using a copyright-free wildlife clip.",session_date:"2025-05-15",status:"Active",student_1_name:"Dr. Strange",student_2_name:"Dr. House",video_count:1}]}},"surgical_training.api.session_assignment.get_user_assigned_sessions":{message:{message:"Success",data:[{name:"SESS-2025-001",title:"2025-05-15 Wildlife Simulation",description:"Demonstration of video playback and annotation using a copyright-free wildlife clip.",session_date:"2025-05-15",status:"Active",student_1_name:"Dr. Strange"}]}},"surgical_training.api.session.get_session_details":{message:{name:"SESS-2025-001",title:"2025-05-15 Wildlife Simulation",status:"Active",session_date:"2025-05-15",videos:[{title:"Wildlife Demo",url:"./assets/wildlife.mp4",duration:30,id:"vid-001"}],comments:[]}}},St=(e,t,r,n)=>({data:e1[e]||{message:{}},error:null,isLoading:!1,isValidating:!1,mutate:()=>xe(void 0,null,function*(){})}),st=e=>({call:t=>xe(void 0,null,function*(){return console.log(`Mock Post Call to ${e}`,t),{message:"Success"}}),isMutating:!1,error:null}),t1=()=>({upload:e=>xe(void 0,null,function*(){return console.log("Mock uploading file:",e.name),{message:"Success",file_url:URL.createObjectURL(e)}}),isUploading:!1,error:null,reset:()=>{}});let s1={data:""},r1=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||s1,n1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a1=/\/\*[^]*?\*\/|  +/g,_f=/\n+/g,ur=(e,t)=>{let r="",n="",a="";for(let l in e){let i=e[l];l[0]=="@"?l[1]=="i"?r=l+" "+i+";":n+=l[1]=="f"?ur(i,l):l+"{"+ur(i,l[1]=="k"?"":t)+"}":typeof i=="object"?n+=ur(i,t?t.replace(/([^,])+/g,c=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,c):c?c+" "+o:o)):l):i!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ur.p?ur.p(l,i):l+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Fs={},S0=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+S0(e[r]);return t}return e},l1=(e,t,r,n,a)=>{let l=S0(e),i=Fs[l]||(Fs[l]=(o=>{let d=0,u=11;for(;d<o.length;)u=101*u+o.charCodeAt(d++)>>>0;return"go"+u})(l));if(!Fs[i]){let o=l!==e?e:(d=>{let u,m,x=[{}];for(;u=n1.exec(d.replace(a1,""));)u[4]?x.shift():u[3]?(m=u[3].replace(_f," ").trim(),x.unshift(x[0][m]=x[0][m]||{})):x[0][u[1]]=u[2].replace(_f," ").trim();return x[0]})(e);Fs[i]=ur(a?{["@keyframes "+i]:o}:o,r?"":"."+i)}let c=r&&Fs.g?Fs.g:null;return r&&(Fs.g=Fs[i]),((o,d,u,m)=>{m?d.data=d.data.replace(m,o):d.data.indexOf(o)===-1&&(d.data=u?o+d.data:d.data+o)})(Fs[i],t,n,c),i},i1=(e,t,r)=>e.reduce((n,a,l)=>{let i=t[l];if(i&&i.call){let c=i(r),o=c&&c.props&&c.props.className||/^go/.test(c)&&c;i=o?"."+o:c&&typeof c=="object"?c.props?"":ur(c,""):c===!1?"":c}return n+a+(i==null?"":i)},"");function io(e){let t=this||{},r=e.call?e(t.p):e;return l1(r.unshift?r.raw?i1(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,r1(t.target),t.g,t.o,t.k)}let _0,od,cd;io.bind({g:1});let Js=io.bind({k:1});function o1(e,t,r,n){ur.p=t,_0=e,od=r,cd=n}function Rr(e,t){let r=this||{};return function(){let n=arguments;function a(l,i){let c=Object.assign({},l),o=c.className||a.className;r.p=Object.assign({theme:od&&od()},c),r.o=/ *go\d+/.test(o),c.className=io.apply(r,n)+(o?" "+o:"");let d=e;return e[0]&&(d=c.as||e,delete c.as),cd&&d[0]&&cd(c),_0(d,c)}return a}}var c1=e=>typeof e=="function",Vi=(e,t)=>c1(e)?e(t):e,d1=(()=>{let e=0;return()=>(++e).toString()})(),C0=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),u1=20,E0=(e,t)=>{switch(t.type){case 0:return ne(R({},e),{toasts:[t.toast,...e.toasts].slice(0,u1)});case 1:return ne(R({},e),{toasts:e.toasts.map(l=>l.id===t.toast.id?R(R({},l),t.toast):l)});case 2:let{toast:r}=t;return E0(e,{type:e.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return ne(R({},e),{toasts:e.toasts.map(l=>l.id===n||n===void 0?ne(R({},l),{dismissed:!0,visible:!1}):l)});case 4:return t.toastId===void 0?ne(R({},e),{toasts:[]}):ne(R({},e),{toasts:e.toasts.filter(l=>l.id!==t.toastId)});case 5:return ne(R({},e),{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return ne(R({},e),{pausedAt:void 0,toasts:e.toasts.map(l=>ne(R({},l),{pauseDuration:l.pauseDuration+a}))})}},hi=[],qr={toasts:[],pausedAt:void 0},ln=e=>{qr=E0(qr,e),hi.forEach(t=>{t(qr)})},m1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},f1=(e={})=>{let[t,r]=f.useState(qr),n=f.useRef(qr);f.useEffect(()=>(n.current!==qr&&r(qr),hi.push(r),()=>{let l=hi.indexOf(r);l>-1&&hi.splice(l,1)}),[]);let a=t.toasts.map(l=>{var i,c,o;return ne(R(R(R({},e),e[l.type]),l),{removeDelay:l.removeDelay||((i=e[l.type])==null?void 0:i.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||m1[l.type],style:R(R(R({},e.style),(o=e[l.type])==null?void 0:o.style),l.style)})});return ne(R({},t),{toasts:a})},h1=(e,t="blank",r)=>ne(R({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{id:(r==null?void 0:r.id)||d1()}),jl=e=>(t,r)=>{let n=h1(t,e,r);return ln({type:2,toast:n}),n.id},At=(e,t)=>jl("blank")(e,t);At.error=jl("error");At.success=jl("success");At.loading=jl("loading");At.custom=jl("custom");At.dismiss=e=>{ln({type:3,toastId:e})};At.remove=e=>ln({type:4,toastId:e});At.promise=(e,t,r)=>{let n=At.loading(t.loading,R(R({},r),r==null?void 0:r.loading));return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?Vi(t.success,a):void 0;return l?At.success(l,R(R({id:n},r),r==null?void 0:r.success)):At.dismiss(n),a}).catch(a=>{let l=t.error?Vi(t.error,a):void 0;l?At.error(l,R(R({id:n},r),r==null?void 0:r.error)):At.dismiss(n)}),e};var p1=(e,t)=>{ln({type:1,toast:{id:e,height:t}})},g1=()=>{ln({type:5,time:Date.now()})},Fa=new Map,x1=1e3,y1=(e,t=x1)=>{if(Fa.has(e))return;let r=setTimeout(()=>{Fa.delete(e),ln({type:4,toastId:e})},t);Fa.set(e,r)},v1=e=>{let{toasts:t,pausedAt:r}=f1(e);f.useEffect(()=>{if(r)return;let l=Date.now(),i=t.map(c=>{if(c.duration===1/0)return;let o=(c.duration||0)+c.pauseDuration-(l-c.createdAt);if(o<0){c.visible&&At.dismiss(c.id);return}return setTimeout(()=>At.dismiss(c.id),o)});return()=>{i.forEach(c=>c&&clearTimeout(c))}},[t,r]);let n=f.useCallback(()=>{r&&ln({type:6,time:Date.now()})},[r]),a=f.useCallback((l,i)=>{let{reverseOrder:c=!1,gutter:o=8,defaultPosition:d}=i||{},u=t.filter(b=>(b.position||d)===(l.position||d)&&b.height),m=u.findIndex(b=>b.id===l.id),x=u.filter((b,N)=>N<m&&b.visible).length;return u.filter(b=>b.visible).slice(...c?[x+1]:[0,x]).reduce((b,N)=>b+(N.height||0)+o,0)},[t]);return f.useEffect(()=>{t.forEach(l=>{if(l.dismissed)y1(l.id,l.removeDelay);else{let i=Fa.get(l.id);i&&(clearTimeout(i),Fa.delete(l.id))}})},[t]),{toasts:t,handlers:{updateHeight:p1,startPause:g1,endPause:n,calculateOffset:a}}},b1=Js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,j1=Js`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w1=Js`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,N1=Rr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${b1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${j1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${w1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k1=Js`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S1=Rr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${k1} 1s linear infinite;
`,_1=Js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,C1=Js`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,E1=Rr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${C1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,P1=Rr("div")`
  position: absolute;
`,T1=Rr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,z1=Js`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A1=Rr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${z1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M1=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?f.createElement(A1,null,t):t:r==="blank"?null:f.createElement(T1,null,f.createElement(S1,R({},n)),r!=="loading"&&f.createElement(P1,null,r==="error"?f.createElement(N1,R({},n)):f.createElement(E1,R({},n))))},R1=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,L1=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,$1="0%{opacity:0;} 100%{opacity:1;}",O1="0%{opacity:1;} 100%{opacity:0;}",I1=Rr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,D1=Rr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,F1=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=C0()?[$1,O1]:[R1(r),L1(r)];return{animation:t?`${Js(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Js(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},U1=f.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?F1(e.position||t||"top-center",e.visible):{opacity:0},l=f.createElement(M1,{toast:e}),i=f.createElement(D1,R({},e.ariaProps),Vi(e.message,e));return f.createElement(I1,{className:e.className,style:R(R(R({},a),r),e.style)},typeof n=="function"?n({icon:l,message:i}):f.createElement(f.Fragment,null,l,i))});o1(f.createElement);var V1=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let l=f.useCallback(i=>{if(i){let c=()=>{let o=i.getBoundingClientRect().height;n(e,o)};c(),new MutationObserver(c).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return f.createElement("div",{ref:l,className:t,style:r},a)},B1=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return R(R({left:0,right:0,display:"flex",position:"absolute",transition:C0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`},n),a)},H1=io`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Kl=16,W1=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:l,containerClassName:i})=>{let{toasts:c,handlers:o}=v1(r);return f.createElement("div",{id:"_rht_toaster",style:R({position:"fixed",zIndex:9999,top:Kl,left:Kl,right:Kl,bottom:Kl,pointerEvents:"none"},l),className:i,onMouseEnter:o.startPause,onMouseLeave:o.endPause},c.map(d=>{let u=d.position||t,m=o.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),x=B1(u,m);return f.createElement(V1,{id:d.id,key:d.id,onHeightUpdate:o.updateHeight,className:d.visible?H1:"",style:x},d.type==="custom"?Vi(d.message,d):a?a(d):f.createElement(U1,{toast:d,position:u}))}))},O=At;function Cf(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function G1(...e){return t=>{let r=!1;const n=e.map(a=>{const l=Cf(a,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?l():Cf(e[a],null)}}}}function q1(e){const t=K1(e),r=f.forwardRef((n,a)=>{const d=n,{children:l}=d,i=Pt(d,["children"]),c=f.Children.toArray(l),o=c.find(X1);if(o){const u=o.props.children,m=c.map(x=>x===o?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:x);return s.jsx(t,ne(R({},i),{ref:a,children:f.isValidElement(u)?f.cloneElement(u,void 0,m):null}))}return s.jsx(t,ne(R({},i),{ref:a,children:l}))});return r.displayName=`${e}.Slot`,r}var Y1=q1("Slot");function K1(e){const t=f.forwardRef((r,n)=>{const i=r,{children:a}=i,l=Pt(i,["children"]);if(f.isValidElement(a)){const c=J1(a),o=Z1(l,a.props);return a.type!==f.Fragment&&(o.ref=n?G1(n,c):c),f.cloneElement(a,o)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Q1=Symbol("radix.slottable");function X1(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Q1}function Z1(e,t){const r=R({},t);for(const n in t){const a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...c)=>{const o=l(...c);return a(...c),o}:a&&(r[n]=a):n==="style"?r[n]=R(R({},a),l):n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return R(R({},e),r)}function J1(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function P0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=P0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function T0(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=P0(e))&&(n&&(n+=" "),n+=t);return n}const Ef=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Pf=T0,z0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Pf(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:l}=t,i=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],m=l==null?void 0:l[d];if(u===null)return null;const x=Ef(u)||Ef(m);return a[d][x]}),c=r&&Object.entries(r).reduce((d,u)=>{let[m,x]=u;return x===void 0||(d[m]=x),d},{}),o=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let N=u,{class:m,className:x}=N,b=Pt(N,["class","className"]);return Object.entries(b).every(j=>{let[S,p]=j;return Array.isArray(p)?p.includes(R(R({},l),c)[S]):R(R({},l),c)[S]===p})?[...d,m,x]:d},[]);return Pf(e,i,o,r==null?void 0:r.class,r==null?void 0:r.className)},Nu="-",ej=e=>{const t=sj(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const c=i.split(Nu);return c[0]===""&&c.length!==1&&c.shift(),A0(c,t)||tj(i)},getConflictingClassGroupIds:(i,c)=>{const o=r[i]||[];return c&&n[i]?[...o,...n[i]]:o}}},A0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?A0(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const l=e.join(Nu);return(i=t.validators.find(({validator:c})=>c(l)))==null?void 0:i.classGroupId},Tf=/^\[(.+)\]$/,tj=e=>{if(Tf.test(e)){const t=Tf.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},sj=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)dd(r[a],n,a,t);return n},dd=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?t:zf(t,a);l.classGroupId=r;return}if(typeof a=="function"){if(rj(a)){dd(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([l,i])=>{dd(i,zf(t,l),r,n)})})},zf=(e,t)=>{let r=e;return t.split(Nu).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},rj=e=>e.isThemeGetter,nj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(l,i)=>{r.set(l,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(l){let i=r.get(l);if(i!==void 0)return i;if((i=n.get(l))!==void 0)return a(l,i),i},set(l,i){r.has(l)?r.set(l,i):a(l,i)}}},ud="!",md=":",aj=md.length,lj=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const l=[];let i=0,c=0,o=0,d;for(let N=0;N<a.length;N++){let j=a[N];if(i===0&&c===0){if(j===md){l.push(a.slice(o,N)),o=N+aj;continue}if(j==="/"){d=N;continue}}j==="["?i++:j==="]"?i--:j==="("?c++:j===")"&&c--}const u=l.length===0?a:a.substring(o),m=ij(u),x=m!==u,b=d&&d>o?d-o:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:b}};if(t){const a=t+md,l=n;n=i=>i.startsWith(a)?l(i.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=l=>r({className:l,parseClassName:a})}return n},ij=e=>e.endsWith(ud)?e.substring(0,e.length-1):e.startsWith(ud)?e.substring(1):e,oj=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let l=[];return n.forEach(i=>{i[0]==="["||t[i]?(a.push(...l.sort(),i),l=[]):l.push(i)}),a.push(...l.sort()),a}},cj=e=>R({cache:nj(e.cacheSize),parseClassName:lj(e),sortModifiers:oj(e)},ej(e)),dj=/\s+/,uj=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:l}=t,i=[],c=e.trim().split(dj);let o="";for(let d=c.length-1;d>=0;d-=1){const u=c[d],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:N,maybePostfixModifierPosition:j}=r(u);if(m){o=u+(o.length>0?" "+o:o);continue}let S=!!j,p=n(S?N.substring(0,j):N);if(!p){if(!S){o=u+(o.length>0?" "+o:o);continue}if(p=n(N),!p){o=u+(o.length>0?" "+o:o);continue}S=!1}const g=l(x).join(":"),y=b?g+ud:g,v=y+p;if(i.includes(v))continue;i.push(v);const M=a(p,S);for(let L=0;L<M.length;++L){const P=M[L];i.push(y+P)}o=u+(o.length>0?" "+o:o)}return o};function mj(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=M0(t))&&(n&&(n+=" "),n+=r);return n}const M0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=M0(e[n]))&&(r&&(r+=" "),r+=t);return r};function fj(e,...t){let r,n,a,l=i;function i(o){const d=t.reduce((u,m)=>m(u),e());return r=cj(d),n=r.cache.get,a=r.cache.set,l=c,c(o)}function c(o){const d=n(o);if(d)return d;const u=uj(o,r);return a(o,u),u}return function(){return l(mj.apply(null,arguments))}}const Ze=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},R0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,L0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hj=/^\d+\/\d+$/,pj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yn=e=>hj.test(e),ve=e=>!!e&&!Number.isNaN(Number(e)),ar=e=>!!e&&Number.isInteger(Number(e)),Xo=e=>e.endsWith("%")&&ve(e.slice(0,-1)),Us=e=>pj.test(e),bj=()=>!0,jj=e=>gj.test(e)&&!xj.test(e),$0=()=>!1,wj=e=>yj.test(e),Nj=e=>vj.test(e),kj=e=>!se(e)&&!re(e),Sj=e=>ta(e,D0,$0),se=e=>R0.test(e),Ir=e=>ta(e,F0,jj),Zo=e=>ta(e,Tj,ve),Af=e=>ta(e,O0,$0),_j=e=>ta(e,I0,Nj),Ql=e=>ta(e,U0,wj),re=e=>L0.test(e),Na=e=>sa(e,F0),Cj=e=>sa(e,zj),Mf=e=>sa(e,O0),Ej=e=>sa(e,D0),Pj=e=>sa(e,I0),Xl=e=>sa(e,U0,!0),ta=(e,t,r)=>{const n=R0.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},sa=(e,t,r=!1)=>{const n=L0.exec(e);return n?n[1]?t(n[1]):r:!1},O0=e=>e==="position"||e==="percentage",I0=e=>e==="image"||e==="url",D0=e=>e==="length"||e==="size"||e==="bg-size",F0=e=>e==="length",Tj=e=>e==="number",zj=e=>e==="family-name",U0=e=>e==="shadow",Aj=()=>{const e=Ze("color"),t=Ze("font"),r=Ze("text"),n=Ze("font-weight"),a=Ze("tracking"),l=Ze("leading"),i=Ze("breakpoint"),c=Ze("container"),o=Ze("spacing"),d=Ze("radius"),u=Ze("shadow"),m=Ze("inset-shadow"),x=Ze("text-shadow"),b=Ze("drop-shadow"),N=Ze("blur"),j=Ze("perspective"),S=Ze("aspect"),p=Ze("ease"),g=Ze("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...v(),re,se],L=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],C=()=>[re,se,o],X=()=>[yn,"full","auto",...C()],$=()=>[ar,"none","subgrid",re,se],de=()=>["auto",{span:["full",ar,re,se]},ar,re,se],he=()=>[ar,"auto",re,se],W=()=>["auto","min","max","fr",re,se],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...C()],ee=()=>[yn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],_=()=>[e,re,se],I=()=>[...v(),Mf,Af,{position:[re,se]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",Ej,Sj,{size:[re,se]}],Q=()=>[Xo,Na,Ir],Ne=()=>["","none","full",d,re,se],ce=()=>["",ve,Na,Ir],Xe=()=>["solid","dashed","dotted","double"],nt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>[ve,Xo,Mf,Af],ae=()=>["","none",N,re,se],ge=()=>["none",ve,re,se],ye=()=>["none",ve,re,se],_e=()=>[ve,re,se],at=()=>[yn,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Us],breakpoint:[Us],color:[bj],container:[Us],"drop-shadow":[Us],ease:["in","out","in-out"],font:[kj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Us],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Us],shadow:[Us],spacing:["px",ve],text:[Us],"text-shadow":[Us],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yn,se,re,S]}],container:["container"],columns:[{columns:[ve,se,re,c]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[ar,"auto",re,se]}],basis:[{basis:[yn,"full","auto",c,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ve,yn,"auto","initial","none",se]}],grow:[{grow:["",ve,re,se]}],shrink:[{shrink:["",ve,re,se]}],order:[{order:[ar,"first","last","none",re,se]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:de()}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:de()}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[c,"screen",...ee()]}],"min-w":[{"min-w":[c,"screen","none",...ee()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[i]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",r,Na,Ir]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,re,Zo]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xo,se]}],"font-family":[{font:[Cj,se,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,re,se]}],"line-clamp":[{"line-clamp":[ve,"none",re,Zo]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",re,se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_()}],"text-color":[{text:_()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ve,"from-font","auto",re,Ir]}],"text-decoration-color":[{decoration:_()}],"underline-offset":[{"underline-offset":[ve,"auto",re,se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ar,re,se],radial:["",re,se],conic:[ar,re,se]},Pj,_j]}],"bg-color":[{bg:_()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:_()}],"gradient-via":[{via:_()}],"gradient-to":[{to:_()}],rounded:[{rounded:Ne()}],"rounded-s":[{"rounded-s":Ne()}],"rounded-e":[{"rounded-e":Ne()}],"rounded-t":[{"rounded-t":Ne()}],"rounded-r":[{"rounded-r":Ne()}],"rounded-b":[{"rounded-b":Ne()}],"rounded-l":[{"rounded-l":Ne()}],"rounded-ss":[{"rounded-ss":Ne()}],"rounded-se":[{"rounded-se":Ne()}],"rounded-ee":[{"rounded-ee":Ne()}],"rounded-es":[{"rounded-es":Ne()}],"rounded-tl":[{"rounded-tl":Ne()}],"rounded-tr":[{"rounded-tr":Ne()}],"rounded-br":[{"rounded-br":Ne()}],"rounded-bl":[{"rounded-bl":Ne()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Xe(),"hidden","none"]}],"divide-style":[{divide:[...Xe(),"hidden","none"]}],"border-color":[{border:_()}],"border-color-x":[{"border-x":_()}],"border-color-y":[{"border-y":_()}],"border-color-s":[{"border-s":_()}],"border-color-e":[{"border-e":_()}],"border-color-t":[{"border-t":_()}],"border-color-r":[{"border-r":_()}],"border-color-b":[{"border-b":_()}],"border-color-l":[{"border-l":_()}],"divide-color":[{divide:_()}],"outline-style":[{outline:[...Xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ve,re,se]}],"outline-w":[{outline:["",ve,Na,Ir]}],"outline-color":[{outline:_()}],shadow:[{shadow:["","none",u,Xl,Ql]}],"shadow-color":[{shadow:_()}],"inset-shadow":[{"inset-shadow":["none",m,Xl,Ql]}],"inset-shadow-color":[{"inset-shadow":_()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_()}],"ring-offset-w":[{"ring-offset":[ve,Ir]}],"ring-offset-color":[{"ring-offset":_()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":_()}],"text-shadow":[{"text-shadow":["none",x,Xl,Ql]}],"text-shadow-color":[{"text-shadow":_()}],opacity:[{opacity:[ve,re,se]}],"mix-blend":[{"mix-blend":[...nt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":nt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":_()}],"mask-image-linear-to-color":[{"mask-linear-to":_()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":_()}],"mask-image-t-to-color":[{"mask-t-to":_()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":_()}],"mask-image-r-to-color":[{"mask-r-to":_()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":_()}],"mask-image-b-to-color":[{"mask-b-to":_()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":_()}],"mask-image-l-to-color":[{"mask-l-to":_()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":_()}],"mask-image-x-to-color":[{"mask-x-to":_()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":_()}],"mask-image-y-to-color":[{"mask-y-to":_()}],"mask-image-radial":[{"mask-radial":[re,se]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":_()}],"mask-image-radial-to-color":[{"mask-radial-to":_()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":_()}],"mask-image-conic-to-color":[{"mask-conic-to":_()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,se]}],filter:[{filter:["","none",re,se]}],blur:[{blur:ae()}],brightness:[{brightness:[ve,re,se]}],contrast:[{contrast:[ve,re,se]}],"drop-shadow":[{"drop-shadow":["","none",b,Xl,Ql]}],"drop-shadow-color":[{"drop-shadow":_()}],grayscale:[{grayscale:["",ve,re,se]}],"hue-rotate":[{"hue-rotate":[ve,re,se]}],invert:[{invert:["",ve,re,se]}],saturate:[{saturate:[ve,re,se]}],sepia:[{sepia:["",ve,re,se]}],"backdrop-filter":[{"backdrop-filter":["","none",re,se]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[ve,re,se]}],"backdrop-contrast":[{"backdrop-contrast":[ve,re,se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ve,re,se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ve,re,se]}],"backdrop-invert":[{"backdrop-invert":["",ve,re,se]}],"backdrop-opacity":[{"backdrop-opacity":[ve,re,se]}],"backdrop-saturate":[{"backdrop-saturate":[ve,re,se]}],"backdrop-sepia":[{"backdrop-sepia":["",ve,re,se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ve,"initial",re,se]}],ease:[{ease:["linear","initial",p,re,se]}],delay:[{delay:[ve,re,se]}],animate:[{animate:["none",g,re,se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,re,se]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[re,se,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:at()}],"translate-x":[{"translate-x":at()}],"translate-y":[{"translate-y":at()}],"translate-z":[{"translate-z":at()}],"translate-none":["translate-none"],accent:[{accent:_()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,se]}],fill:[{fill:["none",..._()]}],"stroke-w":[{stroke:[ve,Na,Ir,Zo]}],stroke:[{stroke:["none",..._()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Mj=fj(Aj);function Lr(...e){return Mj(T0(e))}const Rj=z0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function U(l){var i=l,{className:e,variant:t,size:r,asChild:n=!1}=i,a=Pt(i,["className","variant","size","asChild"]);const c=n?Y1:"button";return s.jsx(c,R({"data-slot":"button",className:Lr(Rj({variant:t,size:r,className:e}))},a))}function Hs(n){var a=n,{className:e,type:t}=a,r=Pt(a,["className","type"]);return s.jsx("input",R({type:t,"data-slot":"input",className:Lr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e)},r))}function Ae(r){var n=r,{className:e}=n,t=Pt(n,["className"]);return s.jsx("div",R({"data-slot":"card",className:Lr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e)},t))}function Mt(r){var n=r,{className:e}=n,t=Pt(n,["className"]);return s.jsx("div",R({"data-slot":"card-header",className:Lr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e)},t))}function it(r){var n=r,{className:e}=n,t=Pt(n,["className"]);return s.jsx("div",R({"data-slot":"card-title",className:Lr("leading-none font-semibold",e)},t))}function Kt(r){var n=r,{className:e}=n,t=Pt(n,["className"]);return s.jsx("div",R({"data-slot":"card-description",className:Lr("text-muted-foreground text-sm",e)},t))}function Me(r){var n=r,{className:e}=n,t=Pt(n,["className"]);return s.jsx("div",R({"data-slot":"card-content",className:Lr("px-6",e)},t))}function V0(r){var n=r,{className:e}=n,t=Pt(n,["className"]);return s.jsx("div",R({"data-slot":"card-footer",className:Lr("flex items-center px-6 [.border-t]:pt-6",e)},t))}/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$j=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Rf=e=>{const t=$j(e);return t.charAt(0).toUpperCase()+t.slice(1)},B0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Oj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ij={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=f.forwardRef((d,o)=>{var u=d,{color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:i}=u,c=Pt(u,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return f.createElement("svg",R(R(ne(R({ref:o},Ij),{width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:B0("lucide",a)}),!l&&!Oj(c)&&{"aria-hidden":"true"}),c),[...i.map(([m,x])=>f.createElement(m,x)),...Array.isArray(l)?l:[l]])});/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(e,t)=>{const r=f.forwardRef((i,l)=>{var c=i,{className:n}=c,a=Pt(c,["className"]);return f.createElement(Dj,R({ref:l,iconNode:t,className:B0(`lucide-${Lj(Rf(e))}`,`lucide-${e}`,n)},a))});return r.displayName=Rf(e),r};/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ts=q("activity",Fj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mr=q("arrow-left",Uj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],cl=q("award",Vj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fd=q("bell",Bj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],fr=q("book-open",Hj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Jo=q("brain",Wj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rs=q("calendar",Gj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yj=q("camera",qj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hd=q("chart-column",Kj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Xj=q("chart-no-axes-column-increasing",Qj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jj=q("check",Zj);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pi=q("chevron-down",ew);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Lf=q("chevron-left",tw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yn=q("chevron-right",sw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nw=q("chevron-up",rw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Br=q("circle-alert",aw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],er=q("circle-check-big",lw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pd=q("circle-x",iw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],$f=q("clipboard-check",ow);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Rt=q("clock",cw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],uw=q("columns-2",dw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],gd=q("crown",mw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],H0=q("download",fw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],pw=q("ellipsis",hw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xw=q("external-link",gw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ua=q("eye-off",yw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qr=q("eye",vw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],jw=q("file-chart-column-increasing",bw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dl=q("file-text",ww);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kw=q("funnel",Nw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],xd=q("graduation-cap",Sw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vs=q("info",_w);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ew=q("key",Cw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Tw=q("layout-grid",Pw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Of=q("loader-circle",zw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],W0=q("lock",Aw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Rw=q("log-in",Mw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],$w=q("log-out",Lw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Iw=q("mail",Ow);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],ku=q("maximize-2",Dw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Uw=q("menu",Fw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ke=q("message-square",Vw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],If=q("mic",Bw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M5 12h14",key:"1ays0h"}]],G0=q("minus",Hw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Df=q("pause",Ww);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Va=q("pen-line",Gw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],q0=q("pen",qw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],zs=q("play",Yw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Qw=q("quote",Kw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oo=q("refresh-cw",Xw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Jw=q("rotate-ccw",Zw);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bi=q("save",e2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],s2=q("scissors",t2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],n2=q("search",r2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],l2=q("send",a2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y0=q("settings",i2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],c2=q("shield-alert",o2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yd=q("shield",d2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],m2=q("skip-back",u2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],ul=q("skip-forward",f2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ml=q("sparkles",h2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],g2=q("square-pen",p2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],vd=q("square",x2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Dr=q("target",y2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ba=q("trash-2",v2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],j2=q("trending-down",b2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ra=q("trending-up",w2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ec=q("triangle-alert",N2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],S2=q("upload",k2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ff=q("user-cog",_2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tc=q("user-plus",C2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],os=q("user",E2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fl=q("users",P2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Cr=q("video",T2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],A2=q("volume-2",z2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xt=q("x",M2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Uf=q("zap",R2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],$2=q("zoom-in",L2);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],I2=q("zoom-out",O2),D2=""+new URL("logo_UCC-B7adFuxD.png",import.meta.url).href,F2=""+new URL("background-D4-b1C3S.jpg",import.meta.url).href,U2=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,l]=f.useState(!1),i=bl(),c=an(),o=f.useRef(!1),[d,u]=f.useState(!1),{login:m,currentUser:x,isValidating:b}=Ls();f.useEffect(()=>{sessionStorage.getItem("just_logged_out")==="true"&&(u(!0),sessionStorage.removeItem("just_logged_out"))},[]),f.useEffect(()=>{},[x,b,i,c.pathname,d]);const N=j=>xe(void 0,null,function*(){if(j.preventDefault(),!e||!r){O.error("Please enter both username and password");return}l(!0);try{sessionStorage.removeItem("surgical_training_onboarding_session"),yield m({username:e,password:r}),O.success("Login successful"),o.current||(o.current=!0,setTimeout(()=>{i("/dashboard",{replace:!0})},1e3))}catch(S){console.error("Login error:",S),S instanceof Error?O.error(S.message||"Login failed. Please check your credentials."):O.error("Login failed. Please check your credentials.")}finally{l(!1)}});return s.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0",style:{backgroundImage:`url(${F2})`},children:s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"})}),s.jsx("div",{className:"relative z-10 w-full max-w-md px-4 py-10",children:s.jsxs(Ae,{className:"w-full border-0 shadow-2xl bg-white/95 backdrop-blur",children:[s.jsxs(Mt,{className:"space-y-1",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:D2,alt:"UCC Logo",className:"h-20 w-auto drop-shadow-md"})}),s.jsx(it,{className:"text-2xl font-bold text-center",children:"Learning Analytics Platform for Simulation-Based Training"}),s.jsx(Kt,{className:"text-center",children:"Enter your credentials to access your account"})]}),s.jsx(Me,{children:s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsx(os,{size:16,className:"text-indigo-500"}),"Username"]}),s.jsx(Hs,{id:"username",name:"username",type:"text",placeholder:"Enter your username",required:!0,className:"border-gray-300 bg-white",value:e,onChange:j=>t(j.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsx(W0,{size:16,className:"text-indigo-500"}),"Password"]}),s.jsx(Hs,{id:"password",name:"password",type:"password",placeholder:"Enter your password",required:!0,className:"border-gray-300 bg-white",value:r,onChange:j=>n(j.target.value)})]}),s.jsx(U,{type:"submit",disabled:a,className:"w-full bg-indigo-600 hover:bg-indigo-700 mt-4 h-11 cursor-pointer",children:a?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 rounded-full border-b-2 border-white"}),s.jsx("span",{children:"Signing in..."})]}):s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(Rw,{size:18}),s.jsx("span",{children:"Sign in"})]})})]})}),s.jsx(V0,{className:"flex justify-center border-t pt-6",children:s.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," Learning Analytics Platform for Simulation-Based Training. All rights reserved."]})})]})})]})},Vf=()=>"/isim/login",xr=({currentPage:e})=>{const{currentUser:t,logout:r}=Ls(),[n,a]=f.useState(!1),[l]=f.useState(!1),i=f.useRef(null),c=an(),{data:o}=St("frappe.client.get"),d=()=>xe(void 0,null,function*(){try{sessionStorage.removeItem("surgical_training_onboarding_session"),yield r(),O.success("Logged out successfully"),window.location.replace(Vf())}catch(m){console.error("Logout error:",m),O.error("Failed to logout"),window.location.replace(Vf())}}),u=[{name:"Dashboard",path:"/dashboard",icon:Ts,key:"dashboard"},{name:"Guide",path:"/guide",icon:fr,key:"guide"},{name:"Analytics",path:"/analytics",icon:hd,key:"analytics"}];return f.useEffect(()=>{const m=x=>{i.current&&!i.current.contains(x.target)&&a(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),s.jsx("header",{className:"sticky top-0 z-50 w-full bg-white/90 backdrop-blur-lg border-b border-gray-200 shadow-sm supports-[backdrop-filter]:bg-white/60",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs(ls,{to:"/dashboard",className:"flex items-center gap-2.5 group",children:[s.jsx("div",{className:"w-9 h-9 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-600/20 transition-transform group-hover:scale-105",children:s.jsx(Ts,{size:20,className:"text-white"})}),s.jsx("span",{className:"text-gray-900 font-bold text-lg hidden sm:block tracking-tight group-hover:text-blue-600 transition-colors",children:"Surgical Training"})]}),s.jsx("nav",{className:"hidden md:flex items-center gap-1",children:u.map(m=>{const x=m.icon,b=c.pathname===m.path;return s.jsxs(ls,{to:m.path,className:`
                      flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200
                      ${b?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}
                    `,children:[s.jsx(x,{size:16,className:b?"text-white":"text-gray-400 group-hover:text-gray-600"}),s.jsx("span",{children:m.name})]},m.key)})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",ref:i,children:[s.jsxs("button",{onClick:()=>a(!n),className:`
                  p-2 rounded-full transition-colors relative
                  ${n?"bg-blue-50 text-blue-600":"text-gray-500 hover:bg-gray-100 hover:text-gray-700"}
                `,children:[s.jsx(fd,{size:20}),l&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white"})]}),n&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-100 py-2 animate-in fade-in zoom-in-95 duration-200 origin-top-right ring-1 ring-black/5 focus:outline-none",children:[s.jsx("div",{className:"px-4 py-2 border-b border-gray-50 flex justify-between items-center",children:s.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Notifications"})}),s.jsx("div",{className:"p-4",children:l?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50/50 rounded-lg",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New session assigned"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2m ago"})]})]})}):s.jsxs("div",{className:"text-center py-6 text-gray-500",children:[s.jsx(fd,{size:24,className:"mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No new notifications"})]})})]})]}),s.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),s.jsxs(ls,{to:"/account",className:"flex items-center gap-3 pl-1 pr-2 py-1.5 rounded-full hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-200",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-xs font-bold shadow-sm",children:((o==null?void 0:o.full_name)||t).charAt(0).toUpperCase()}),s.jsxs("div",{className:"hidden sm:block text-left",children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 leading-none mb-1",children:(o==null?void 0:o.full_name)||t}),s.jsx("p",{className:"text-[10px] text-gray-500 leading-none",children:"View Profile"})]})]}),s.jsx("button",{onClick:d,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Logout",children:s.jsx($w,{size:18})})]})]})})})},V2=z0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bd(n){var a=n,{className:e,variant:t}=a,r=Pt(a,["className","variant"]);return s.jsx("div",R({className:`${V2({variant:t})} ${e}`},r))}const B2=()=>{const[e,t]=f.useState("all"),[r,n]=f.useState("all"),[a,l]=f.useState(!1),[i,c]=f.useState(0),[o,d]=f.useState(null),{currentUser:u}=Ls(),{data:m,error:x,mutate:b,isLoading:N}=St("surgical_training.api.user_activity.get_user_activity_history");f.useEffect(()=>(console.log(" UserActivity: Component mounted"),()=>{console.log(" UserActivity: Component unmounting")}),[]);const j=(m==null?void 0:m.message)||m,S=(j==null?void 0:j.activities)||[];f.useEffect(()=>{m&&!x&&!N&&(S.length>0||(j==null?void 0:j.stats)&&Object.keys(j.stats).length>0?(d(new Date),c(0),console.log(" UserActivity: Successful data load at",new Date().toISOString())):console.warn(" UserActivity: Empty response received",{activityData:m,responseData:j,activitiesLength:S.length,stats:j==null?void 0:j.stats}))},[m,x,N,S.length,j==null?void 0:j.stats]),console.log(" Frontend UserActivity Debug:",{activityData:m,responseData:j,activitiesCount:S.length,activitiesByType:{comments:S.filter(P=>P.type==="comment").length,sessions:S.filter(P=>P.type==="session_assignment").length,logins:S.filter(P=>P.type==="login").length},sampleActivities:S.slice(0,3),stats:j==null?void 0:j.stats,currentUser:u,isLoading:N,error:x,retryCount:i,lastSuccessfulLoad:o,filteredActivitiesCount:S.filter(P=>e==="all"?!0:P.type===e).length,currentFilter:e,timestamp:new Date().toISOString()});const p=(j==null?void 0:j.stats)||{total_comments:0,total_sessions:0};f.useEffect(()=>{if(S.length===0&&p.total_comments===0&&p.total_sessions===0&&i<3&&u){const C=Math.min(1e3*Math.pow(2,i),5e3);console.log(` UserActivity: Auto-retry ${i+1}/3 in ${C}ms due to empty response`);const X=setTimeout(()=>{c($=>$+1),b()},C);return()=>clearTimeout(X)}},[N,x,S.length,p.total_comments,p.total_sessions,i,u,b]);const g=Xn.useMemo(()=>{const P=new Set;return S.forEach(C=>{C.session&&P.add(C.session)}),Array.from(P).sort()},[S]),y=S.filter(P=>{if(e!=="all"){if(e==="login"){if(P.type!=="login"&&P.type!=="logout")return!1}else if(P.type!==e)return!1}return!(r!=="all"&&P.session!==r)}),v=P=>{switch(P){case"comment":return s.jsx(Ke,{size:16,className:"text-blue-500"});case"session_assignment":return s.jsx(fr,{size:16,className:"text-green-500"});case"login":return s.jsx(os,{size:16,className:"text-green-600"});case"logout":return s.jsx(os,{size:16,className:"text-gray-400"});default:return s.jsx(Ts,{size:16,className:"text-gray-400"})}},M=P=>{switch(P){case"comment":return"bg-blue-50 border-blue-200";case"session_assignment":return"bg-green-50 border-green-200";case"login":return"bg-green-50 border-green-200";case"logout":return"bg-gray-50 border-gray-200";default:return"bg-gray-50 border-gray-200"}},L=P=>{switch(P){case"comment":return"Comment";case"session_assignment":return"Session";case"login":return"Login";case"logout":return"Logout";default:return"Activity"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ae,{children:s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:s.jsx(ra,{size:16,className:"text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(p.total_comments||0)+(p.total_sessions||0)}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Activities"})]})]})})}),s.jsx(Ae,{children:s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ke,{size:16,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.total_comments||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Comments"})]})]})})}),s.jsx(Ae,{children:s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(fr,{size:16,className:"text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.total_sessions||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Sessions"})]})]})})})]}),s.jsxs(Ae,{children:[s.jsx(Mt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(it,{className:"flex items-center gap-2",children:[s.jsx(Ts,{size:20}),"Activity History"]}),s.jsx(Kt,{children:"Your recent comments, sessions, and activities"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{b()},disabled:N,children:[s.jsx(oo,{size:14,className:"mr-2 "}),"Refresh"]})})]})}),s.jsxs(Me,{children:[s.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"all",label:"All",icon:Ts},{key:"comment",label:"Comments",icon:Ke},{key:"session_assignment",label:"Sessions",icon:fr},{key:"login",label:"Logins",icon:os}].map(({key:P,label:C,icon:X})=>s.jsxs("button",{onClick:()=>t(P),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===P?"bg-indigo-100 text-indigo-700 border border-indigo-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(X,{size:14}),C,s.jsx(bd,{variant:"secondary",className:"ml-1 text-xs",children:P==="all"?S.length:P==="login"?S.filter($=>$.type==="login"||$.type==="logout").length:S.filter($=>$.type===P).length})]},P))}),g.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Filter by Session:"}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors",children:[s.jsx(fr,{size:14}),r==="all"?"All Sessions":r,s.jsx(pi,{size:14,className:`transition-transform ${a?"rotate-180":""}`})]}),a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),s.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[s.jsxs("button",{onClick:()=>{n("all"),l(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 transition-colors ${r==="all"?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700"}`,children:["All Sessions (",S.length," activities)"]}),g.map(P=>{const C=S.filter(X=>X.session===P).length;return s.jsxs("button",{onClick:()=>{n(P),l(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 transition-colors ${r===P?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700"}`,children:[P," (",C," activities)"]},P)})]})]})]})]})]}),y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ts,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No activities found"}),s.jsx("p",{className:"text-gray-600",children:e==="all"?"Start participating in sessions and leaving comments to see your activity history":`No ${L(e).toLowerCase()} activities found`})]}):s.jsx("div",{className:"space-y-4",children:y.map((P,C)=>s.jsxs("div",{className:`flex items-start gap-4 p-4 border rounded-lg transition-colors hover:shadow-sm ${M(P.type)}`,children:[s.jsx("div",{className:"flex-shrink-0 p-2 bg-white rounded-lg border",children:v(P.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:P.title}),s.jsx(bd,{variant:"outline",className:"text-xs",children:L(P.type)})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:P.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Rt,{size:12}),P.relative_time]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Rs,{size:12}),P.formatted_time]}),P.session&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fr,{size:12}),"Session: ",P.session]})]})]}),s.jsx("button",{className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 rounded",children:s.jsx(pw,{size:16})})]},C))})]})]})]})};function K0(e){return["administrator@gmail.com","admin@surgicaltraining.store"].includes(e)||e==="Administrator"}const Q0=e=>{if(!e||e.length===0)return[{name:"Guest",color:"bg-gray-100 text-gray-800"}];const t=["System Manager","Role Administrator","Administrator"],r=["Doctor","Physician"],n=e.some(c=>t.includes(c)),a=e.some(c=>r.includes(c)),l=[];return n&&l.push({name:"Admin",color:"bg-red-100 text-red-800"}),a&&l.push({name:"Doctor",color:"bg-blue-100 text-blue-800"}),l.length>0?l:[{name:"Guest",color:"bg-gray-100 text-gray-800"}]},H2=(e,t=!1)=>{const r=["System Manager","Role Administrator","Administrator"];return(e==null?void 0:e.some(n=>r.includes(n)))||t},W2=e=>{const t=["Doctor","Physician"];return e==null?void 0:e.some(r=>t.includes(r))},Su=()=>{const{currentUser:e}=Ls(),{data:t,isLoading:r,error:n}=St("surgical_training.api.user.get_user_roles"),a=(t==null?void 0:t.message)||t;let l=(a==null?void 0:a.roles)||[];l.length===0&&(a!=null&&a.frappe_roles)&&(l=a.frappe_roles);const i=H2(l),c=W2(l);return{userRoles:l,rolesData:a,rolesLoading:r,rolesError:n,isReady:t||n,hasAdmin:i,hasDoctor:c,currentUser:e}},G2=({reportName:e,reportTitle:t,onClose:r})=>{const[n,a]=f.useState(""),[l,i]=f.useState(!0),{call:c}=st("surgical_training.api.session_reports.get_report_content");f.useEffect(()=>{o()},[e]);const o=()=>xe(void 0,null,function*(){var u,m,x,b,N;try{i(!0);const j=yield c({report_name:e}),S=(j==null?void 0:j.content)||((u=j==null?void 0:j.data)==null?void 0:u.content)||((m=j==null?void 0:j.message)==null?void 0:m.content)||((b=(x=j==null?void 0:j.message)==null?void 0:x.data)==null?void 0:b.content);((j==null?void 0:j.message)==="Success"||((N=j==null?void 0:j.message)==null?void 0:N.message)==="Success")&&S?a(S):O.error("Failed to load report content")}catch(j){console.error(" [Report Viewer]  Error loading report content:",j),O.error("Failed to load report content")}finally{i(!1)}}),d=()=>{const u=new Blob([n],{type:"text/markdown"}),m=URL.createObjectURL(u),x=document.createElement("a");x.href=m,x.download=`${t.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(m),O.success("Report downloaded successfully!")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:t}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(U,{onClick:d,disabled:l||!n,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(H0,{size:16}),"Download"]}),s.jsx(U,{onClick:r,variant:"outline",size:"sm",children:"Close"})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600"})}):s.jsx("div",{className:"prose max-w-none",children:s.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm leading-relaxed",children:n})})})]})})},q2=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[a,l]=f.useState(null),[i,c]=f.useState(!1),[o,d]=f.useState({}),{currentUser:u}=Ls(),{hasDoctor:m}=Su(),N=K0(u)||m?"surgical_training.api.session.get_sessions":"surgical_training.api.session_assignment.get_user_assigned_sessions",{data:j,mutate:S}=St(N),{call:p}=st("surgical_training.api.session_reports.get_session_reports"),{call:g}=st("surgical_training.api.reports.generate_doctor_summary_report"),{call:y}=st("surgical_training.api.reports.generate_student_feedback_report");f.useEffect(()=>{if(j&&typeof j=="object"&&j.message){const W=j.message;W&&W.message==="Success"&&Array.isArray(W.data)&&t(W.data)}},[j]),f.useEffect(()=>{v()},[]);const v=()=>xe(void 0,null,function*(){var W,Z;try{c(!0);const te=yield p({limit:50}),D=(te==null?void 0:te.data)||((W=te==null?void 0:te.message)==null?void 0:W.data);((te==null?void 0:te.message)==="Success"||((Z=te==null?void 0:te.message)==null?void 0:Z.message)==="Success")&&D&&n(D)}catch(te){console.error(" [Load Reports]  Error loading reports:",te),O.error("Failed to load reports")}finally{c(!1)}}),M=W=>xe(void 0,null,function*(){var Z,te,D,ee;d(_=>ne(R({},_),{[W]:"doctor"}));try{console.log(" [Doctor Report] Starting generation for session:",W);const _=yield g({session_name:W,save_to_db:!0});console.log(" [Doctor Report] API response:",_),(te=(Z=_==null?void 0:_.message)==null?void 0:Z.data)!=null&&te.doctor_summary||(D=_==null?void 0:_.data)!=null&&D.doctor_summary?(_!=null&&_.saved_report||(ee=_==null?void 0:_.message)!=null&&ee.saved_report?O.success("Doctor report generated and saved! Any existing report has been updated."):O.success("Doctor report generated successfully!"),yield v()):(console.error(" [Doctor Report] Unexpected response format:",_),O.error("Failed to generate doctor report - unexpected response format"))}catch(_){console.error(" [Doctor Report]  Error generating doctor report:",_),O.error("Failed to generate doctor report")}finally{d(_=>ne(R({},_),{[W]:null}))}}),L=W=>xe(void 0,null,function*(){var Z,te,D;d(ee=>ne(R({},ee),{[W]:"student"}));try{console.log(" [Student Report] Starting generation for session:",W);const ee=yield y({session_name:W,save_to_db:!0});console.log(" [Student Report] API response:",ee),(te=(Z=ee==null?void 0:ee.message)==null?void 0:Z.data)!=null&&te.student_feedback||ee!=null&&ee.student_feedback?(ee!=null&&ee.saved_report||(D=ee==null?void 0:ee.message)!=null&&D.saved_report?O.success("Student feedback report generated and saved! Any existing report has been updated."):O.success("Student feedback report generated successfully!"),yield v()):(console.error(" [Student Report] Unexpected response format:",ee),O.error("Failed to generate student report - unexpected response format"))}catch(ee){console.error(" [Student Report]  Error generating student report:",ee),O.error("Failed to generate student report")}finally{d(ee=>ne(R({},ee),{[W]:null}))}}),P=W=>new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),C=W=>{switch(W==null?void 0:W.toLowerCase()){case"active":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},X=r.reduce((W,Z)=>{const te=Z.session;return W[te]||(W[te]=[]),W[te].push(Z),W},{}),$=e.map(W=>ne(R({},W),{reports:X[W.name]||[]})),de=()=>xe(void 0,null,function*(){c(!0);try{yield Promise.all([S(),v()])}finally{c(!1)}}),he=(W,Z)=>W.some(te=>te.report_type===Z);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ml,{className:"text-yellow-500",size:20}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Assessment Reports"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Generate AI-powered assessment reports for training sessions"})]})]}),s.jsxs(U,{onClick:de,disabled:i,className:"flex items-center gap-2",variant:"outline",children:[s.jsx(oo,{size:16,className:i?"animate-spin":""}),"Refresh"]})]}),$.length===0?s.jsx(Ae,{className:"bg-white",children:s.jsxs(Me,{className:"flex flex-col items-center justify-center p-12",children:[s.jsx("div",{className:"h-24 w-24 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:s.jsx(fr,{size:40,className:"text-gray-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Training Sessions Available"}),s.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"No training sessions found. Sessions will appear here when they are created and you have access to them."})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:$.map(W=>s.jsxs(Ae,{className:"bg-white hover:shadow-md transition-all duration-200 border border-gray-200 hover:border-gray-300",children:[s.jsxs(Mt,{className:"pb-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 leading-tight line-clamp-2 flex-1",children:W.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${C(W.status)}`,children:W.status})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Rs,{size:16,className:"text-gray-400"}),s.jsx("span",{children:P(W.session_date)})]}),W.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:W.description}),s.jsxs(ls,{to:`/session/${W.name}`,className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded-sm",children:["View Session",s.jsx(Yn,{size:14})]})]}),s.jsxs(Me,{className:"pt-0 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(ml,{size:14,className:"text-yellow-500"}),"Generate AI Reports"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(U,{onClick:()=>M(W.name),disabled:o[W.name]==="doctor",size:"sm",className:"h-9 bg-blue-600 hover:bg-blue-700 text-white shadow-sm focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-all",children:[o[W.name]==="doctor"?s.jsx(Of,{size:14,className:"animate-spin"}):he(W.reports,"Doctor Summary")?s.jsx(er,{size:14}):s.jsx(jw,{size:14}),s.jsx("span",{className:"text-xs font-medium ml-1",children:o[W.name]==="doctor"?"Generating...":"Doctor"})]}),s.jsxs(U,{onClick:()=>L(W.name),disabled:o[W.name]==="student",size:"sm",className:"h-9 bg-green-600 hover:bg-green-700 text-white shadow-sm focus:ring-2 focus:ring-green-500 focus:ring-offset-1 transition-all",children:[o[W.name]==="student"?s.jsx(Of,{size:14,className:"animate-spin"}):he(W.reports,"Student Feedback")?s.jsx(er,{size:14}):s.jsx(xd,{size:14}),s.jsx("span",{className:"text-xs font-medium ml-1",children:o[W.name]==="student"?"Generating...":"Student"})]})]})]}),W.reports.length>0&&s.jsxs("div",{className:"space-y-3 border-t border-gray-100 pt-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(dl,{size:14,className:"text-gray-500"}),"View Saved Reports"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[(()=>{const Z=W.reports.find(te=>te.report_type==="Doctor Summary");return Z?s.jsxs(U,{onClick:()=>l({name:Z.name,title:Z.report_title}),variant:"outline",size:"sm",className:"h-9 border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300 focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-all",children:[s.jsx(Qr,{size:14}),s.jsx("span",{className:"text-xs font-medium ml-1",children:"View Doctor"})]}):s.jsx("div",{className:"h-9 border border-dashed border-gray-200 rounded-md flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-400",children:"No Doctor Report"})})})(),(()=>{const Z=W.reports.find(te=>te.report_type==="Student Feedback");return Z?s.jsxs(U,{onClick:()=>l({name:Z.name,title:Z.report_title}),variant:"outline",size:"sm",className:"h-9 border-green-200 text-green-700 hover:bg-green-50 hover:border-green-300 focus:ring-2 focus:ring-green-500 focus:ring-offset-1 transition-all",children:[s.jsx(Qr,{size:14}),s.jsx("span",{className:"text-xs font-medium ml-1",children:"View Student"})]}):s.jsx("div",{className:"h-9 border border-dashed border-gray-200 rounded-md flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-400",children:"No Student Report"})})})()]})]})]})]},W.name))}),a&&s.jsx(G2,{reportName:a.name,reportTitle:a.title,onClose:()=>l(null)})]})},Zl=[{id:"project-intro",title:"Welcome to the Surgical Training Platform",description:"This Learning Analytics Platform for Simulation-Based Training helps medical professionals enhance their surgical skills through interactive video sessions, peer collaboration, and AI-powered assessments.",position:"bottom"},{id:"dashboard-overview",title:"Your Training Dashboard",description:"This is your central hub where you can access all training materials, track your progress, and collaborate with other medical professionals. Everything you need for your surgical training journey is here.",position:"bottom"},{id:"navigation-tabs",title:"Navigation Tabs",description:"Use these tabs to navigate between different sections: Dashboard (main overview), Assessment Summary (AI reports for instructors), and History (your activity timeline).",targetElement:".tab-navigation",position:"bottom"},{id:"session-cards",title:"Training Sessions",description:'Each card represents a surgical training session. Click "Start Session" to begin watching videos, leaving timestamped comments, and collaborating with peers. You can see the session status, date, and description here.',targetElement:".sessions-grid",position:"above"},{id:"refresh-button",title:"Refresh Content",description:"Use this button to refresh and load the latest training sessions and updates. This ensures you always have access to the most current content.",targetElement:".refresh-button",position:"bottom"},{id:"start-session-button",title:"Ready to Begin?",description:`Click the "Start Session" button on this first training session to begin your surgical training journey. You'll enter an interactive video environment where you can watch procedures and collaborate with other medical professionals.`,targetElement:".first-session-card",position:"right"}],sc="surgical_training_onboarding_session",rc="surgical_training_onboarding_dont_show_again",X0=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(0),[a,l]=f.useState(!1);f.useEffect(()=>{if(localStorage.getItem(rc)==="true"){l(!0);return}sessionStorage.getItem(sc)==="true"?l(!0):(t(!0),l(!1))},[]);const i=()=>{r<Zl.length-1?n(N=>N+1):d()},c=()=>{r>0&&n(N=>N-1)},o=()=>{d()},d=()=>{t(!1),l(!0),sessionStorage.setItem(sc,"true")},u=()=>{localStorage.setItem(rc,"true"),t(!1),l(!0)},m=()=>{sessionStorage.removeItem(sc),localStorage.removeItem(rc),n(0),t(!0),l(!1)},x=Zl[r],b=r===Zl.length-1;return{isOnboardingActive:e,currentStep:x,currentStepIndex:r,totalSteps:Zl.length,isLastStep:b,hasCompletedOnboarding:a,nextStep:i,previousStep:c,skipOnboarding:o,completeOnboarding:d,dontShowAgain:u,resetOnboarding:m}},Jl=[{id:"session-welcome",title:"Welcome to Your Training Session",description:"This is your interactive surgical training environment. Here you can watch training videos, leave timestamped comments, and collaborate with other medical professionals.",position:"bottom"},{id:"video-player",title:"Video Player",description:"Watch surgical procedures with full video controls. You can play, pause, seek, and adjust playback speed. Comments from other users appear as markers on the timeline.",targetElement:".video-player-container",position:"right"},{id:"layout-toggle",title:"Layout Options",description:"Switch between single video view and side-by-side comparison view to compare multiple videos simultaneously.",targetElement:".layout-toggle",position:"bottom"},{id:"labeling-modes",title:"Labeling Modes",description:'Choose your labeling approach: "Start/End" mode for precise segment marking, or "Duration" mode for quick time-based annotations. This controls how you create labeled segments on the video timeline.',targetElement:".labeling-mode-selector",position:"left"},{id:"comment-input",title:"Writing Comments",description:"Type your observations, questions, or insights here. Comments are automatically timestamped to the current video position. Your input helps create a collaborative learning environment.",targetElement:".comment-textarea",position:"left"},{id:"quick-templates",title:"Quick Templates",description:'Use pre-made comment templates for common observations. Click these buttons to quickly insert structured comments like "Excellent technique" or "Question about procedure". Save time while maintaining consistency.',targetElement:".quick-templates-section",position:"left"},{id:"start-label",title:"Start Label Button",description:`Click "Start Label" to begin marking a video segment. This creates the beginning point of your labeled section. The button will change to show you're actively labeling.`,targetElement:".start-label-button",position:"left"},{id:"end-label",title:"End Label Button",description:'After starting a label, click "End Label" to complete the segment. This creates a colored bar on the video timeline showing your labeled section with the comment attached.',targetElement:".end-label-button",position:"left"},{id:"video-timeline",title:"Interactive Timeline",description:"The timeline shows your progress and all labeled segments. Colored bars represent different types of comments and labels. Click anywhere on the timeline to jump to that moment in the video.",targetElement:".video-timeline",position:"right"},{id:"comment-submission",title:"Submit Your Comment",description:"Once you've written your comment and optionally created labels, click this button to save your contribution. Your timestamped comment will appear in the timeline for other learners to see.",targetElement:".submit-comment-button",position:"left"},{id:"comments-timeline",title:"Comments from Others",description:"View all comments from other users with timestamps. Click on any comment to jump to that moment in the video and see what others have observed. Learn from the collective knowledge of your peers.",targetElement:".comment-list-container",position:"left"},{id:"video-list",title:" Congratulations! You're Ready to Learn!",description:"You've mastered the training platform! This floating video list lets you explore different surgical perspectives and techniques. Click here anytime to switch between videos. Now go ahead and create your first comment or label - we're excited to see your contributions to the learning community!",position:"center"}],nc="surgical_training_session_onboarding",ac="surgical_training_session_onboarding_dont_show_again",Y2=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(0),[a,l]=f.useState(!1);f.useEffect(()=>{if(localStorage.getItem(ac)==="true"){l(!0),t(!1);return}sessionStorage.getItem(nc)==="true"?l(!0):(t(!0),l(!1))},[]);const i=()=>{r<Jl.length-1?n(N=>N+1):d()},c=()=>{r>0&&n(N=>N-1)},o=()=>{d()},d=()=>{t(!1),l(!0),sessionStorage.setItem(nc,"true")},u=()=>{localStorage.setItem(ac,"true"),t(!1),l(!0)},m=()=>{sessionStorage.removeItem(nc),localStorage.removeItem(ac),n(0),t(!0),l(!1)},x=Jl[r],b=r===Jl.length-1;return{isOnboardingActive:e,currentStep:x,currentStepIndex:r,totalSteps:Jl.length,isLastStep:b,hasCompletedOnboarding:a,nextStep:i,previousStep:c,skipOnboarding:o,completeOnboarding:d,dontShowAgain:u,resetOnboarding:m}},K2=({isOpen:e,onClose:t,useSessionHook:r=!1})=>{const n=X0(),a=Y2(),l=r?a:n,{currentStep:i,currentStepIndex:c,totalSteps:o,isLastStep:d,nextStep:u,previousStep:m,skipOnboarding:x,dontShowAgain:b}=l,[N,j]=f.useState(null),[S,p]=f.useState({top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),g=f.useCallback(()=>{if(!(i!=null&&i.targetElement)||!N)return;const C=N.getBoundingClientRect(),X=window.pageYOffset||document.documentElement.scrollTop;let $=C.top+X,de=C.left+C.width/2;switch(i.position){case"top":$=C.top+X-20;break;case"bottom":$=C.bottom+X+20;break;case"left":de=C.left-480,$=C.top+X+C.height/2;break;case"right":de=C.right+20,$=C.top+X+C.height/2;break;case"above":$=C.top+X-220,de=20;break}let he={};i.position==="above"?he={top:`${Math.max(20,$)}px`,left:"20px",right:"20px",width:"calc(100% - 40px)",maxWidth:"none",transform:"none"}:he={top:`${Math.max(20,Math.min($,window.innerHeight-400))}px`,left:`${Math.max(20,Math.min(de,window.innerWidth-320))}px`,transform:i.position==="left"||i.position==="right"?"translateY(-50%)":"translateX(-50%)"},p(he)},[i,N]);if(f.useEffect(()=>{if(!e||!i)return;if(N&&N.classList.remove("onboarding-highlight"),i.position==="center"){p({top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),j(null);return}if(!i.targetElement){p({top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),j(null);return}const P=document.querySelector(i.targetElement);if(P){P.classList.add("onboarding-highlight"),j(P);const C=P.getBoundingClientRect(),X=window.pageYOffset||document.documentElement.scrollTop;let $=C.top+X,de=C.left+C.width/2;switch(i.position){case"top":$=C.top+X-20;break;case"bottom":$=C.bottom+X+20;break;case"left":de=C.left-480,$=C.top+X+C.height/2;break;case"right":de=C.right+20,$=C.top+X+C.height/2;break;case"above":$=C.top+X-220,de=20;break}let he={};i.position==="above"?he={top:`${Math.max(20,$)}px`,left:"20px",right:"20px",width:"calc(100% - 40px)",maxWidth:"none",transform:"none"}:he={top:`${Math.max(20,Math.min($,window.innerHeight-400))}px`,left:`${Math.max(20,Math.min(de,window.innerWidth-320))}px`,transform:i.position==="left"||i.position==="right"?"translateY(-50%)":"translateX(-50%)"},p(he),setTimeout(()=>{const te=P.getBoundingClientRect(),D=te.top+window.pageYOffset;let ee;i.position==="above"?ee=D-window.innerHeight*.4:i.position==="bottom"?ee=D-window.innerHeight*.25:ee=D-window.innerHeight/2+te.height/2,window.scrollTo({top:Math.max(0,ee),behavior:"smooth"})},300);const Z=()=>{g()};return window.addEventListener("scroll",Z,{passive:!0}),window.addEventListener("resize",Z),()=>{window.removeEventListener("scroll",Z),window.removeEventListener("resize",Z)}}return()=>{N&&N.classList.remove("onboarding-highlight")}},[i,e,N,g]),!e||!i)return null;const y=()=>{u(),d&&t()},v=()=>{x(),t()},M=()=>{b(),t()},L=c===0;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-50"}),s.jsxs(Ae,{className:`fixed shadow-2xl border-0 z-50 transition-all duration-700 ease-in-out ${(i==null?void 0:i.position)==="above"?"w-auto":"max-w-md w-full"} ${d?"bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50 border-2 border-green-200":"bg-white"}`,style:S,children:[s.jsx(Mt,{className:`${(i==null?void 0:i.position)==="above"?"pb-4":"text-center space-y-4 pb-6"}`,children:(i==null?void 0:i.position)==="above"?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ml,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(it,{className:"text-lg font-bold text-gray-900 mb-1",children:i.title}),s.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["Step ",c+1," of ",o]})]})]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:v,className:"text-gray-400 hover:text-gray-600 p-1 h-auto",children:s.jsx(Xt,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ml,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["Step ",c+1," of ",o]})]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:v,className:"text-gray-400 hover:text-gray-600 p-1 h-auto",children:s.jsx(Xt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{className:"text-xl font-bold text-gray-900 leading-tight",children:i.title}),s.jsx("div",{className:"w-16 h-1 bg-blue-600 rounded-full mx-auto"})]})]})}),s.jsxs(Me,{className:`${(i==null?void 0:i.position)==="above"?"space-y-4":"space-y-6"}`,children:[(i==null?void 0:i.position)==="above"?s.jsxs("div",{className:"flex items-center justify-between gap-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-gray-600 leading-relaxed text-left",children:i.description})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Progress"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(c+1)/o*100}%`}})}),s.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[Math.round((c+1)/o*100),"%"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[!L&&s.jsxs(U,{variant:"outline",onClick:m,size:"sm",className:"group",children:[s.jsx(Lf,{className:"w-4 h-4 mr-1 group-hover:-translate-x-1 transition-transform"}),"Back"]}),s.jsxs(U,{variant:"outline",onClick:v,size:"sm",className:"group",children:[s.jsx(ul,{className:"w-4 h-4 mr-1 group-hover:translate-x-1 transition-transform"}),"Skip"]}),L&&s.jsxs(U,{variant:"ghost",onClick:M,size:"sm",className:"text-gray-400 hover:text-gray-600 group",children:[s.jsx(Ua,{className:"w-4 h-4 mr-1"}),"Don't show again"]}),s.jsxs(U,{onClick:y,size:"sm",className:d?"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl group transform hover:scale-105":"bg-blue-600 hover:bg-blue-700 group",children:[d?" Start Learning!":"Next",s.jsx(Yn,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-600 leading-relaxed text-center",children:i.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[Math.round((c+1)/o*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(c+1)/o*100}%`}})})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[!L&&s.jsxs(U,{variant:"outline",onClick:m,className:"group",children:[s.jsx(Lf,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back"]}),s.jsxs(U,{variant:"outline",onClick:v,className:"group",children:[s.jsx(ul,{className:"w-4 h-4 mr-2 group-hover:translate-x-1 transition-transform"}),"Skip Tour"]}),s.jsxs(U,{onClick:y,className:d?"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl group transform hover:scale-105":"bg-blue-600 hover:bg-blue-700 group",children:[d?" Let's Start!":"Next",s.jsx(Yn,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]}),c===0&&s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"This quick tour will help you get familiar with the platform"}),s.jsx("div",{className:"flex justify-center",children:s.jsxs(U,{variant:"ghost",size:"sm",onClick:M,className:"text-xs text-gray-400 hover:text-gray-600 h-auto px-2 py-1",children:[s.jsx(Ua,{className:"w-3 h-3 mr-1"}),"Don't show this again"]})})]})]})]}),s.jsx("style",{children:`
        .onboarding-highlight {
          position: relative;
          z-index: 1000;
          box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.5), 0 0 0 8px rgba(59, 130, 246, 0.2);
          border-radius: 8px;
          transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .onboarding-highlight::before {
          content: '';
          position: absolute;
          top: -4px;
          left: -4px;
          right: -4px;
          bottom: -4px;
          background: rgba(59, 130, 246, 0.1);
          border-radius: 12px;
          z-index: -1;
          animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
          0%, 100% { 
            transform: scale(1); 
            opacity: 0.7; 
          }
          50% { 
            transform: scale(1.05); 
            opacity: 0.3; 
          }
        }

        /* Enhanced modal animations */
        .onboarding-modal-enter {
          animation: modalSlideAndScale 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes modalSlideAndScale {
          0% {
            opacity: 0;
            transform: translateY(-20px) scale(0.95);
          }
          100% {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        /* Content fade transitions */
        .content-transition {
          animation: contentFade 0.4s ease-in-out;
        }

        @keyframes contentFade {
          0% {
            opacity: 0;
            transform: translateY(10px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})},Q2=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(()=>{try{const D=sessionStorage.getItem("surgical_training_active_tab");if(D&&["dashboard","sessions","history","reports"].includes(D))return D}catch(D){console.warn("Failed to restore tab from sessionStorage:",D)}return"dashboard"}),a=f.useCallback(D=>{sessionStorage.setItem("surgical_training_active_tab",D),n(D)},[]),[l,i]=f.useState("date"),[c,o]=f.useState("desc"),{isOnboardingActive:d,hasCompletedOnboarding:u}=X0(),[m,x]=f.useState(!1),{currentUser:b}=Ls(),{hasDoctor:N}=Su(),p=K0(b)||N?"surgical_training.api.session.get_sessions":"surgical_training.api.session_assignment.get_user_assigned_sessions",{data:g,error:y,isValidating:v,mutate:M}=St(p);f.useEffect(()=>{if(g&&typeof g=="object"&&g.message){const D=g.message;D&&D.message==="Success"&&Array.isArray(D.data)&&t(D.data)}},[g,y]),f.useEffect(()=>{if(d&&!u){const D=setTimeout(()=>x(!0),500);return()=>clearTimeout(D)}},[d,u]);const L=f.useCallback(()=>xe(void 0,null,function*(){try{yield M(),O.success("Sessions refreshed")}catch(D){O.error("Failed to refresh")}}),[M]),P=f.useCallback(D=>{l===D?o(ee=>ee==="asc"?"desc":"asc"):(i(D),o("desc"))},[l]),C=f.useCallback(D=>{const ee=D.split(" "),_=ee[0],I=ee.slice(1).join(" ");return{date:_,type:I||"General",parsedDate:new Date(_.replace(/\//g,"-"))}},[]),X=f.useMemo(()=>e.length?[...e].sort((D,ee)=>{const _=C(D.title),I=C(ee.title);let V=0;return l==="date"?V=_.parsedDate.getTime()-I.parsedDate.getTime():V=_.type.localeCompare(I.type),c==="asc"?V:-V}):e,[e,l,c,C]),$=D=>new Date(D).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),de=D=>{switch(D==null?void 0:D.toLowerCase()){case"active":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"completed":return"bg-blue-50 text-blue-700 border-blue-200";case"pending":return"bg-amber-50 text-amber-700 border-amber-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},he=()=>s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:["Welcome back",`, ${b}`]}),s.jsx("p",{className:"text-gray-500 mt-1 text-lg",children:"Track your progress and manage your training sessions."})]}),s.jsx("div",{className:"bg-white p-1 rounded-xl border border-gray-200 shadow-sm inline-flex",children:[{id:"dashboard",label:"Overview",icon:Tw},...N?[{id:"sessions",label:"Assessments",icon:dl}]:[],{id:"history",label:"History",icon:Ts}].map(D=>s.jsxs("button",{onClick:()=>te(D.id),className:`
                flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200
                ${r===D.id?"bg-blue-600 text-white shadow-md ring-1 ring-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}
              `,children:[s.jsx(D.icon,{size:16}),D.label]},D.id))})]})}),W=()=>s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r==="dashboard"&&"Training Overview",r==="sessions"&&"Assessment Reports",r==="history"&&"Activity Logs",s.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full border border-gray-200",children:r==="dashboard"?e.length:0})]})}),r==="dashboard"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center bg-white border border-gray-200 rounded-lg p-1 shadow-sm",children:[s.jsx("span",{className:"px-3 text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Sort by"}),s.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),s.jsx("button",{onClick:()=>P("date"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${l==="date"?"bg-blue-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:"Date"}),s.jsx("button",{onClick:()=>P("type"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${l==="type"?"bg-blue-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:"Type"})]}),s.jsx(U,{variant:"outline",size:"icon",onClick:L,disabled:v,className:"h-10 w-10 bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm",children:s.jsx(oo,{size:16,className:"text-gray-600"})})]})]}),Z=(D,ee)=>{const{type:_,parsedDate:I}=C(D.title);return s.jsxs(Ae,{className:"group relative flex flex-col overflow-hidden border-gray-200 hover:border-blue-300 hover:shadow-lg hover:shadow-blue-500/5 transition-all duration-300",style:{animationDelay:`${ee*50}ms`},children:[s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-600 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(Mt,{className:"pb-3 pt-5 px-5",children:s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-blue-50 text-blue-700 mb-3 border border-blue-100",children:_}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight group-hover:text-blue-700 transition-colors",children:D.title})]}),s.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-semibold border ${de(D.status)}`,children:D.status||"Active"})]})}),s.jsxs(Me,{className:"flex-grow px-5 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4 border-b border-gray-100 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Rs,{size:14,className:"text-gray-400"}),s.jsx("span",{children:$(D.session_date)})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Rt,{size:14,className:"text-gray-400"}),s.jsx("span",{children:"45m"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 leading-relaxed",dangerouslySetInnerHTML:{__html:D.description||'<span class="text-gray-400 italic">No description available yet.</span>'}}),(D.student_1_name||D.student_2_name)&&s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsxs("div",{className:"flex -space-x-2",children:[D.student_1_name&&s.jsx("div",{className:"h-7 w-7 rounded-full bg-emerald-100 border-2 border-white flex items-center justify-center text-[10px] font-bold text-emerald-700",title:D.student_1_name,children:D.student_1_name.charAt(0)}),D.student_2_name&&s.jsx("div",{className:"h-7 w-7 rounded-full bg-indigo-100 border-2 border-white flex items-center justify-center text-[10px] font-bold text-indigo-700",title:D.student_2_name,children:D.student_2_name.charAt(0)})]}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"+ Students Assigned"})]})]})]}),s.jsx(V0,{className:"px-5 pb-5 pt-0 mt-auto",children:s.jsx(U,{asChild:!0,className:"w-full bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg transition-all duration-300 justify-between group/btn h-11 border-transparent",children:s.jsxs(ls,{to:`/session/${D.name}`,children:[s.jsx("span",{className:"font-semibold ml-1",children:"Start Session"}),s.jsx("div",{className:"bg-white/20 rounded-full p-1 group-hover/btn:rotate-90 transition-transform duration-300",children:s.jsx(Yn,{size:16,className:"text-white"})})]})})})]},D.name)},te=f.useCallback(D=>{a(D)},[a]);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200",children:[s.jsx(xr,{currentPage:"dashboard"}),s.jsxs("main",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[he(),r==="dashboard"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[W(),y,v,e.length===0&&!y&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-2xl border border-gray-200 border-dashed",children:[s.jsx("div",{className:"h-16 w-16 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mb-4",children:s.jsx(Rs,{size:32})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Active Sessions"}),s.jsx("p",{className:"text-gray-500 max-w-sm text-center mb-6",children:"You don't have any training sessions scheduled right now. Check back later or contact your administrator."})]}),e.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map((D,ee)=>Z(D,ee))})]}),r==="sessions"&&N&&s.jsx("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:s.jsx(q2,{})}),r==="history"&&s.jsx("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:s.jsx(B2,{})})]}),s.jsx(K2,{isOpen:m,onClose:()=>x(!1)})]})},X2=({videos:e,currentVideo:t,onVideoChange:r,getVideoComments:n})=>{const[a,l]=f.useState(!1),i=d=>{const u=Math.floor(d/60),m=Math.floor(d%60);return`${String(u).padStart(2,"0")}:${String(m).padStart(2,"0")}`},c=()=>{l(!a)},o=d=>{r(d),window.innerWidth<1024&&l(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(U,{onClick:c,className:`fixed bottom-6 right-6 z-[9999] group transition-all duration-300 hover:scale-105 active:scale-95 ${a?"h-12 w-auto px-4 rounded-full bg-white border-2 border-red-200 text-red-600 shadow-xl hover:border-red-300 hover:bg-red-50":"h-12 w-12 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg hover:shadow-xl hover:from-blue-600 hover:to-indigo-700"}`,title:a?"Close video list":"Open video list",children:a?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{size:18}),s.jsx("span",{className:"text-sm font-medium",children:"Close"})]}):s.jsxs("div",{className:"relative",children:[s.jsx(Uw,{size:20,className:"group-hover:rotate-180 transition-transform duration-300"}),s.jsx("div",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full border border-white flex items-center justify-center",children:s.jsx("span",{className:"text-[8px] font-bold text-white",children:e.length})})]})}),a&&s.jsx("div",{className:"sidebar-backdrop fixed inset-0 bg-black/30 backdrop-blur-sm z-[9998] lg:hidden transition-opacity duration-300",onClick:c}),s.jsxs("div",{className:`fixed top-0 right-0 h-full bg-white shadow-2xl z-[9997] transition-all duration-300 ease-in-out border-l border-gray-200 ${a?"translate-x-0":"translate-x-full"} lg:rounded-l-2xl overflow-hidden`,style:{width:"480px",maxWidth:"90vw"},children:[s.jsx("div",{className:"video-sidebar-header bg-gradient-to-r from-blue-600 to-indigo-600 p-8 border-b border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-lg border border-white/30",children:s.jsx(Cr,{size:24,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Training Videos"}),s.jsxs("p",{className:"text-base text-white/90",children:[e.length," video",e.length!==1?"s":""," available"]})]})]}),s.jsx("div",{className:"bg-white/20 backdrop-blur-sm border border-white/30 text-white px-4 py-2 rounded-full text-lg font-semibold shadow-lg",children:e.length})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[s.jsx("div",{className:"p-4 space-y-3",children:e.map((d,u)=>{const m=t.title===d.title,x=n(d.title).length;return s.jsxs("div",{onClick:()=>o(d),className:`group relative cursor-pointer rounded-xl transition-all duration-300 border ${m?"bg-blue-50 border-blue-200 shadow-lg scale-[1.02]":"bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300 hover:shadow-md"}`,style:{animationDelay:`${u*50}ms`},children:[m&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-600 rounded-l-xl"}),s.jsxs("div",{className:"p-4 pl-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center shadow-md transition-all duration-300 ${m?"bg-blue-600 scale-110":"bg-gray-100 group-hover:bg-blue-100"}`,children:s.jsx(zs,{size:14,className:`${m?"text-white":"text-gray-600 group-hover:text-blue-600"} transition-colors duration-300`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:`font-semibold text-sm leading-tight transition-colors duration-300 ${m?"text-blue-900":"text-gray-900 group-hover:text-blue-700"}`,children:d.title}),d.description&&s.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2 leading-relaxed",children:d.description})]})]}),s.jsx(Yn,{size:14,className:`flex-shrink-0 ml-2 transition-all duration-300 ${m?"text-blue-600 transform rotate-90":"text-gray-400 group-hover:text-blue-500 group-hover:translate-x-1"}`})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.duration&&s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full transition-colors duration-300 ${m?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:[s.jsx(Rt,{size:10}),s.jsx("span",{className:"font-medium",children:i(d.duration)})]}),s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full transition-colors duration-300 ${m?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[s.jsx(Ke,{size:10}),s.jsx("span",{className:"font-medium",children:x})]}),m&&s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 text-green-700",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"font-medium",children:"Playing"})]})]})]})]},d.title)})}),e.length===0&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:s.jsx(Cr,{size:24,className:"text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Videos Available"}),s.jsx("p",{className:"text-gray-600",children:"There are no training videos in this session yet."})]})]})}),s.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:s.jsx("div",{className:"text-xs text-gray-500 text-center",children:e.filter(d=>d.title===t.title).length>0?s.jsxs(s.Fragment,{children:["Currently viewing: ",s.jsx("span",{className:"font-medium text-blue-600",children:t.title})]}):"Select a video to start watching"})})]})]})},Bf=({src:e,title:t,comments:r,isPlaying:n,currentTime:a,onTimeUpdate:l,onPlayPause:i,onSeek:c})=>{const o=f.useRef(null),d=f.useRef(null),[u,m]=f.useState(0),[x,b]=f.useState(1),[N,j]=f.useState(1),[S,p]=f.useState(!1),[g,y]=f.useState(!1),[v,M]=f.useState(null),[L,P]=f.useState(null),[C,X]=f.useState(!1),[$,de]=f.useState(1),[he,W]=f.useState(0),[Z,te]=f.useState(!1),[D,ee]=f.useState(0),[_,I]=f.useState(0),V=()=>u/$,ue=()=>Math.min(he+V(),u),Q=w=>{const E=V(),G=Math.max(0,u-E);return Math.max(0,Math.min(w,G))};f.useEffect(()=>{if($>1){const w=V(),E=Math.max(0,a-w/2);W(Q(E))}},[$,u]),f.useEffect(()=>{if($>1){const w=ue();if(a<he||a>w){const E=V(),G=Math.max(0,a-E/2);W(Q(G))}}},[a,$]);const Ne=(w,E)=>{const oe=(w-E.left)/E.width,pe=V();return he+oe*pe},ce=w=>{if($===1)return w/u*100;const E=V();return(w-he)/E*100},Xe=()=>{$<20&&de(w=>Math.min(20,w*1.5))},nt=()=>{$>1&&(de(w=>Math.max(1,w/1.5)),$<=1.5&&(de(1),W(0)))},z=()=>{de(1),W(0)},ae=w=>{$>1&&(te(!0),ee(w.clientX),I(he))},ge=w=>{if(Z&&$>1&&d.current){const E=w.clientX-D,G=d.current.getBoundingClientRect(),oe=-(E/G.width)*V(),pe=_+oe;W(Q(pe))}},ye=()=>{te(!1)},_e=w=>{var E;if(w.ctrlKey||w.metaKey){w.preventDefault();const G=(E=d.current)==null?void 0:E.getBoundingClientRect();if(!G)return;const oe=Ne(w.clientX,G);if(w.deltaY<0){if($<20){const pe=Math.min(20,$*1.2);de(pe);const Ue=u/pe,le=Math.max(0,oe-Ue/2);W(Q(le))}}else if($>1){const pe=Math.max(1,$/1.2);if(de(pe),pe<=1)W(0);else{const Ue=u/pe,le=Math.max(0,oe-Ue/2);W(Q(le))}}}},at=()=>Wt().find(E=>a>=E.startTime&&a<=E.endTime)||null,[ms,It]=f.useState("single"),[B,fe]=f.useState([]),[Be,Le]=f.useState(!1),[$e,Ye]=f.useState(null),[we,fs]=f.useState({name:"",startTime:0,endTime:300,color:"blue",description:""}),na=[{name:"Pre-Session",color:"gray",description:"Preparation and setup"},{name:"Main Session",color:"blue",description:"Primary clinical procedure"},{name:"Post-Session",color:"green",description:"Cleanup and debriefing"},{name:"Critical Phase",color:"red",description:"High-intensity procedure"},{name:"Teaching Moment",color:"yellow",description:"Educational discussion"},{name:"Break",color:"purple",description:"Pause or break period"}],_l=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),ks=w=>{const E={blue:"bg-blue-500 border-blue-400 text-blue-100",green:"bg-green-500 border-green-400 text-green-100",red:"bg-red-500 border-red-400 text-red-100",yellow:"bg-yellow-500 border-yellow-400 text-yellow-100",purple:"bg-purple-500 border-purple-400 text-purple-100",gray:"bg-gray-500 border-gray-400 text-gray-100",orange:"bg-orange-500 border-orange-400 text-orange-100",indigo:"bg-indigo-500 border-indigo-400 text-indigo-100"};return E[w]||E.blue},on=()=>{if(!we.name||we.startTime>=we.endTime)return;const w={id:_l(),name:we.name,startTime:we.startTime,endTime:Math.min(we.endTime,u),color:we.color,description:we.description};fe(E=>[...E,w].sort((G,oe)=>G.startTime-oe.startTime)),fs({name:"",startTime:a,endTime:Math.min(a+300,u),color:"blue",description:""})},aa=w=>{Ye(w),fs({name:w.name,startTime:w.startTime,endTime:w.endTime,color:w.color,description:w.description||""})},hs=()=>{!$e||!we.name||we.startTime>=we.endTime||(fe(w=>w.map(E=>E.id===$e.id?ne(R({},E),{name:we.name,startTime:we.startTime,endTime:Math.min(we.endTime,u),color:we.color,description:we.description}):E).sort((E,G)=>E.startTime-G.startTime)),Ye(null),fs({name:"",startTime:a,endTime:Math.min(a+300,u),color:"blue",description:""}))},cn=w=>{fe(E=>E.filter(G=>G.id!==w))},dn=w=>{if(c(w.startTime),$===1){const E=w.endTime-w.startTime;if(E<u/4){const G=Math.min(10,u/E);de(G);const oe=u/G,pe=Math.max(0,w.startTime-oe*.1);W(Q(pe))}}},$r=w=>{const E=a,G=Math.min(a+300,u),oe={id:_l(),name:w.name,startTime:E,endTime:G,color:w.color,description:w.description};fe(pe=>[...pe,oe].sort((Ue,le)=>Ue.startTime-le.startTime))},un=()=>B.find(w=>a>=w.startTime&&a<=w.endTime)||null;f.useEffect(()=>{u>0&&!$e&&fs(w=>ne(R({},w),{startTime:a,endTime:Math.min(a+300,u)}))},[u,a,$e]);const mn=()=>{if(u===0||B.length===0)return null;const w=ue();return B.filter(E=>$===1?!0:E.endTime>=he&&E.startTime<=w).map(E=>{const G=ce(E.startTime),oe=ce(E.endTime),pe=Math.max(0,oe-G),Ue=a>=E.startTime&&a<=E.endTime,le=ks(E.color);return s.jsxs("div",{className:"absolute z-10",style:{left:`${G}%`,width:`${pe}%`,top:"-20px",height:"16px"},children:[s.jsxs("div",{className:`relative cursor-pointer transition-all duration-300 ${le} border-2 rounded-lg shadow-lg overflow-hidden group ${Ue?"ring-2 ring-white ring-opacity-60":""}`,style:{height:"16px",minWidth:"20px",opacity:.8},onClick:Oe=>{Oe.stopPropagation(),dn(E)},title:`${E.name} (${Ee(E.startTime)} - ${Ee(E.endTime)}): ${E.description||"Click to navigate"}`,children:[s.jsx("div",{className:"w-full h-full flex items-center justify-center px-1",children:pe>8&&s.jsx("span",{className:"text-xs font-medium truncate",children:E.name})}),Ue&&s.jsx("div",{className:`absolute inset-0 ${le.split(" ")[0]} rounded-lg animate-pulse opacity-40`}),s.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-200 rounded-lg"})]}),s.jsx("div",{className:"absolute -top-20 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50",children:s.jsxs("div",{className:"bg-gray-900/95 text-white px-3 py-2 rounded-lg text-xs max-w-48 text-center shadow-xl border border-gray-600",children:[s.jsx("div",{className:"font-semibold mb-1",children:E.name}),s.jsxs("div",{className:"text-gray-300 mb-1",children:[Ee(E.startTime)," - ",Ee(E.endTime)]}),E.description&&s.jsx("div",{className:"text-gray-200 text-left",children:E.description}),s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-2 border-r-2 border-t-2 border-l-transparent border-r-transparent border-t-gray-900/95"})]})})]},E.id)})},Ss=Xn.useMemo(()=>{if(e.includes("/api/method/"))return e;try{const w=e.lastIndexOf("/");if(w===-1)return encodeURI(e);const E=e.substring(0,w+1),G=e.substring(w+1);return E+encodeURIComponent(G)}catch(w){return encodeURI(e)}},[e]);f.useEffect(()=>{o.current&&(n?o.current.play():o.current.pause())},[n]),f.useEffect(()=>{o.current&&Math.abs(o.current.currentTime-a)>.5&&(o.current.currentTime=a)},[a]),f.useEffect(()=>{m(0),M(null),o.current&&o.current.load()},[e]),f.useEffect(()=>{let w;return n&&o.current&&(w=setInterval(()=>{if(o.current){const E=o.current.currentTime;l(E)}},100)),()=>clearInterval(w)},[n,l,r]);const $s=()=>{if(!o.current)return;let w=o.current.duration;if(!w||!isFinite(w))try{const E=o.current.seekable;E&&E.length>0&&(w=E.end(E.length-1))}catch(E){console.warn("Error getting seekable range:",E)}w&&isFinite(w)&&w>0?m(w):console.warn("Invalid duration detected:",w)},xt=w=>{if(o.current){const E=o.current;E.currentTime=w,c(w)}},Os=w=>{if(!u||!isFinite(u))return;const E=w.currentTarget.getBoundingClientRect(),G=Ne(w.clientX,E),oe=Math.max(0,Math.min(G,u));isFinite(oe)&&xt(oe)},Ee=w=>{const E=Math.floor(w/60),G=Math.floor(w%60);return`${String(E).padStart(2,"0")}:${String(G).padStart(2,"0")}`},Au=()=>{const w=[.25,.5,1,1.25,1.5,2],E=w.indexOf(x),G=w[(E+1)%w.length];b(G),o.current&&(o.current.playbackRate=G)},Mu=w=>{j(w),o.current&&(o.current.volume=w)},Ru=()=>{var w;S?document.exitFullscreen&&document.exitFullscreen():(w=o.current)!=null&&w.requestFullscreen&&o.current.requestFullscreen(),p(!S)},Lu=()=>{const w=Math.max(0,a-10);xt(w)},$u=()=>{const w=Math.min(u,a+10);xt(w)},la=w=>{const E=w.comment_text.toLowerCase();return E.includes("")||E.includes("critical issue")||E.includes("critical")||E.includes("error")||E.includes("wrong")||E.includes("mistake")||E.includes("danger")||E.includes("unsafe")||E.includes("risk")||E.includes("immediately")||E.includes("stop")||E.includes("incorrect")?"critical":E.includes("")||E.includes("good")||E.includes("excellent")||E.includes("perfect")||E.includes("well done")||E.includes("correct")||E.includes("great")||E.includes("nice")||E.includes("proper")?"positive":E.includes("")||E.includes("attention")||E.includes("careful")||E.includes("improve")||E.includes("consider")||E.includes("watch")||E.includes("note")||E.includes("adjust")||E.includes("modify")?"warning":"neutral"},Or=w=>{switch(w){case"positive":return s.jsx(er,{size:10,className:"text-green-400"});case"warning":return s.jsx(ec,{size:10,className:"text-yellow-400"});case"critical":return s.jsx(ec,{size:10,className:"text-red-400"});default:return s.jsx(Ke,{size:10,className:"text-blue-400"})}},Is=w=>{if(w.comment_color&&w.comment_color!=="#FFFFFF")return{style:{backgroundColor:w.comment_color,borderColor:w.comment_color},className:"border-2"};switch(la(w)){case"positive":return{className:"bg-green-500 hover:bg-green-400 border-green-400"};case"warning":return{className:"bg-yellow-500 hover:bg-yellow-400 border-yellow-400"};case"critical":return{className:"bg-red-500 hover:bg-red-400 border-red-400"};default:return{className:"bg-blue-500 hover:bg-blue-400 border-blue-400"}}},ho=w=>{w.preventDefault(),$>1&&w.shiftKey?ae(w):(y(!0),Os(w))},_s=()=>{y(!1),ye()},Cl=w=>{Z?ge(w):g&&Os(w)},Wt=()=>r.length===0?[]:[...r].sort((E,G)=>E.timestamp-G.timestamp).map(E=>{const G=E.timestamp,oe=E.duration||30,pe=Math.min(G+oe,u);return ne(R({},E),{startTime:G,endTime:pe,duration:pe-G})}),fn=()=>{if(u===0)return null;const w=Wt(),E=ue();return w.filter(G=>$===1?!0:G.endTime>=he&&G.startTime<=E).map(G=>{var Ct;const oe=ce(G.startTime),pe=ce(G.endTime),Ue=Math.max(0,pe-oe),le=la(G),Oe=Is(G),Gt=a>=G.startTime&&a<=G.endTime;return s.jsxs("div",{className:"absolute z-30",style:{left:`${oe}%`,width:`${Ue}%`,top:"8px"},children:[s.jsxs("div",{className:`relative cursor-pointer transition-all duration-300 ${Oe.className} border rounded shadow-sm overflow-hidden group ${Gt?"ring-1 ring-white ring-opacity-60":""}`,style:R({height:"18px",minWidth:"12px"},Oe.style),onClick:yt=>{yt.stopPropagation(),xt(G.startTime)},title:`${G.doctor_name||G.doctor} - ${Ee(G.startTime)} to ${Ee(G.endTime)}`,children:[s.jsxs("div",{className:"w-full h-full flex items-center justify-between px-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[Ue>15&&Or(le),Ue>25&&s.jsx("span",{className:"text-white text-xs font-medium truncate max-w-16",children:((Ct=G.doctor_name)==null?void 0:Ct.split(" ")[0])||G.doctor.split("-")[0]})]}),Ue>20&&s.jsxs("span",{className:"text-white text-xs",children:[Math.round(G.endTime-G.startTime),"s"]})]}),Gt&&s.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 bg-white transition-all duration-200",style:{width:`${(a-G.startTime)/(G.endTime-G.startTime)*100}%`}})]}),s.jsx("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50",children:s.jsxs("div",{className:"bg-gray-900/95 text-white px-2 py-1 rounded text-xs max-w-48 text-center shadow-lg border border-gray-600",children:[s.jsx("div",{className:"font-medium",children:G.doctor_name||G.doctor}),s.jsxs("div",{className:"text-gray-300 text-xs",children:[Ee(G.startTime),"-",Ee(G.endTime)]}),s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-2 border-r-2 border-t-2 border-l-transparent border-r-transparent border-t-gray-900/95"})]})})]},G.name)})},hn=()=>{const w=new Map,E=new Map([["#3B82F6",{label:"Blue",bgClass:"bg-blue-500",borderClass:"border-blue-400"}],["#10B981",{label:"Green",bgClass:"bg-green-500",borderClass:"border-green-400"}],["#EF4444",{label:"Red",bgClass:"bg-red-500",borderClass:"border-red-400"}],["#F59E0B",{label:"Yellow",bgClass:"bg-yellow-500",borderClass:"border-yellow-400"}],["#8B5CF6",{label:"Purple",bgClass:"bg-purple-500",borderClass:"border-purple-400"}],["#F97316",{label:"Orange",bgClass:"bg-orange-500",borderClass:"border-orange-400"}],["#6B7280",{label:"Gray",bgClass:"bg-gray-500",borderClass:"border-gray-400"}]]);r.forEach(oe=>{const pe=oe.comment_color||"#6B7280";w.has(pe)||w.set(pe,[]),w.get(pe).push(oe)});const G=Array.from(w.entries()).filter(([,oe])=>oe.length>0).sort((oe,pe)=>pe[1].length-oe[1].length);return s.jsx("div",{className:"space-y-2",children:G.map(([oe,pe])=>{const Ue=E.get(oe)||{label:"Unknown"};return s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-600",style:{backgroundColor:oe}}),s.jsx("span",{className:"text-white text-xs font-medium",children:Ue.label}),s.jsxs("span",{className:"text-gray-400 text-xs",children:["(",pe.length,")"]})]})}),s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-6 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded shadow-inner border border-gray-600 cursor-pointer transition-all duration-200",onClick:le=>{if(u>0&&isFinite(u)){const Oe=le.currentTarget.getBoundingClientRect(),Ct=(le.clientX-Oe.left)/Oe.width*u,yt=Math.max(0,Math.min(Ct,u));isFinite(yt)&&xt(yt)}},onMouseDown:le=>{if(le.preventDefault(),y(!0),u>0&&isFinite(u)){const Oe=le.currentTarget.getBoundingClientRect(),Ct=(le.clientX-Oe.left)/Oe.width*u,yt=Math.max(0,Math.min(Ct,u));isFinite(yt)&&xt(yt)}},onMouseMove:le=>{if(u>0){const Oe=le.currentTarget.getBoundingClientRect(),Ct=(le.clientX-Oe.left)/Oe.width*u,yt=Math.max(0,Math.min(Ct,u));P(yt)}if(g&&u>0&&isFinite(u)){const Oe=le.currentTarget.getBoundingClientRect(),Ct=(le.clientX-Oe.left)/Oe.width*u,yt=Math.max(0,Math.min(Ct,u));isFinite(yt)&&xt(yt)}},onMouseUp:()=>y(!1),onMouseEnter:()=>X(!0),onMouseLeave:()=>{X(!1),P(null),y(!1)},children:[s.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 via-blue-400 to-blue-500 transition-all duration-200 ease-out rounded-l-lg",style:{width:`${a/u*100}%`}}),Wt().filter(le=>(le.comment_color||"#6B7280")===oe).map(le=>{var po;const Oe=le.startTime/u*100,Gt=(le.endTime-le.startTime)/u*100,Ct=a>=le.startTime&&a<=le.endTime,yt=la(le);return s.jsxs("div",{className:"absolute z-30",style:{left:`${Oe}%`,width:`${Gt}%`,top:"2px"},children:[s.jsxs("div",{className:`relative cursor-pointer transition-all duration-300 border rounded shadow-sm overflow-hidden group ${Ct?"ring-1 ring-white ring-opacity-60":""}`,style:{height:"16px",minWidth:"8px",backgroundColor:oe,borderColor:oe},onClick:ia=>{ia.stopPropagation(),isFinite(le.startTime)&&xt(le.startTime)},title:`${le.doctor_name||le.doctor} - ${Ee(le.startTime)} to ${Ee(le.endTime)}`,children:[s.jsxs("div",{className:"w-full h-full flex items-center justify-between px-1",children:[s.jsxs("div",{className:"flex items-center",children:[Gt>8&&Or(yt),Gt>15&&s.jsx("span",{className:"text-white text-xs font-medium truncate ml-1 max-w-12",children:((po=le.doctor_name)==null?void 0:po.split(" ")[0])||le.doctor.split("-")[0]})]}),Gt>20&&s.jsxs("span",{className:"text-white text-xs",children:[Math.round(le.endTime-le.startTime),"s"]})]}),Ct&&s.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 bg-white transition-all duration-200",style:{width:`${(a-le.startTime)/(le.endTime-le.startTime)*100}%`}})]}),s.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50",children:s.jsxs("div",{className:"bg-gray-900/95 text-white px-2 py-1 rounded text-xs max-w-32 text-center shadow-lg border border-gray-600",children:[s.jsx("div",{className:"font-medium text-xs",children:le.doctor_name||le.doctor}),s.jsxs("div",{className:"text-gray-300 text-xs",children:[Ee(le.startTime),"-",Ee(le.endTime)]}),s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-2 border-r-2 border-t-2 border-l-transparent border-r-transparent border-t-gray-900/95"})]})})]},le.name)}),s.jsx("div",{className:"absolute top-0 w-0.5 h-full bg-red-500 z-40 pointer-events-none transition-all duration-200 ease-out shadow-lg",style:{left:`${a/u*100}%`},children:s.jsx("div",{className:"absolute -top-1 -left-1.5 w-3 h-3 bg-red-500 rounded-full shadow-lg border border-white"})}),C&&L!==null&&s.jsx("div",{className:"absolute top-0 w-px h-full bg-white/70 z-50 pointer-events-none transition-opacity duration-200",style:{left:`${ce(L)}%`},children:s.jsx("div",{className:"absolute -top-8 -left-6 bg-gray-900/95 text-white px-2 py-1 rounded text-xs font-mono whitespace-nowrap shadow-xl border border-gray-600 z-50",children:Ee(L)})})]})})]},oe)})})};return s.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"relative aspect-video bg-black",children:[s.jsxs("video",{ref:o,onLoadedData:$s,onLoadedMetadata:$s,onCanPlay:$s,onDurationChange:$s,onError:w=>{var oe,pe,Ue,le;console.error("CustomVideoPlayer - Video error:",{title:t,src:e,error:w.currentTarget.error,readyState:w.currentTarget.readyState,networkState:w.currentTarget.networkState,errorCode:(oe=w.currentTarget.error)==null?void 0:oe.code,errorMessage:(pe=w.currentTarget.error)==null?void 0:pe.message});let E="Failed to load video",G="";if(((Ue=w.currentTarget.error)==null?void 0:Ue.code)===4?(E="Video format not supported or file corrupted",G="This video file cannot be played. Please check the file format or upload a new video."):w.currentTarget.networkState===3?(E="Network error loading video - Check if video API is accessible",G="Unable to connect to the video server. Please check your internet connection."):((le=w.currentTarget.error)==null?void 0:le.code)===3&&(E="Video file not found or access denied",G="The video file does not exist on the server. This may be due to a missing upload or incorrect filename in the session configuration."),e.includes("6660998144676.mp4")||e.includes(".mp4")){const Oe=e.split("filename=")[1]||e.split("/").pop();E="Video file not found on server",G=`The video file "${Oe}" does not exist. Please upload the video file or contact your administrator to fix the session configuration.`}M(E+(G?`
${G}`:""))},controls:!1,crossOrigin:"anonymous",preload:"metadata",playsInline:!0,muted:!1,autoPlay:!1,loop:!1,className:"w-full h-full object-contain",onClick:()=>i(!n),style:{objectFit:"contain",backgroundColor:"black"},children:[s.jsx("source",{src:Ss,type:"video/mp4; codecs=avc1.42E01E,mp4a.40.2"}),s.jsx("source",{src:Ss,type:"video/mp4"}),s.jsx("source",{src:Ss,type:"video/webm; codecs=vp8,vorbis"}),s.jsx("source",{src:Ss,type:"video/webm"}),s.jsx("source",{src:Ss,type:"video/ogg; codecs=theora,vorbis"}),s.jsx("source",{src:Ss,type:"video/avi"}),s.jsx("source",{src:Ss,type:"video/quicktime"}),s.jsxs("p",{className:"text-white text-center p-4",children:["Your browser doesn't support HTML5 video. Here is a"," ",s.jsx("a",{href:Ss,className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:"link to the video"})," ","instead."]})]},e),v&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 backdrop-blur-sm z-50",children:s.jsxs("div",{className:"text-center p-8 max-w-lg",children:[s.jsx(ec,{size:48,className:"mx-auto text-red-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Video Load Error"}),s.jsx("div",{className:"text-gray-300 mb-4 space-y-2",children:v.split(`
`).map((w,E)=>s.jsx("p",{className:E===0?"font-medium":"text-sm",children:w},E))}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4",children:[s.jsxs("p",{className:"text-xs text-gray-400 font-mono break-all",children:["Source: ",e]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Video: ",t]})]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("button",{onClick:()=>{M(null),o.current&&o.current.load()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:"Retry"}),e.includes("6660998144676.mp4")&&s.jsx("button",{onClick:()=>{const w=e.replace("6660998144676.mp4","Compressed_cam1.mp4");o.current&&(o.current.src=w,o.current.load(),M(null))},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors duration-200",children:"Use Fallback Video"})]})]})}),s.jsxs("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded-md backdrop-blur-sm",children:[s.jsx("div",{className:"text-xs font-medium",children:t}),s.jsxs("div",{className:"text-xs text-white/80",children:[Ee(a)," / ",Ee(u)]})]}),(()=>{const w=at();if(!w)return null;const E=(a-w.startTime)/(w.endTime-w.startTime)*100;return s.jsx("div",{className:"absolute bottom-1 left-1 right-1 bg-black/90 backdrop-blur-sm text-white p-1.5 rounded-md border border-white/20 shadow-lg z-50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${Is(w).className?Is(w).className.split(" ")[0]:"bg-blue-500"}`,style:Is(w).style}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[s.jsx("span",{className:"font-medium text-xs truncate",children:w.doctor_name||w.doctor}),w.student_name&&w.student_name.trim()&&s.jsxs("span",{className:"inline-flex items-center px-1 py-0.5 rounded text-xs bg-green-600/20 text-green-200 flex-shrink-0",children:["S: ",w.student_name]}),s.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:[Ee(w.startTime),"-",Ee(w.endTime)]}),s.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(w.endTime-a),"s"]})]}),s.jsx("div",{className:"text-xs text-gray-200 mb-0.5 line-clamp-1",children:w.comment_text}),s.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-0.5",children:s.jsx("div",{className:`h-0.5 rounded-full transition-all duration-300 ${Is(w).className?Is(w).className.split(" ")[0]:"bg-blue-500"}`,style:R({width:`${Math.max(0,Math.min(100,E))}%`},Is(w).style)})})]}),s.jsx("button",{onClick:G=>{G.stopPropagation(),xt(w.endTime)},className:"text-gray-400 hover:text-white transition-colors p-0.5 rounded hover:bg-white/10",title:"Skip",children:s.jsx(ul,{size:10})})]})})})(),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300 cursor-pointer",onClick:()=>i(!n),children:s.jsx("div",{className:"bg-black/50 rounded-full p-3 backdrop-blur-sm",children:n?s.jsx(Df,{size:24,className:"text-white"}):s.jsx(zs,{size:24,className:"text-white"})})})]}),s.jsxs("div",{className:"bg-gray-800 px-4 py-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Lu,className:"p-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors duration-200 min-h-[36px] min-w-[36px] flex items-center justify-center",title:"Skip backward 10s",children:s.jsx(m2,{size:16})}),s.jsx("button",{onClick:()=>i(!n),className:"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors duration-200 min-h-[36px] min-w-[36px] flex items-center justify-center",title:n?"Pause":"Play",children:n?s.jsx(Df,{size:16}):s.jsx(zs,{size:16})}),s.jsx("button",{onClick:$u,className:"p-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors duration-200 min-h-[36px] min-w-[36px] flex items-center justify-center",title:"Skip forward 10s",children:s.jsx(ul,{size:16})}),s.jsxs("button",{onClick:Au,className:"px-3 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium transition-colors duration-200 min-h-[36px] flex items-center justify-center",title:"Playback speed",children:[x,"x"]}),s.jsx("div",{className:"h-6 w-px bg-gray-600 mx-1"}),s.jsxs("div",{className:"flex items-center gap-1 bg-gray-700/50 p-1 rounded-lg",children:[s.jsx("button",{onClick:nt,disabled:$<=1,className:`p-1.5 rounded text-xs transition-colors ${$<=1?"text-gray-500":"text-gray-300 hover:text-white hover:bg-gray-600"}`,title:"Zoom out",children:s.jsx(I2,{size:14})}),s.jsx("span",{className:"text-white text-xs font-mono px-2 min-w-[36px] text-center",children:$===1?"1x":`${$.toFixed(1)}x`}),s.jsx("button",{onClick:Xe,disabled:$>=20,className:`p-1.5 rounded text-xs transition-colors ${$>=20?"text-gray-500":"text-gray-300 hover:text-white hover:bg-gray-600"}`,title:"Zoom in",children:s.jsx($2,{size:14})}),$>1&&s.jsx("button",{onClick:z,className:"p-1.5 rounded text-xs text-yellow-400 hover:text-yellow-300 hover:bg-gray-600 transition-colors",title:"Reset zoom",children:s.jsx(Jw,{size:14})})]}),s.jsxs("div",{className:"flex bg-gray-700/50 rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:()=>It("single"),className:`px-2.5 py-2 text-xs transition-colors ${ms==="single"?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,title:"Single timeline",children:s.jsx(G0,{size:14})}),s.jsx("button",{onClick:()=>It("multi"),className:`px-2.5 py-2 text-xs transition-colors ${ms==="multi"?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,title:"Multi timeline",children:s.jsx(Xj,{size:14})})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-white font-mono text-sm font-medium",children:[Ee(a)," / ",Ee(u)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A2,{size:16,className:"text-gray-300"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:N,onChange:w=>Mu(parseFloat(w.target.value)),className:"w-16 h-1 bg-gray-600 rounded-full appearance-none cursor-pointer touch-manipulation",style:{WebkitAppearance:"none",height:"6px"}})]}),s.jsx("button",{onClick:Ru,className:"p-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors duration-200 min-h-[36px] min-w-[36px] flex items-center justify-center",title:"Fullscreen",children:s.jsx(ku,{size:16})})]})]}),s.jsxs("div",{className:"bg-gradient-to-b from-gray-800 to-gray-900 p-2 border-t border-gray-700",children:[s.jsx("div",{className:"mb-2 flex items-center justify-between",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:(()=>{const w=new Map,E=new Map([["#3B82F6","Blue"],["#10B981","Green"],["#EF4444","Red"],["#F59E0B","Yellow"],["#8B5CF6","Purple"],["#F97316","Orange"],["#6B7280","Gray"]]);return r.forEach(oe=>{const pe=oe.comment_color||"#6B7280";w.set(pe,(w.get(pe)||0)+1)}),Array.from(w.entries()).filter(([,oe])=>oe>0).sort((oe,pe)=>pe[1]-oe[1]).slice(0,6).map(([oe,pe])=>s.jsxs("span",{className:"flex items-center gap-1",title:`${E.get(oe)||"Unknown"}: ${pe} comments`,children:[s.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-600",style:{backgroundColor:oe}}),pe]},oe))})()})})}),Be&&s.jsxs("div",{className:"mb-3 bg-gray-800/50 rounded-lg border border-gray-600 p-3",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("h3",{className:"text-sm font-medium text-white flex items-center gap-1",children:[s.jsx(s2,{size:14,className:"text-green-400"}),"Segments"]})}),s.jsx("div",{className:"mb-2",children:s.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:na.map(w=>s.jsx("button",{onClick:()=>$r(w),className:`px-2 py-1 rounded text-xs font-medium transition-all ${ks(w.color)} hover:opacity-90`,title:w.description,children:w.name},w.name))})}),s.jsxs("div",{className:"p-2 bg-gray-700/30 rounded border border-gray-600 mb-2",children:[s.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-2",children:[s.jsx("input",{type:"text",value:we.name,onChange:w=>fs(E=>ne(R({},E),{name:w.target.value})),className:"px-2 py-1 bg-gray-800 border border-gray-600 rounded text-white text-xs",placeholder:"Name"}),s.jsx("input",{type:"number",value:we.startTime,onChange:w=>fs(E=>ne(R({},E),{startTime:parseInt(w.target.value)||0})),className:"px-2 py-1 bg-gray-800 border border-gray-600 rounded text-white text-xs",placeholder:"Start",min:"0",max:u}),s.jsx("input",{type:"number",value:we.endTime,onChange:w=>fs(E=>ne(R({},E),{endTime:parseInt(w.target.value)||0})),className:"px-2 py-1 bg-gray-800 border border-gray-600 rounded text-white text-xs",placeholder:"End",min:we.startTime+1,max:u}),s.jsxs("select",{value:we.color,onChange:w=>fs(E=>ne(R({},E),{color:w.target.value})),className:"px-2 py-1 bg-gray-800 border border-gray-600 rounded text-white text-xs",children:[s.jsx("option",{value:"blue",children:"Blue"}),s.jsx("option",{value:"green",children:"Green"}),s.jsx("option",{value:"red",children:"Red"}),s.jsx("option",{value:"yellow",children:"Yellow"}),s.jsx("option",{value:"purple",children:"Purple"}),s.jsx("option",{value:"gray",children:"Gray"}),s.jsx("option",{value:"orange",children:"Orange"}),s.jsx("option",{value:"indigo",children:"Indigo"})]}),$e?s.jsx("button",{onClick:hs,disabled:!we.name||we.startTime>=we.endTime,className:"px-2 py-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded text-xs transition-colors",children:"Save"}):s.jsx("button",{onClick:on,disabled:!we.name||we.startTime>=we.endTime,className:"px-2 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded text-xs transition-colors",children:"Add"})]}),s.jsx("input",{type:"text",value:we.description,onChange:w=>fs(E=>ne(R({},E),{description:w.target.value})),className:"w-full px-2 py-1 bg-gray-800 border border-gray-600 rounded text-white text-xs",placeholder:"Description (optional)"})]}),B.length>0&&s.jsx("div",{className:"max-h-24 overflow-y-auto",children:s.jsx("div",{className:"space-y-1",children:B.map(w=>{const E=a>=w.startTime&&a<=w.endTime;return s.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded text-xs transition-all ${E?"bg-gray-700/50 border-blue-500":"bg-gray-800/30 hover:bg-gray-700/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${ks(w.color).split(" ")[0]}`}),s.jsx("span",{className:"text-white font-medium truncate",children:w.name}),s.jsxs("span",{className:"text-gray-400 text-xs",children:[Ee(w.startTime),"-",Ee(w.endTime)]}),E&&s.jsx("span",{className:"px-1 bg-blue-600 text-blue-100 text-xs rounded",children:""})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>dn(w),className:"p-1 text-gray-400 hover:text-blue-400 rounded transition-colors",title:"Go",children:s.jsx(zs,{size:10})}),s.jsx("button",{onClick:()=>aa(w),className:"p-1 text-gray-400 hover:text-yellow-400 rounded transition-colors",title:"Edit",children:s.jsx(g2,{size:10})}),s.jsx("button",{onClick:()=>cn(w.id),className:"p-1 text-gray-400 hover:text-red-400 rounded transition-colors",title:"Delete",children:s.jsx(Ba,{size:10})})]})]},w.id)})})})]}),s.jsx("div",{className:"relative pt-2",children:ms==="single"?s.jsx(s.Fragment,{children:s.jsxs("div",{ref:d,className:`relative h-8 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded-lg shadow-inner border border-gray-600 transition-all duration-200 video-timeline ${$>1&&!g&&!Z?"cursor-grab":"cursor-pointer"} ${Z?"cursor-grabbing":""}`,onClick:Os,onMouseDown:ho,onMouseMove:w=>{if(Cl(w),u>0){const E=w.currentTarget.getBoundingClientRect(),G=Ne(w.clientX,E),oe=Math.max(0,Math.min(G,u));P(oe)}},onMouseUp:_s,onMouseEnter:()=>X(!0),onMouseLeave:()=>{_s(),X(!1),P(null)},onWheel:_e,title:$>1?"Ctrl+scroll to zoom  Shift+drag to pan  Click to seek":"Click to seek  Ctrl+scroll to zoom",children:[s.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 via-blue-400 to-blue-500 transition-all duration-200 ease-out rounded-l-xl",style:{width:`${ce(a)}%`}}),mn(),fn(),s.jsxs("div",{className:"absolute top-0 w-0.5 h-full bg-red-500 z-40 pointer-events-none transition-all duration-200 ease-out shadow-sm",style:{left:`${ce(a)}%`},children:[s.jsx("div",{className:"absolute -top-1 -left-1.5 w-3 h-3 bg-red-500 rounded-full shadow-sm border border-white"}),s.jsxs("div",{className:"absolute -top-8 -left-6 bg-gray-900/95 text-white px-2 py-0.5 rounded text-xs font-mono whitespace-nowrap shadow-lg border border-gray-600",children:[Ee(a),s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-2 border-r-2 border-t-2 border-l-transparent border-r-transparent border-t-gray-900/95"})]})]}),C&&L!==null&&s.jsx("div",{className:"absolute top-0 w-px h-full bg-white/70 z-50 pointer-events-none transition-opacity duration-200",style:{left:`${ce(L)}%`},children:s.jsxs("div",{className:"absolute -top-8 -left-6 bg-gray-900/95 text-white px-2 py-0.5 rounded text-xs font-mono whitespace-nowrap shadow-lg border border-gray-600 z-50",children:[Ee(L),s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-2 border-r-2 border-t-2 border-l-transparent border-r-transparent border-t-gray-900/95"})]})})]})}):hn()}),(()=>{const w=un();return w?s.jsx("div",{className:"mt-2 p-2 bg-gray-800/50 rounded border border-gray-600",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${ks(w.color).split(" ")[0]}`}),s.jsx("span",{className:"text-white font-medium",children:w.name}),s.jsxs("span",{className:"text-gray-400",children:["(",Ee(w.startTime),"-",Ee(w.endTime),")"]})]}),s.jsxs("span",{className:"text-gray-400",children:[Math.round(w.endTime-a),"s left"]})]})}):null})(),s.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-center justify-between",children:[s.jsx("span",{children:"Click to seek  Hover for details  Ctrl+scroll to zoom"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{children:[r.length," annotations"]}),B.length>0&&s.jsxs("span",{children:[" ",B.length," segments"]}),$>1&&s.jsxs("span",{children:[" ",$.toFixed(1),"x zoom"]})]})]})]})]})},Je=e=>{const t=Math.floor(e/60),r=Math.floor(e%60);return`${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`},Z2=e=>{if(!e)return"";try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch(t){return console.error("Error formatting date:",t),e}},Hf=e=>e.comment_text.startsWith("[EVALUATION]"),lc=(e,t)=>{var n;return((n={identification:{0:"Not demonstrated",1:"Basic identification",2:"Good identification",3:"Excellent identification"},situation:{0:"Not demonstrated",1:"Basic situation awareness",2:"Good situation awareness",3:"Excellent situation awareness"},history:{0:"Not demonstrated",1:"Minimal history taking",2:"Adequate history taking",3:"Comprehensive history"},examination:{0:"Not demonstrated",1:"Limited examination",2:"Systematic examination",3:"Thorough examination"},assessment:{0:"Not demonstrated",1:"Basic assessment",2:"Good assessment",3:"Excellent assessment"},recommendation:{0:"Not demonstrated",1:"Basic recommendation",2:"Good recommendation",3:"Excellent recommendation"},grs:{0:"Extensive questioning",1:"Moderate questioning",2:"Some questioning",3:"Little/no questioning"}}[e])==null?void 0:n[t])||"Not selected"},J2=e=>{switch(e.toLowerCase()){case"active":case"ongoing":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},eN=({sessionName:e,authUser:t})=>{const[r,n]=f.useState(null),[a,l]=f.useState(null),[i,c]=f.useState(!1),[o,d]=f.useState(!0),u=t==="administrator@gmail.com";f.useEffect(()=>{xe(void 0,null,function*(){if(!e||!t){d(!1);return}if(u){c(!0),d(!1);return}c(!0),d(!1)})},[e,t,u]);const{data:m,error:x,isLoading:b,mutate:N}=St("surgical_training.api.session.get_session_details");return f.useEffect(()=>{var S,p;m&&(((S=m.message)==null?void 0:S.message)==="Success"&&((p=m.message)!=null&&p.data)?(n(m.message.data),l(null)):m.message==="Success"&&m.data?(n(m.data),l(null)):m.videos&&(n(m),l(null)))},[m,x]),{sessionData:r,error:a,hasAccess:i,isAccessPending:o,isLoading:b,refreshSession:()=>xe(void 0,null,function*(){try{yield N(),O.success("Session data refreshed")}catch(S){O.error("Failed to refresh session data")}}),isAdmin:u}},tN=({isOpen:e,onClose:t,sessionData:r,activeVideos:n,masterVideo:a,onAddVideo:l,onRemoveVideo:i})=>{var c;return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] border border-gray-200 animate-fade-in-up overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Select Additional Videos"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Choose videos to display alongside the master video"})]}),s.jsx(U,{onClick:t,variant:"outline",size:"sm",className:"text-gray-500 hover:text-gray-700",children:s.jsx(Xt,{size:20})})]})}),s.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(c=r.videos)==null?void 0:c.map(o=>{const d=n.find(m=>m.title===o.title),u=(a==null?void 0:a.title)===o.title;return s.jsxs("div",{className:`border rounded-lg overflow-hidden transition-all duration-200 ${u?"border-blue-500 bg-blue-50":d?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsxs("div",{className:"aspect-video bg-gray-900 relative",children:[s.jsx("video",{src:o.video_file,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}),u&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsxs("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium",children:[s.jsx(gd,{size:12,className:"inline mr-1"}),"Master"]})}),d&&!u&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsxs("span",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs font-medium",children:[s.jsx(er,{size:12,className:"inline mr-1"}),"Selected"]})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2 truncate",children:o.title}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:o.duration?`${Math.floor(o.duration/60)}:${String(Math.floor(o.duration%60)).padStart(2,"0")}`:"Loading..."}),u?s.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Master Video"}):d?s.jsx(U,{onClick:()=>i(o),variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50 font-medium px-3 py-1 text-xs",children:"Remove"}):s.jsx(U,{onClick:()=>l(o),variant:"outline",size:"sm",className:"text-green-600 border-green-300 hover:bg-green-50 font-medium px-3 py-1 text-xs",children:"Add"})]})]})]},o.title)})}),(!r.videos||r.videos.length===0)&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cr,{size:48,className:"mx-auto text-gray-300 mb-4"}),s.jsx("h4",{className:"text-lg font-medium text-gray-500 mb-2",children:"No Videos Available"}),s.jsx("p",{className:"text-gray-400",children:"No videos found for this session."})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[n.filter(o=>o.title!==(a==null?void 0:a.title)).length," additional videos selected"]}),s.jsx(U,{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-6",children:"Done"})]})})]})})},sN=({activeVideos:e,masterVideo:t,masterVideoHeight:r,videoPlayerStates:n,onShowVideoSelection:a,onHandleProgress:l,onHandlePlayPause:i,onHandleSeek:c})=>{const o=e.filter(d=>d.title!==(t==null?void 0:t.title));return s.jsx("div",{className:"w-1/3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded-lg px-3 py-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ku,{size:16,className:"text-gray-600"}),s.jsx("h4",{className:"text-sm font-bold text-gray-800",children:"Additional Views"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"bg-gray-200 text-gray-600 px-2 py-1 rounded text-xs font-medium",children:[o.length," videos"]}),s.jsxs(U,{onClick:a,variant:"outline",size:"sm",className:"text-blue-600 border-blue-300 hover:bg-blue-50 font-medium px-2 py-1 text-xs",children:[s.jsx(Cr,{size:12,className:"mr-1"}),"Add"]})]})]})}),o.length>0?s.jsx("div",{className:"space-y-3",style:{maxHeight:r>0?`${r-50}px`:"auto",overflowY:"auto"},children:o.map(d=>{const u=n.get(d.title);if(!u)return null;const m=o.length,x=r>0?Math.min((r-100)/m-12,250):200;return s.jsxs("div",{className:"bg-gray-900 border border-gray-400 rounded-lg overflow-hidden shadow-md",children:[s.jsx("div",{className:"px-3 py-2 bg-gray-200 border-b border-gray-400",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h5",{className:"text-sm font-bold text-gray-800",children:d.title}),s.jsx("span",{className:"bg-gray-300 text-gray-700 px-2 py-1 rounded text-xs font-medium",children:"View Only"})]})}),s.jsxs("div",{className:"bg-black relative",style:{height:`${x}px`,minHeight:"120px"},children:[s.jsx("video",{className:"w-full h-full object-cover",src:d.video_file,muted:!0,playsInline:!0,ref:b=>{b&&(u.isPlaying&&b.paused?b.play().catch(()=>{}):!u.isPlaying&&!b.paused&&b.pause(),Math.abs(b.currentTime-u.currentTime)>1&&(b.currentTime=u.currentTime))},onTimeUpdate:b=>{const N=b.target.currentTime;l(d.title,{playedSeconds:N})}},`sub-${d.title}`),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black bg-opacity-30",children:s.jsx("button",{onClick:()=>i(d.title,!u.isPlaying,!0),className:"bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-3 transition-all",children:u.isPlaying?s.jsx(vd,{size:24,className:"text-gray-800"}):s.jsx(zs,{size:24,className:"text-gray-800"})})})]}),s.jsx("div",{className:"px-3 py-2 bg-gray-100",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-mono text-gray-600 min-w-0",children:[Math.floor(u.currentTime/60),":",String(Math.floor(u.currentTime%60)).padStart(2,"0")]}),s.jsx("div",{className:"flex-1 h-2 bg-gray-300 rounded-full overflow-hidden cursor-pointer",onClick:b=>{const N=b.currentTarget.getBoundingClientRect(),j=(b.clientX-N.left)/N.width,S=document.querySelector(`video[src="${d.video_file}"]`);if(S&&S.duration){const p=j*S.duration;c(d.title,p)}},children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-200",style:{width:`${(()=>{const b=document.querySelector(`video[src="${d.video_file}"]`),N=(b==null?void 0:b.duration)||300;return Math.min((u.currentTime||0)/N*100,100)})()}%`}})}),s.jsx("span",{className:"text-xs font-mono text-gray-600 min-w-0",children:(()=>{const b=document.querySelector(`video[src="${d.video_file}"]`),N=(b==null?void 0:b.duration)||0;if(N>0){const j=Math.floor(N/60),S=Math.floor(N%60);return`${j}:${String(S).padStart(2,"0")}`}return"--:--"})()})]})})]},d.title)})}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Cr,{size:24,className:"mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm",children:"No additional videos selected"}),s.jsx("p",{className:"text-xs text-gray-400",children:'Click "Add" to select videos'})]})]})})},rN=({isOpen:e,onClose:t,customTemplates:r,newTemplate:n,editingTemplate:a,onNewTemplateChange:l,onCreateTemplate:i,onEditTemplate:c,onUpdateTemplate:o,onCancelTemplateEdit:d,onDeleteTemplate:u,onEditingTemplateChange:m})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] border border-gray-200 animate-fade-in-up overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Template Manager"}),s.jsx(U,{onClick:t,variant:"ghost",size:"sm",className:"text-gray-400 hover:text-gray-600",children:""})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-4",children:"Create New Template"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",value:n.title,onChange:x=>l("title",x.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",placeholder:"Template title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emoji"}),s.jsx("input",{type:"text",value:n.emoji,onChange:x=>l("emoji",x.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",placeholder:"",maxLength:2})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),s.jsx("textarea",{rows:3,value:n.content,onChange:x=>l("content",x.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 resize-none",placeholder:"Template content..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),s.jsxs("select",{value:n.color,onChange:x=>l("color",x.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",children:[s.jsx("option",{value:"blue",children:"Blue"}),s.jsx("option",{value:"green",children:"Green"}),s.jsx("option",{value:"yellow",children:"Yellow"}),s.jsx("option",{value:"red",children:"Red"}),s.jsx("option",{value:"purple",children:"Purple"})]})]}),s.jsx(U,{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Create Template"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-4",children:"Your Templates"}),Array.isArray(r)&&r.length>0?s.jsx("div",{className:"space-y-3",children:r.map(x=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:(a==null?void 0:a.name)===x.name?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",value:a.title,onChange:b=>m("title",b.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emoji"}),s.jsx("input",{type:"text",value:a.emoji,onChange:b=>m("emoji",b.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",maxLength:2})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),s.jsx("textarea",{rows:3,value:a.content,onChange:b=>m("content",b.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),s.jsxs("select",{value:a.color,onChange:b=>m("color",b.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",children:[s.jsx("option",{value:"blue",children:"Blue"}),s.jsx("option",{value:"green",children:"Green"}),s.jsx("option",{value:"yellow",children:"Yellow"}),s.jsx("option",{value:"red",children:"Red"}),s.jsx("option",{value:"purple",children:"Purple"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U,{onClick:o,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:"Save"}),s.jsx(U,{onClick:d,variant:"outline",size:"sm",children:"Cancel"})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-lg",children:x.emoji}),s.jsx("span",{className:"font-medium text-gray-900",children:x.title})]}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:x.content})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(U,{onClick:()=>c(x),variant:"outline",size:"sm",children:s.jsx(Va,{size:14})}),s.jsx(U,{onClick:()=>u(x.name),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Ba,{size:14})})]})]})},x.name))}):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No custom templates yet. Create your first template above!"})]})]})]})}):null,nN=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!1),[a,l]=f.useState(null),[i,c]=f.useState(!0),[o,d]=f.useState(!1),{call:u}=st("surgical_training.api.simple_label_classifier.classify_comment_label"),{call:m}=st("surgical_training.api.simple_label_classifier.get_user_ai_preference"),{call:x}=st("surgical_training.api.simple_label_classifier.set_user_ai_preference"),b=(S,p="",g="")=>xe(void 0,null,function*(){if(console.log(" Classification Debug: Starting classification",{aiEnabled:i,commentLength:S.trim().length,videoTitle:p||"none",sessionName:g||"none"}),!i)return console.log(" Classification Debug: AI disabled, skipping"),null;if(!S.trim()||S.trim().length<10)return console.log(" Classification Debug: Comment too short"),l("Comment too short for classification"),null;try{console.log(" Classification Debug: Calling API"),n(!0),l(null);const y=yield u({comment_text:S,video_title:p,session_name:g});console.log(" Classification Debug: Raw API response",y),console.log(" Classification Debug: Response analysis",{responseType:typeof y,responseKeys:y?Object.keys(y):"null",message:y==null?void 0:y.message,success:(y==null?void 0:y.message)==="Success",color:y==null?void 0:y.suggested_color,confidence:y==null?void 0:y.confidence,error:y==null?void 0:y.error});const v=(y==null?void 0:y.message)||y;if(console.log(" Classification Debug: API response extracted",v),(v==null?void 0:v.message)==="Success")return t({suggested_color:v.suggested_color,confidence:v.confidence,reasoning:v.reasoning}),console.log(" Classification Debug: Success, color set",{color:v.suggested_color,confidence:v.confidence}),v.suggested_color;{const M=(v==null?void 0:v.error)||"Classification failed";return l(M),t(null),console.log(" Classification Debug: Failed",M),null}}catch(y){return console.log(" Classification Debug: Exception",y.message),l(y.message||"Classification failed"),t(null),null}finally{n(!1),console.log(" Classification Debug: Complete")}}),N=()=>{t(null),l(null)},j=()=>xe(void 0,null,function*(){try{d(!0),console.log(" Toggle Debug: Starting toggle, current aiEnabled:",i);const S=yield x({enabled:!i});console.log(" Toggle Debug: API response:",S);const p=(S==null?void 0:S.message)||S;console.log(" Toggle Debug: Extracted response:",p),(p==null?void 0:p.message)==="Success"?(c(p.ai_enabled),console.log(" Toggle Debug: Success, new aiEnabled:",p.ai_enabled),p.ai_enabled||N()):console.log(" Toggle Debug: Failed to toggle, response not success")}catch(S){console.log(" Toggle Debug: Exception:",S)}finally{d(!1),console.log(" Toggle Debug: Toggle completed")}});return Xn.useEffect(()=>{xe(void 0,null,function*(){try{const p=yield m({}),y=((p==null?void 0:p.message)||p).ai_enabled!==!1;c(y)}catch(p){c(!0)}})},[m]),{suggestedColor:e,isClassifying:r,error:a,classifyComment:b,clearSuggestion:N,aiEnabled:i,toggleAI:j,isTogglingAI:o}},ic="surgical_training_isbar_guide_skipped",aN=()=>{const[e,t]=f.useState(!1);return f.useEffect(()=>{const l=localStorage.getItem(ic)==="true";t(l)},[]),{isGuideSkipped:e,shouldShowGuide:()=>!e,skipGuide:()=>{localStorage.setItem(ic,"true"),t(!0)},resetGuide:()=>{localStorage.removeItem(ic),t(!1)}}},lN=({sessionName:e,authUser:t})=>{var Ju,em,tm,sm,rm,nm;const[r,n]=f.useState(null),[a,l]=f.useState(new Map),[i,c]=f.useState([]),[o,d]=f.useState("single"),[u,m]=f.useState(!1),[x,b]=f.useState([]),[N,j]=f.useState(null),[S,p]=f.useState(!0),[g,y]=f.useState(!1),[v,M]=f.useState(null),[L,P]=f.useState(!1),[C,X]=f.useState(null),[$,de]=f.useState(!1),[he,W]=f.useState(""),[Z,te]=f.useState("prompt"),[D,ee]=f.useState(!1),[_,I]=f.useState(!1),[V,ue]=f.useState(0),[Q,Ne]=f.useState("general"),[ce,Xe]=f.useState("#3B82F6"),[nt,z]=f.useState("none"),[ae,ge]=f.useState(()=>{try{const h=localStorage.getItem("comment_colors");return h?new Map(Object.entries(JSON.parse(h))):new Map}catch(h){return new Map}}),[ye,_e]=f.useState(()=>{try{const h=localStorage.getItem("pending_comment_colors");if(h){const k=JSON.parse(h);return new Map(Object.entries(k).map(([T,A])=>[T,A]))}return new Map}catch(h){return new Map}}),at=[{name:"Blue",value:"#3B82F6",bg:"bg-blue-500"},{name:"Green",value:"#10B981",bg:"bg-green-500"},{name:"Red",value:"#EF4444",bg:"bg-red-500"},{name:"Yellow",value:"#F59E0B",bg:"bg-yellow-500"}],ms={Blue:"General observations, neutral comments",Green:"Positive feedback, excellent technique",Red:"Critical issues, safety concerns",Yellow:"Areas for improvement, caution needed"},[It,B]=f.useState(!1),[fe,Be]=f.useState(!1),[Le,$e]=f.useState(!1),[Ye,we]=f.useState(null),[fs,na]=f.useState(!1),_l=(h,k=1)=>xe(void 0,null,function*(){try{if(yield rr(),yield new Promise(T=>setTimeout(T,500)),k>0)return yield h()}catch(T){throw console.error("Retry after session refresh failed:",T),T}});f.useEffect(()=>{try{const h=Object.fromEntries(ae.entries());localStorage.setItem("comment_colors",JSON.stringify(h))}catch(h){console.warn("Failed to persist comment colors:",h)}},[ae]),f.useEffect(()=>{try{const h=Object.fromEntries(ye.entries());localStorage.setItem("pending_comment_colors",JSON.stringify(h))}catch(h){console.warn("Failed to persist pending comment colors:",h)}},[ye]);const ks=h=>{const k=ae.get(h.name);if(k)return k;const T=`${h.comment_text}_${h.video_title}`,A=ye.get(T);return A?(console.log(` Moving pending color to permanent storage for ${h.name}: ${A.color}`),ge(Y=>new Map(Y.set(h.name,A.color))),_e(Y=>{const K=new Map(Y);return K.delete(T),K}),A.color):h.comment_color&&h.comment_color!=="#FFFFFF"?h.comment_color:"#FFFFFF"},[on,aa]=f.useState(null),[hs,cn]=f.useState(null),[dn,$r]=f.useState(""),[un,mn]=f.useState("#3B82F6"),[Ss,$s]=f.useState(null),[xt,Os]=f.useState(""),[Ee,Au]=f.useState(!1),[Mu,Ru]=f.useState(""),[Lu,$u]=f.useState(""),[la,Or]=f.useState([]),[Is,ho]=f.useState(!1),[_s,Cl]=f.useState({title:"",content:"",color:"blue",emoji:""}),[Wt,fn]=f.useState(null),[hn,w]=f.useState("comment"),[E,G]=f.useState({identification:"",situation:"",history:"",examination:"",assessment:"",recommendation:"",grs:"",comment:""}),[oe,pe]=f.useState({}),[Ue,le]=f.useState([]),[Oe,Gt]=f.useState(new Set),{shouldShowGuide:Ct,skipGuide:yt}=aN(),[po,ia]=f.useState(""),[Ou,oa]=f.useState(""),[Ig,Iu]=f.useState(!1),Du=f.useRef(new Map),go=f.useRef(null),[Dg,Fg]=f.useState(0),{clearSuggestion:Fu}=nN(),{sessionData:Ug,error:Vg,hasAccess:Bg,isAccessPending:Hg,isLoading:Wg,refreshSession:rr}=eN({sessionName:e,authUser:t}),me=Ug,ca=Vg;if(!e)return s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Br,{className:"h-16 w-16 text-red-500 mx-auto"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Session Not Found"}),s.jsx("p",{className:"text-gray-600",children:"The session you're looking for doesn't exist or the URL is invalid."}),s.jsx(ls,{to:"/",children:s.jsxs(U,{className:"mt-4",children:[s.jsx(mr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})});f.useEffect(()=>{if(!go.current)return;const h=new ResizeObserver(k=>{for(const T of k){const{height:A}=T.contentRect;Fg(A)}});return h.observe(go.current),()=>{h.disconnect()}},[v]),f.useEffect(()=>{const h=new MutationObserver(T=>{T.forEach(A=>{A.addedNodes.forEach(Y=>{if(Y.nodeType===1){const K=Y;K.style.minHeight&&(K.classList.contains("h-0")||K.style.minHeight.includes("px"))&&(console.warn("Spacer div detected and removed:",K),K.remove())}})})}),k=document.querySelector(".comment-list-container");return k&&h.observe(k,{childList:!0,subtree:!0}),()=>h.disconnect()},[i]);const{call:xo,loading:da}=st("surgical_training.api.comment.add_comment"),{call:Gg,loading:Uu}=st("surgical_training.api.comment.delete_comment"),{call:qg}=st("surgical_training.api.comment.update_comment"),{data:ps,mutate:yo,error:Yg}=St("surgical_training.api.comment.get_custom_templates"),{call:Kg}=st("surgical_training.api.comment.create_custom_template"),{call:Qg}=st("surgical_training.api.comment.update_custom_template"),{call:Xg}=st("surgical_training.api.comment.delete_custom_template");f.useEffect(()=>{(()=>{const k=window.SpeechRecognition||window.webkitSpeechRecognition;if(k){const T=new k;T.continuous=!0,T.interimResults=!0,T.lang="en-US",T.maxAlternatives=1,T.onresult=A=>{var ie;let Y="",K="";for(let be=A.resultIndex;be<A.results.length;be++){const ct=A.results[be][0].transcript;A.results[be].isFinal?Y+=ct:K+=ct}W(Y+K);const F=Ds();if(F&&Y){const be=((ie=a.get(F.title))==null?void 0:ie.newComment)||"",ct=be?`${be} ${Y}`:Y;gs(F.title,ct)}},T.onerror=A=>{switch(console.error("Speech recognition error:",A.error),P(!1),A.error){case"network":O.error("Network error during speech recognition");break;case"not-allowed":O.error("Microphone access denied. Please allow microphone access and try again."),te("denied");break;case"no-speech":O("No speech detected. Try speaking closer to the microphone.");break;case"audio-capture":O.error("No microphone found or audio capture failed");break;default:O.error(`Speech recognition error: ${A.error}`)}},T.onstart=()=>{P(!0),W(""),O.success(" Listening... Speak now")},T.onend=()=>{P(!1),W("")},X(T),de(!0)}else de(!1),console.warn("Speech recognition not supported in this browser")})(),navigator.permissions.query({name:"microphone"}).then(k=>{te(k.state),k.onchange=()=>{te(k.state)}}).catch(()=>{te("prompt")})},[r,a]);const Vu=()=>xe(void 0,null,function*(){if(!$){O.error("Speech recognition is not supported in your browser. Please use Chrome, Edge, or Safari.");return}if(!C){O.error("Speech recognition not initialized");return}if(L)C.stop(),P(!1),O(" Voice recording stopped");else try{if(Z!=="granted")try{yield navigator.mediaDevices.getUserMedia({audio:!0}),te("granted")}catch(h){O.error("Microphone access required for voice comments. Please allow access and try again."),te("denied");return}C.start()}catch(h){console.error("Error starting speech recognition:",h),O.error("Failed to start voice recording. Please check your microphone and try again.")}}),Zg=()=>{W(""),C&&L&&C.stop()},Jg=()=>{var k;const h=Ds();if(h&&he.trim()){const T=((k=a.get(h.title))==null?void 0:k.newComment)||"",A=T?`${T} ${he.trim()}`:he.trim();gs(h.title,A),W(""),O.success("Voice transcript added to comment")}};f.useEffect(()=>{const h=k=>{var T;if(!(k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement))switch(k.key.toLowerCase()){case"c":if(k.ctrlKey||k.metaKey)return;k.preventDefault();const A=document.querySelector('textarea[placeholder*="Describe what you observe"]');A&&A.focus();break;case"e":const Y=Ds();if(Y){k.preventDefault();const ie=vt(Y.title);if(ie.length>0){const be=ie[ie.length-1];Pl(be.id)}}break;case"enter":if(k.ctrlKey||k.metaKey){k.preventDefault();const ie=Ds();if(ie){const be=(T=a.get(ie.title))==null?void 0:T.newComment.trim();be&&El(ie.title,be,Q)}}break;case" ":const K=Ds();if(K){k.preventDefault();const ie=a.get(K.title);ie&&ua(K.title,!ie.isPlaying)}break;case"escape":const F=Ds();F&&gs(F.title,"");break}};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[r,a,Ue,Q]),f.useEffect(()=>{me&&(me.videos&&Array.isArray(me.videos),c(Array.isArray(me.comments)?me.comments:[]),me.videos&&Array.isArray(me.videos)&&me.videos.length>0&&((!r||!me.videos.find(h=>h.title===r.title))&&n(me.videos[0]),l(h=>{const k=new Map;return me.videos.forEach(T=>{const A=h.get(T.title);k.set(T.title,{isPlaying:(A==null?void 0:A.isPlaying)||!1,currentTime:(A==null?void 0:A.currentTime)||0,newComment:(A==null?void 0:A.newComment)||""})}),k}))),ca&&console.error("Session data error from hook:",ca)},[me,ca,r]),f.useEffect(()=>{ps&&(Array.isArray(ps)?Or(ps):ps.message&&Array.isArray(ps.message)?Or(ps.message):ps.data&&Array.isArray(ps.data)?Or(ps.data):(console.warn("Unexpected templates data structure:",ps),Or([])))},[ps,Yg]);const vo=(h,k)=>{l(T=>{const A=new Map(T),Y=A.get(h)||{isPlaying:!1,currentTime:0,newComment:""};return A.set(h,ne(R({},Y),{currentTime:k.playedSeconds})),A})},pn=(h,k)=>{l(T=>{const A=new Map(T),Y=A.get(h)||{isPlaying:!1,currentTime:0,newComment:""};return A.set(h,ne(R({},Y),{currentTime:k})),A})},ua=(h,k,T=!1)=>{l(A=>{const Y=new Map(A),K=Y.get(h)||{isPlaying:!1,currentTime:0,newComment:""};return Y.set(h,ne(R({},K),{isPlaying:k})),o==="side-by-side"&&S&&!T&&x.length>1&&x.forEach(F=>{if(F.title!==h){const ie=Y.get(F.title)||{isPlaying:!1,currentTime:0,newComment:""};Y.set(F.title,ne(R({},ie),{isPlaying:k}))}}),Y})},gs=(h,k)=>{l(T=>{const A=new Map(T),Y=A.get(h)||{isPlaying:!1,currentTime:0,newComment:""};return A.set(h,ne(R({},Y),{newComment:k})),A})},ex=h=>{n(h),d("single")},El=(h,k,T="positive")=>{if(!Ds())return;const Y=a.get(h);if(!Y)return;const K={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,videoTitle:h,startTime:Y.currentTime,comment:k,type:T,createdAt:Date.now()};le(F=>[...F,K]),O.success(`Label started at ${Je(Y.currentTime)}`),ia(`Label recording started at ${Je(Y.currentTime)}`),gs(h,"")},Pl=h=>xe(void 0,null,function*(){var ie,be,ct;const k=Ds();if(!k)return;const T=a.get(k.title);if(!T)return;const A=Ue.find(dt=>dt.id===h);if(!A)return;const Y=T.currentTime,K=Math.round(Y-A.startTime);if(K<=0){O.error("End time must be after start time");return}Fu();const F=((ie=a.get(k.title))==null?void 0:ie.newComment)||A.comment;if(!F||F.trim()===""){O.error("Please enter a comment before stopping the label");return}try{const dt=wo();if(!dt){O.error("No session video reference available");return}const ss={session:e,video_title:dt.title,timestamp:A.startTime,comment_text:F,duration:K,comment_type:A.type,comment_color:ce},Et=yield xo(ss);if(Et&&Et.message){const Ce=Et.message;if(Ce.message==="Success"){O.success(`Label completed: ${Je(K)} duration`),ia(`Label completed with ${Je(K)} duration`);const bt=(be=Ce.data)==null?void 0:be.name;if(bt)console.log(` Storing color for label comment ${bt}: ${ce}`),ge(Dt=>new Map(Dt.set(bt,ce)));else{const Dt=`${F}_${A.videoTitle}`;console.log(` Storing pending color for label ${Dt}: ${ce}`),_e(ma=>new Map(ma.set(Dt,{color:ce,timestamp:Date.now()})))}le(Dt=>Dt.filter(ma=>ma.id!==h)),gs(k.title,""),yield rr()}else Ce.error&&O.error(`Error: ${Ce.error}`)}}catch(dt){if(console.error("Error completing label:",dt),dt&&typeof dt=="object"&&dt!==null){const ss=dt;if(ss.exc_type==="CSRFTokenError"||(ct=ss.exception)!=null&&ct.includes("CSRFTokenError")){O.loading("Session expired, attempting to refresh...",{id:"csrf-retry"});try{yield _l(()=>xe(void 0,null,function*(){var Dt;const Et=wo();if(!Et)throw new Error("No session video reference available");const Ce={session:e,video_title:Et.title,timestamp:A.startTime,comment_text:F,duration:K,comment_type:A.type,comment_color:ce},bt=yield xo(Ce);if(bt&&bt.message&&bt.message.message==="Success"){O.success(`Label completed: ${Je(K)} duration`,{id:"csrf-retry"}),ia(`Label completed with ${Je(K)} duration`);const fa=(Dt=bt.message.data)==null?void 0:Dt.name;fa&&ge(ha=>new Map(ha.set(fa,ce))),le(ha=>ha.filter(ut=>ut.id!==h)),gs(k.title,""),yield rr()}else throw new Error("Retry failed")}))}catch(Et){O.error("Session refresh failed. Please refresh the page manually.",{id:"csrf-retry",duration:5e3})}return}if(ss.httpStatus===403||ss.httpStatus===401){O.error("Authentication failed. Please refresh the page and log in again.",{duration:5e3,id:"auth-error"});return}}O.error("Failed to complete label. Please try again.")}}),bo=h=>{le(k=>k.filter(T=>T.id!==h)),O("Label cancelled")},vt=h=>Ue.filter(k=>k.videoTitle===h),Bu=(h,k)=>xe(void 0,null,function*(){let T=0;if(r){const A=a.get(r.title);A&&(T=A.currentTime)}try{const A=yield Gg({comment_name:h});if(A&&A.message){const Y=A.message;if(Y.message==="Success"){if(O.success("Comment deleted successfully"),yield rr(),r){l(F=>{const ie=new Map(F),be=ie.get(r.title)||{isPlaying:!1,currentTime:0,newComment:""};return ie.set(r.title,ne(R({},be),{currentTime:T})),ie});const K=Du.current.get(r.title);K&&(K.currentTime=T)}aa(null)}else Y.error&&(O.error(`Error: ${Y.error}`),console.error("API Error:",Y.error))}else O.error("Failed to delete comment: Invalid response"),console.error("Invalid API response:",A)}catch(A){console.error("Error deleting comment:",A),O.error("Failed to delete comment")}}),Hu=h=>{$s(null),Os(""),cn({name:h.name,text:h.comment_text}),$r(h.comment_text);const k=ks(h);mn(k)},tx=h=>{cn(null),$r(""),$s(h.name),Os(h.duration?h.duration.toString():"30")},Wu=h=>xe(void 0,null,function*(){if(!xt)return;const k=parseInt(xt);if(isNaN(k)||k<=0){O.error("Please enter a valid duration in seconds");return}try{const A=yield(yield fetch("/api/method/surgical_training.api.comment.update_comment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment_name:h,duration:k})})).json();A&&A.message&&A.message.message==="Success"?(O.success("Duration updated successfully"),$s(null),Os(""),yield rr()):O.error("Failed to update duration")}catch(T){console.error("Error updating duration:",T),O.error("Failed to update duration")}}),Gu=()=>{$s(null),Os("")},sx=()=>xe(void 0,null,function*(){if(!hs)return;let h=0;if(r){const k=a.get(r.title);k&&(h=k.currentTime)}try{const k=yield qg({comment_name:hs.name,comment_text:dn,comment_color:un});if(k&&k.message){const T=k.message;if(T.message==="Success"){O.success("Comment updated successfully"),yield rr();const A=new Map(ae);A.set(hs.name,un),ge(A),localStorage.setItem("comment_colors",JSON.stringify(Object.fromEntries(A)));const Y=`${dn}_${(r==null?void 0:r.title)||""}`,K=new Map(ye);if(K.set(Y,{color:un,timestamp:Date.now()}),_e(K),localStorage.setItem("pending_comment_colors",JSON.stringify(Object.fromEntries(K))),cn(null),$r(""),mn("#3B82F6"),r){l(ie=>{const be=new Map(ie),ct=be.get(r.title)||{isPlaying:!1,currentTime:0,newComment:""};return be.set(r.title,ne(R({},ct),{currentTime:h})),be});const F=Du.current.get(r.title);F&&(F.currentTime=h)}}else T.error&&(O.error(`Error: ${T.error}`),console.error("API Error:",T.error))}else O.error("Failed to update comment: Invalid response"),console.error("Invalid API response:",k)}catch(k){console.error("Error updating comment:",k),O.error("Failed to update comment")}}),rx=()=>{cn(null),$r(""),mn("#3B82F6")},nx=()=>xe(void 0,null,function*(){if(!_s.title.trim()||!_s.content.trim()){O.error("Please fill in both title and content");return}try{yield Kg({title:_s.title.trim(),content:_s.content.trim(),color:_s.color,emoji:_s.emoji}),O.success("Template created successfully!"),Cl({title:"",content:"",color:"blue",emoji:""}),yo()}catch(h){console.error("Error creating template:",h),h&&typeof h=="object"&&"message"in h?O.error(`Failed to create template: ${h.message}`):O.error("Failed to create template. The template feature may not be available yet.")}}),ax=()=>xe(void 0,null,function*(){if(!Wt||!Wt.title.trim()||!Wt.content.trim()){O.error("Please fill in both title and content");return}try{yield Qg({template_name:Wt.name,title:Wt.title.trim(),content:Wt.content.trim(),color:Wt.color,emoji:Wt.emoji}),O.success("Template updated successfully!"),fn(null),yo()}catch(h){O.error("Failed to update template"),console.error("Error updating template:",h)}}),lx=h=>xe(void 0,null,function*(){if(confirm("Are you sure you want to delete this template?"))try{yield Xg({template_name:h}),O.success("Template deleted successfully!"),yo()}catch(k){O.error("Failed to delete template"),console.error("Error deleting template:",k)}}),ix=h=>{fn(R({},h))},ox=()=>{fn(null)},qu=(h,k)=>{G(T=>ne(R({},T),{[h]:k}))},cx=h=>{pe(k=>ne(R({},k),{[h]:!k[h]}))},Yu=()=>{G({identification:"",situation:"",history:"",examination:"",assessment:"",recommendation:"",grs:"",comment:""}),pe({})},dx=()=>xe(void 0,null,function*(){if(!r)return;const h=["identification","situation","history","examination","assessment","recommendation","grs"],k=h.filter(T=>E[T]);if(k.length===0){O.error("Please complete at least one evaluation criteria");return}try{const A=h.filter(Ce=>E[Ce]).map(Ce=>parseInt(E[Ce])).reduce((Ce,bt)=>Ce+bt,0),Y=k.length*3,K=["[EVALUATION]",` PERFORMANCE EVALUATION - ${e}`,` Timestamp: ${Je(V)}`,""," COMPLETED ASSESSMENTS:"];h.forEach(Ce=>{const bt=E[Ce];if(bt){const Dt={identification:"Identification",situation:"Situation",history:"History",examination:"Examination",assessment:"Assessment",recommendation:"Recommendation",grs:"Global Rating"};K.push(` ${Dt[Ce]}: ${bt}/3 (${lc(Ce,bt)})`)}}),K.push(""),K.push(` PARTIAL SCORE: ${A}/${Y} (${k.length}/${h.length} criteria completed)`),E.comment&&(K.push(""),K.push(` ADDITIONAL NOTES: ${E.comment}`));const F=K.join(`
`),ie=2e3,be=F.length>ie?F.substring(0,ie-50)+"... [TRUNCATED]":F,ct=V;if(!Ds()){O.error("No target video selected for evaluation");return}const ss=wo();if(!ss){O.error("No session video reference available");return}const Et=yield xo({session:e,video_title:ss.title,timestamp:ct,comment_text:be});if(Et&&Et.message){const Ce=Et.message;Ce.message==="Success"?(O.success("Evaluation added successfully"),Yu(),I(!1),yield rr()):Ce.error&&(O.error(`Error: ${Ce.error}`),console.error("API Error:",Ce.error))}else O.error("Failed to add evaluation: Invalid response"),console.error("Invalid API response:",Et)}catch(T){if(console.error("Error adding evaluation:",T),T&&typeof T=="object")if("exception"in T){const A=T.exception;A.includes("ValidationError")?O.error("Validation Error: Please check your evaluation data"):A.includes("PermissionError")?O.error("Permission Error: You may not have access to add evaluations"):O.error("Server Error: Please try again or contact support")}else"message"in T?O.error(`Error: ${T.message}`):O.error("Failed to add evaluation: Unknown error");else O.error("Failed to add evaluation: Network or connection error")}}),Ku=h=>{if(h.comment_type)switch(h.comment_type){case"critical":return"critical";case"positive":return"positive";case"warning":case"attention":return"attention";case"teaching":case"general":return"teaching"}const k=h.comment_text.toLowerCase();return k.includes("")||k.includes("critical issue")||k.includes("critical")||k.includes("error")||k.includes("wrong")||k.includes("mistake")||k.includes("danger")||k.includes("unsafe")||k.includes("risk")||k.includes("immediately")||k.includes("stop")||k.includes("incorrect")?"critical":k.includes("")||k.includes("good")||k.includes("excellent")||k.includes("perfect")||k.includes("well done")||k.includes("correct")||k.includes("great")||k.includes("nice")||k.includes("proper")?"positive":k.includes("")||k.includes("attention")||k.includes("careful")||k.includes("improve")||k.includes("consider")||k.includes("watch")||k.includes("note")||k.includes("adjust")||k.includes("modify")?"attention":k.includes("")||k.includes("learning")||k.includes("technique")||k.includes("demonstrates")||k.includes("example")||k.includes("shows")?"teaching":"positive"},Qu=h=>{switch(h){case"positive":return{label:"",classes:"bg-green-100 text-green-800",dotClasses:"bg-green-600"};case"attention":return{label:"Attention",classes:"bg-yellow-100 text-yellow-900",dotClasses:"bg-yellow-600"};case"critical":return{label:"Critical",classes:"bg-red-100 text-red-800",dotClasses:"bg-red-600"};case"teaching":return{label:"Teaching",classes:"bg-blue-100 text-blue-800",dotClasses:"bg-blue-600"};default:return{label:"General",classes:"bg-gray-100 text-gray-800",dotClasses:"bg-gray-600"}}},jo=h=>{Gt(k=>{const T=new Set(k);return T.has(h)?T.delete(h):T.add(h),T})},gn=h=>i.sort((k,T)=>k.timestamp-T.timestamp),Xu=h=>{if(d(h),h==="side-by-side"&&me)if(x.length===0){const k=me.videos.slice(0,2);b(k),N||j(r||k[0]||null),!v&&k.length>0&&(M(k[0]),j(k[0]))}else!v&&x.length>0&&(M(x[0]),j(x[0]))},Ds=()=>o==="side-by-side"?v:r,wo=()=>{var h;return((h=me==null?void 0:me.videos)==null?void 0:h[0])||null},Zu=h=>{var Y;if(!me){O.error("No session data available for synchronization");return}const k=((Y=a.get(h.title))==null?void 0:Y.currentTime)||0;let T=[];if(o==="side-by-side")T=x;else{O.error("Sync is only available in Side by Side mode");return}if(T.length<=1){O.error("Need at least 2 videos to synchronize");return}let A=0;T.forEach(K=>{K.title!==h.title&&(pn(K.title,k),A++)}),O.success(`Synchronized ${A} video${A!==1?"s":""} to ${h.title} at ${Je(k)}`)},ux=()=>xe(void 0,null,function*(){if(e){m(!0);try{const h=window.csrf_token||"",T=yield(yield fetch("/api/method/surgical_training.surgical_training.api.evaluation.get_session_evaluations",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":h},body:JSON.stringify({session_name:e})})).json();if(T&&T.message&&T.message.message==="Success"){const A=T.message.data,Y=`${e.replace(/\s+/g,"_")}_evaluations.json`,K=JSON.stringify(A,null,2),F=new Blob([K],{type:"application/json"}),ie=URL.createObjectURL(F),be=document.createElement("a");be.href=ie,be.download=Y,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(ie),O.success("Evaluations exported successfully")}else O.error("Failed to export evaluations"),console.error("API Error:",T)}catch(h){O.error("Failed to export evaluations"),console.error("Error exporting evaluations:",h)}finally{m(!1)}}}),mx=h=>{if(!v){O.error("Please set a master video first");return}if(h.title===v.title){O.error("Cannot add master video to additional videos");return}if(x.find(k=>k.title===h.title)){O(`${h.title} is already in the video list`);return}b(k=>[...k,h]),O.success(`Added ${h.title} to additional videos`)},fx=h=>{if(h.title===(v==null?void 0:v.title)){O.error("Cannot remove master video");return}b(k=>k.filter(T=>T.title!==h.title)),O.success(`Removed ${h.title} from additional videos`)},hx={identification:["Requires direct prompting","Introduces themselves but only after a hint","Introduces themselves but information is incomplete","Introduces themselves and information is complete"],situation:["Unable to identify the main problem(s)","Identifies the main problem(s) after extended prompting","Identifies the main problem(s) with fewer prompts needed","Identifies and prioritises the main problem(s) unprompted"],background_history:["History is unstructured, or contains non-relevant information","Relevant history but frequent clarification needed","Relevant history with few further questions needed","Comprehensive focused history"],background_examination:["Examination/significant observations are omitted or irrelevant","Examination/observations are reported but frequent clarification is needed","Examination/observations are reported with few further questions needed","Comprehensive focused examination/observations"],assessment:["No logical assessment given","Assessment is logical only after extended questioning","Assessment is logical after minimal questioning","Comprehensive logical assessment without questioning"],recommendation:["No clear recommendation is made","Clear recommendation only after extended questioning","Clear recommendation after minimal questioning","Clear comprehensive recommendation without questioning"]},px=(h,k)=>{var Y;if(h==="general"||k==="")return"";const T=((Y=hx[h])==null?void 0:Y[parseInt(k)])||"";let A;return h==="background_history"?A="Background - History":h==="background_examination"?A="Background - Examination":A=h.charAt(0).toUpperCase()+h.slice(1),`[ISBAR] ${A}: ${k} - ${T}`},gx=h=>h.replace(/^\[ISBAR\][^\n]*\n*/,"").trim(),Tl=(h,k,T)=>{const A=a.get(h);if(!A)return;const Y=A.newComment||"",K=gx(Y),F=px(k,T);let ie="";F?ie=K?`${F}

${K}`:F:ie=K,gs(h,ie)};if(Hg)return s.jsx("div",{className:"flex justify-center items-center h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-200"}),s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-600 border-t-transparent absolute top-0 left-0"})]})});if(!Bg)return s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gradient-to-br from-gray-50 via-red-50/30 to-orange-50/50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center mb-6",children:s.jsx(Br,{size:40,className:"text-red-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"You don't have permission to access this training session. Please contact your administrator to request access."}),s.jsx(U,{asChild:!0,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 px-8 py-3 rounded-xl",children:s.jsxs(ls,{to:"/dashboard",className:"flex items-center gap-2",children:[s.jsx(mr,{size:16}),"Back to Dashboard"]})})]})});if(Wg&&!me)return s.jsx("div",{className:"flex justify-center items-center h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center animate-pulse mx-auto",children:s.jsx(Cr,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Loading Session..."}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we load your session data."})]})]})});if(ca)return s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50",children:s.jsxs("div",{className:"text-center space-y-4 max-w-lg",children:[s.jsx(Br,{className:"h-16 w-16 text-red-500 mx-auto"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Error Loading Session"}),s.jsx("p",{className:"text-gray-600",children:ca}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(ls,{to:"/",children:s.jsxs(U,{variant:"outline",children:[s.jsx(mr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(U,{onClick:()=>{rr()},children:"Try Again"})]})]})});if(!me||!r)return s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center mb-6",children:s.jsx(Cr,{size:40,className:"text-red-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Session Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"The requested session could not be found or no videos are available for viewing."}),s.jsx(U,{asChild:!0,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 px-8 py-3 rounded-xl",children:s.jsxs(ls,{to:"/dashboard",className:"flex items-center gap-2",children:[s.jsx(mr,{size:16}),"Back to Dashboard"]})})]})});const xx=h=>{var A,Y,K;if(!h)return null;const k=a.get(h.title);if(!k)return null;const T=gn(h.title);return s.jsxs("div",{className:"bg-white border border-gray-200 shadow-lg rounded-lg overflow-hidden relative",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h.title}),s.jsx("p",{className:"text-gray-600 mt-1",children:h.description})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white/50 backdrop-blur-sm p-1 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs(U,{variant:o==="single"?"default":"ghost",size:"sm",onClick:()=>Xu("single"),className:`group flex items-center gap-1.5 transition-all duration-300 rounded-lg px-2.5 py-1.5 ${o==="single"?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(ku,{size:12}),s.jsx("span",{className:"text-xs font-medium",children:"Single"})]}),s.jsxs(U,{variant:o==="side-by-side"?"default":"ghost",size:"sm",onClick:()=>Xu("side-by-side"),className:`group flex items-center gap-1.5 transition-all duration-300 rounded-lg px-2.5 py-1.5 ${o==="side-by-side"?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(uw,{size:12}),s.jsx("span",{className:"text-xs font-medium",children:"Side by Side"})]})]}),o==="side-by-side"&&me&&me.videos.length>=2&&s.jsxs(U,{onClick:()=>Zu(h),variant:"outline",size:"sm",className:"group flex items-center gap-2 transition-all duration-300 transform hover:scale-105 rounded-lg bg-gradient-to-r from-orange-50 to-amber-50 border-orange-200 text-orange-700 hover:from-orange-100 hover:to-amber-100 hover:border-orange-300 shadow-md hover:shadow-lg px-3 py-1.5",title:"Sync all other videos to this video's timeline",children:[s.jsx(Uf,{size:14}),s.jsx("span",{className:"text-xs font-medium",children:"Sync"})]})]})]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row min-h-[calc(100vh-200px)]",children:[s.jsxs("div",{className:"flex-none lg:flex-1 lg:w-[70%] bg-gray-50 flex flex-col",children:[s.jsx("div",{className:"flex-1 p-4",children:s.jsx("div",{className:"relative h-full min-h-[400px] lg:min-h-[60vh] video-player-container",children:(()=>{const F=h.video_file&&h.video_file.trim()?h.video_file:"/files/placeholder.mp4";return s.jsx(Bf,{src:F,title:h.title,comments:T.map(ie=>{const be=ks(ie);return ne(R({},ie),{isEvaluation:Hf(ie),comment_color:be})}),isPlaying:k.isPlaying,currentTime:k.currentTime,onTimeUpdate:ie=>vo(h.title,{playedSeconds:ie}),onPlayPause:ie=>ua(h.title,ie),onSeek:ie=>pn(h.title,ie)})})()})}),vt(h.title).length>0&&s.jsxs("div",{className:"mx-4 mb-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-6 w-6 rounded-full bg-yellow-500 flex items-center justify-center",children:s.jsx(Dr,{size:12,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Active Labels"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Labels waiting for end time"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[vt(h.title).length," active"]})]})]}),s.jsx("div",{className:"space-y-1",children:vt(h.title).map(F=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border border-yellow-200",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:F.comment}),s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(Rt,{size:10}),"Started at ",Je(F.startTime),"  Duration: ",Je(k.currentTime-F.startTime)]})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[s.jsx(U,{onClick:()=>Pl(F.id),variant:"outline",size:"sm",className:"text-green-700 border-green-200 hover:bg-green-50 px-2 py-1 text-xs h-auto",children:"End"}),s.jsx(U,{onClick:()=>bo(F.id),variant:"outline",size:"sm",className:"text-red-700 border-red-200 hover:bg-red-50 px-2 py-1 text-xs h-auto",children:"Cancel"})]})]},F.id))})]})]}),s.jsxs("div",{className:"comments-panel flex flex-col lg:w-[30%] bg-white border-l-0 lg:border-l border-t lg:border-t-0 border-gray-200 min-h-[120vh] max-h-screen",children:[s.jsx("a",{href:"#comments-section",className:"skip-link sr-only focus:not-sr-only",children:"Skip to comments"}),s.jsx("div",{id:"comments-section",className:"p-4 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Ke,{size:18,className:"text-blue-500"}),"Comments",s.jsxs("span",{className:"bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-sm font-medium",children:[T.length,T.length>3&&s.jsx("span",{className:"ml-1 text-xs opacity-75",children:" Scroll for more"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"bg-white px-3 py-1 rounded-full border border-gray-200",children:s.jsx("span",{className:"text-sm font-mono text-gray-700",children:Je(k.currentTime)})})})]})}),s.jsxs("div",{className:"comments-input-section flex-none bg-white border-b border-gray-200 z-10 shadow-sm",children:[s.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2 px-3 py-2 bg-gray-50/80 border-b border-gray-100 backdrop-blur-sm transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("select",{value:Q,onChange:F=>{const ie=F.target.value;Ne(ie),ie==="general"?Tl(h.title,ie,""):oa("")},className:"appearance-none bg-white border border-gray-200 text-gray-700 text-xs rounded-lg pl-2 pr-6 py-1.5 shadow-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 cursor-pointer hover:border-blue-300 transition-all font-medium",disabled:vt(h.title).length===0,children:[s.jsx("option",{value:"general",children:"General Comment"}),s.jsx("option",{value:"identification",children:"Identification (I)"}),s.jsx("option",{value:"situation",children:"Situation (S)"}),s.jsx("option",{value:"background_history",children:"Background: History (B)"}),s.jsx("option",{value:"background_examination",children:"Background: Exam (B)"}),s.jsx("option",{value:"assessment",children:"Assessment (A)"}),s.jsx("option",{value:"recommendation",children:"Recommendation (R)"})]}),s.jsx(pi,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none group-hover:text-blue-500 transition-colors"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 pl-2 border-l border-gray-200",children:[at.map(F=>s.jsx("button",{onClick:()=>Xe(F.value),className:`w-3.5 h-3.5 rounded-full transition-all duration-200 ${ce===F.value?"ring-2 ring-offset-1 ring-gray-400 scale-110 shadow-sm":"hover:scale-125 opacity-70 hover:opacity-100 hover:shadow-sm"}`,style:{backgroundColor:F.value},title:F.name,disabled:vt(h.title).length===0},F.value)),s.jsx("button",{onClick:()=>B(!0),className:"ml-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Color Guide",children:s.jsx(Vs,{size:12})})]})]})}),["identification","situation","background_history","background_examination","assessment","recommendation"].includes(Q)&&s.jsx("div",{className:"px-3 py-2 bg-blue-50/40 border-b border-blue-50 animate-in fade-in slide-in-from-top-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] font-semibold text-blue-700 uppercase tracking-wider",children:"Score"}),s.jsxs("select",{value:Ou,onChange:F=>{oa(F.target.value),Tl(h.title,Q,F.target.value)},className:"flex-1 bg-white border border-blue-100 text-blue-900 text-xs rounded-md px-2 py-1 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 shadow-sm",children:[s.jsx("option",{value:"",children:"Select relevant score..."}),Q==="identification"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - Requires direct prompting"}),s.jsx("option",{value:"1",children:"1 - After a hint"}),s.jsx("option",{value:"2",children:"2 - Information incomplete"}),s.jsx("option",{value:"3",children:"3 - Information complete"})]}),Q==="situation"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - Unable to identify"}),s.jsx("option",{value:"1",children:"1 - After extended prompting"}),s.jsx("option",{value:"2",children:"2 - Fewer prompts needed"}),s.jsx("option",{value:"3",children:"3 - Unprompted"})]}),Q==="background_history"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - Unstructured/irrelevant"}),s.jsx("option",{value:"1",children:"1 - Frequent clarification"}),s.jsx("option",{value:"2",children:"2 - Few questions needed"}),s.jsx("option",{value:"3",children:"3 - Comprehensive"})]}),Q==="background_examination"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - Omitted/irrelevant"}),s.jsx("option",{value:"1",children:"1 - Clarification needed"}),s.jsx("option",{value:"2",children:"2 - Few questions needed"}),s.jsx("option",{value:"3",children:"3 - Comprehensive"})]}),Q==="assessment"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - No logical assessment"}),s.jsx("option",{value:"1",children:"1 - Extended questioning"}),s.jsx("option",{value:"2",children:"2 - Minimal questioning"}),s.jsx("option",{value:"3",children:"3 - Independent"})]}),Q==="recommendation"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - No clear recommendation"}),s.jsx("option",{value:"1",children:"1 - Extended questioning"}),s.jsx("option",{value:"2",children:"2 - Minimal questioning"}),s.jsx("option",{value:"3",children:"3 - Independent"})]})]})]})}),s.jsxs("div",{className:"p-3 relative group",children:[s.jsx("textarea",{id:`comment-input-${h.title}`,rows:3,className:"w-full bg-white border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-900 placeholder-gray-400/80 shadow-sm focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all resize-none disabled:bg-gray-50 disabled:text-gray-400",placeholder:vt(h.title).length>0?"Type your observation here (Ctrl+Enter to save point)...":"Click 'Start Label' below to begin annotating...",value:((A=a.get(h.title))==null?void 0:A.newComment)||"",onChange:F=>gs(h.title,F.target.value),disabled:vt(h.title).length===0,onKeyDown:F=>{F.ctrlKey&&F.key}}),s.jsxs("div",{className:"absolute bottom-5 right-5 flex items-center gap-3 bg-white/50 backdrop-blur-[2px] rounded-lg p-1",children:[s.jsxs("div",{className:"text-[10px] text-gray-400 font-mono select-none",children:[(((Y=a.get(h.title))==null?void 0:Y.newComment)||"").length,"/500"]}),s.jsx("div",{className:"h-3 w-px bg-gray-200"}),s.jsx("button",{onClick:Vu,className:`transition-all duration-300 rounded-full p-1.5 ${L?"bg-red-50 text-red-500 animate-pulse ring-2 ring-red-100":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:L?"Stop Recording":"Start Voice Input",disabled:!$||vt(h.title).length===0,children:s.jsx(If,{size:14})})]})]}),s.jsxs("div",{className:"px-3 pb-3 flex items-center gap-2",children:[vt(h.title).length===0?s.jsxs(U,{onClick:()=>El(h.title,"",Q||"general"),className:"flex-1 bg-green-600 hover:bg-green-700 text-white shadow-sm hover:shadow-md transition-all h-10 group",children:[s.jsx("div",{className:"p-1 bg-white/20 rounded-full mr-2 group-hover:scale-110 transition-transform",children:s.jsx(zs,{size:12,className:"fill-current"})}),"Start Label"]}):s.jsxs(U,{onClick:()=>{const F=vt(h.title);F.length>0&&Pl(F[F.length-1].id)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white shadow-sm hover:shadow-md transition-all animate-pulse h-10 group",children:[s.jsx("div",{className:"p-1 bg-white/20 rounded-full mr-2 group-hover:scale-110 transition-transform",children:s.jsx(vd,{size:12,className:"fill-current"})}),"Stop Label (",vt(h.title).length,")"]}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{gs(h.title,""),oa(""),Fu(),vt(h.title).forEach(F=>bo(F.id))},className:"aspect-square p-0 h-10 w-10 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-gray-200",title:"Clear & Cancel",disabled:vt(h.title).length===0&&!((K=a.get(h.title))!=null&&K.newComment),children:s.jsx(Ba,{size:16})})]})]}),s.jsxs("div",{className:"comments-list-section comment-list-container flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar relative",role:"region","aria-label":"Video Comments","aria-live":"polite",style:{containIntrinsicSize:"none",contain:"layout style"},children:[T.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-white/20 to-transparent pointer-events-none z-10","aria-hidden":"true",style:{opacity:T.length>5?1:0}}),s.jsxs("div",{className:"sr-only","aria-live":"polite",children:[T.length," comments available. Scroll to navigate all comments."]})]}),s.jsx("div",{className:"flex flex-col gap-2 p-2",children:T.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ke,{size:48,className:"mx-auto text-gray-300 mb-4"}),s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Comments Yet"}),s.jsx("p",{className:"text-gray-500",children:"Be the first to share your thoughts on this video."})]}):T.map((F,ie)=>{const be=Ku(F),ct=Qu(be),dt=Oe.has(F.name),ss=F.comment_text,Et=ss.length>150,Ce=F.doctor_name||F.doctor||"Unknown",bt=Ce.split(" ").map(ut=>ut[0]).join("").substring(0,2).toUpperCase(),Dt=ks(F),fa=ct.label&&ct.label!=="",ha=!fa&&Dt!=="#FFFFFF"?{borderColor:Dt,borderWidth:"2px"}:void 0;return s.jsxs("article",{className:"group bg-white border rounded-lg p-4 hover:shadow-md transition-all duration-200 flex-shrink-0 min-w-0 w-full",style:ha,role:"article","aria-labelledby":`comment-${F.name}-header`,children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-sm font-medium",children:bt})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx("span",{id:`comment-${F.name}-header`,className:"text-sm font-medium text-gray-900 truncate","aria-label":`Comment by ${Ce} at ${Je(F.timestamp)}`,children:Ce}),fa&&s.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ${ct.classes}`,children:[s.jsx("span",{className:`w-1.5 h-1.5 ${ct.dotClasses} rounded-full mr-1`}),ct.label]}),F.student_name&&F.student_name.trim()?s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200 flex-shrink-0",children:[s.jsx(xd,{size:10,className:"mr-1"}),F.student_name]}):null]}),s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 ml-auto",children:[s.jsx("button",{onClick:()=>Hu(F),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-1 rounded transition-colors","aria-label":`Edit comment by ${Ce}`,children:s.jsx(Va,{size:14,"aria-hidden":"true"})}),s.jsx("button",{onClick:()=>aa({name:F.name,text:F.comment_text}),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-1 rounded transition-colors","aria-label":`Delete comment by ${Ce}`,children:s.jsx(Ba,{size:14,"aria-hidden":"true"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("button",{onClick:()=>pn(h.title,F.timestamp),className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium hover:bg-blue-100 transition-colors",children:[s.jsx(Rt,{size:12,className:"mr-1"}),Je(F.timestamp),F.duration&&` (+${Je(F.duration)})`]}),F.duration&&(hs==null?void 0:hs.name)!==F.name&&s.jsx("div",{className:"flex items-center gap-1",children:Ss===F.name?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("input",{type:"number",value:xt,onChange:ut=>Os(ut.target.value),onKeyDown:ut=>{ut.key==="Enter"?Wu(F.name):ut.key==="Escape"&&Gu()},placeholder:"30",className:"w-16 px-1 py-0.5 text-xs border border-gray-300 rounded focus:border-blue-500 focus:outline-none",min:"1",max:"600",autoFocus:!0,title:"Duration in seconds (1-600). Press Enter to save, Escape to cancel."}),s.jsx("span",{className:"text-xs text-gray-500",children:"s"}),xt&&!isNaN(parseInt(xt))&&s.jsxs("span",{className:"text-xs text-blue-600 ml-1",children:["(",Je(parseInt(xt)),")"]})]}),s.jsx("button",{onClick:()=>Wu(F.name),className:"p-0.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded","aria-label":"Save duration",children:s.jsx(Bi,{size:12})}),s.jsx("button",{onClick:Gu,className:"p-0.5 text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded","aria-label":"Cancel duration edit",children:s.jsx(Xt,{size:12})})]}):s.jsx("button",{onClick:()=>tx(F),className:"p-0.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded","aria-label":"Edit duration",children:s.jsx(Va,{size:12})})}),s.jsx("span",{className:"text-xs text-gray-500",children:Z2(F.created_at)})]})]})]}),s.jsxs("div",{className:"ml-13 min-w-0",children:[" ",(hs==null?void 0:hs.name)===F.name?s.jsxs("div",{className:"space-y-2 min-w-0",children:[s.jsx("textarea",{value:dn,onChange:ut=>$r(ut.target.value),className:"w-full p-2 border border-gray-200 rounded-md text-sm resize-none min-w-0",rows:3}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Color:"}),at.map(ut=>s.jsx("button",{onClick:()=>mn(ut.value),className:`w-6 h-6 rounded-full border-2 transition-all ${un===ut.value?"border-gray-800 scale-110":"border-gray-300"}`,style:{backgroundColor:ut.value},title:`${ut.name} - ${ms[ut.name]}`},ut.value))]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(U,{onClick:sx,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 text-xs flex-shrink-0",children:[s.jsx(Bi,{size:12,className:"mr-1"}),"Save"]}),s.jsxs(U,{onClick:rx,variant:"outline",size:"sm",className:"px-3 py-1 text-xs flex-shrink-0",children:[s.jsx(Xt,{size:12,className:"mr-1"}),"Cancel"]})]})]}):s.jsxs("div",{className:"text-sm text-gray-700 leading-relaxed min-w-0 break-words",children:[s.jsx("div",{id:`comment-${F.name}-text`,className:`${Et&&!dt?"line-clamp-3":""} break-words word-wrap-break-word`,children:ss}),Et&&s.jsxs("button",{onClick:()=>jo(F.name),className:"text-blue-600 hover:text-blue-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-1 text-xs font-medium mt-1 inline-flex items-center gap-1 rounded px-1","aria-expanded":dt,"aria-controls":`comment-${F.name}-text`,"aria-label":dt?"Show less of comment":"Show more of comment",children:[s.jsx("span",{children:dt?"Show less":"Show more"}),s.jsx("svg",{className:`w-3 h-3 transition-transform ${dt?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]})]})]},`comment-${F.name}-${ie}`)})})]})]})]})]})},yx=()=>{if(!Le)return null;const h=Y=>Y>=3?"text-green-700 bg-green-50 border-green-300":Y>=2?"text-yellow-700 bg-yellow-50 border-yellow-300":Y>=1?"text-orange-700 bg-orange-50 border-orange-300":"text-red-700 bg-red-50 border-red-300",k=Y=>Y>=3?"Excellent":Y>=2?"Good":Y>=1?"Needs Improvement":"Poor",T=Ye?[{key:"identification",label:"Identification",icon:fl,color:"blue",bgColor:"bg-blue-500",textColor:"text-blue-600"},{key:"situation",label:"Situation",icon:Br,color:"red",bgColor:"bg-red-500",textColor:"text-red-600"},{key:"background",label:"Background",icon:dl,color:"purple",bgColor:"bg-purple-500",textColor:"text-purple-600"},{key:"assessment",label:"Assessment",icon:Dr,color:"orange",bgColor:"bg-orange-500",textColor:"text-orange-600"},{key:"recommendation",label:"Recommendation",icon:cl,color:"green",bgColor:"bg-green-500",textColor:"text-green-600"}]:[],A=Y=>{if(!r){O.error("Please select a video first");return}const K=parseFloat(Y.split("-")[0]);isNaN(K)||(pn(r.title,K),O.success(`Jumped to ${Math.floor(K)}s`))};return s.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-2xl border-l border-gray-200 z-50 overflow-y-auto animate-slide-in-right",children:[s.jsxs("div",{className:"sticky top-0 bg-indigo-600 text-white p-4 shadow-md z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:s.jsx(Jo,{size:20})}),s.jsx("h2",{className:"text-lg font-bold",children:"AI Insights"})]}),s.jsx("button",{onClick:()=>$e(!1),className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Close AI panel",children:s.jsx(Xt,{size:18})})]}),(Ye==null?void 0:Ye.global)&&s.jsxs("div",{className:"flex items-center gap-3 mt-3 bg-indigo-700 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ra,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:"Overall Score:"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl font-bold",children:Ye.global.average.toFixed(1)}),s.jsx("span",{className:"text-xs opacity-90",children:"/ 3.0"})]})]})]}),s.jsx("div",{className:"p-4 space-y-4",children:fs?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-indigo-200 border-t-indigo-600 mb-4"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Loading AI insights..."})]}):Ye?s.jsx(s.Fragment,{children:T.map(Y=>{const K=Ye[Y.key];if(!K||!K.found)return null;const F=Y.icon;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-all",children:[s.jsxs("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1.5 ${Y.bgColor} bg-opacity-10 rounded-lg`,children:s.jsx(F,{size:16,className:Y.textColor})}),s.jsx("h3",{className:"font-semibold text-gray-900",children:Y.label})]}),s.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium border ${h(K.score)}`,children:[K.score,"/3  ",k(K.score)]})]}),K.time_range&&s.jsxs("button",{onClick:()=>A(K.time_range),className:"flex items-center gap-1.5 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-2 py-1 rounded transition-colors cursor-pointer group",title:"Click to jump to this timestamp",children:[s.jsx(Rt,{size:12,className:"group-hover:scale-110 transition-transform"}),s.jsxs("span",{className:"font-medium",children:[K.time_range.replace("-"," - "),"s"]}),s.jsx(zs,{size:10,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-2.5",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ml,{size:14,className:"text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:K.summary})]})}),K.quotes&&K.quotes.length>0&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-gray-600",children:[s.jsx(Qw,{size:12}),s.jsx("span",{children:"Key Quotes"})]}),K.quotes.map((ie,be)=>s.jsx("div",{className:"bg-gray-50 border-l-2 border-gray-300 pl-3 py-1.5",children:s.jsxs("p",{className:"text-xs text-gray-700 italic",children:['"',ie,'"']})},be))]}),K.rationale&&s.jsx("div",{className:"pt-2 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Vs,{size:14,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:K.rationale})]})})]})]},Y.key)})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center px-4",children:[s.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4",children:s.jsx(Jo,{size:32,className:"text-gray-400"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"No AI Insights Yet"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"AI analysis will appear here once available for this session."})]})})]})};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-600 flex items-center justify-center shadow-lg",children:s.jsx(Cr,{size:24,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:me==null?void 0:me.session.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Rs,{size:14}),s.jsx("span",{className:"text-sm",children:new Date((me==null?void 0:me.session.session_date)||"").toLocaleDateString()})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${J2((me==null?void 0:me.session.status)||"")}`,children:(me==null?void 0:me.session.status)||"Active"}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(fl,{size:14}),s.jsxs("span",{className:"text-sm",children:[(me==null?void 0:me.videos.length)||0," videos"]})]}),(me==null?void 0:me.session.description)&&s.jsxs(U,{onClick:()=>ee(!D),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-2 py-1 h-auto rounded-full transition-all duration-200",title:D?"Hide session details":`${me.session.description.replace(/<[^>]*>/g,"").substring(0,100)}${me.session.description.length>100?"...":""}`,children:[s.jsx(Vs,{size:12,className:"mr-1"}),s.jsx("span",{className:"text-xs font-medium",children:D?"Less":"Details"}),D?s.jsx(nw,{size:12,className:"ml-1"}):s.jsx(pi,{size:12,className:"ml-1"})]})]})]})]}),D&&(me==null?void 0:me.session.description)&&s.jsx("div",{className:"mt-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-5 shadow-sm transition-all duration-300 ease-in-out animate-fade-in-up",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-sm",children:s.jsx(dl,{size:14,className:"text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2",children:["Session Overview",s.jsx("span",{className:"h-1 w-8 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full"})]}),s.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:me.session.description}})]}),s.jsx(U,{onClick:()=>ee(!1),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-gray-600 hover:bg-white/50 p-2 h-auto rounded-full transition-all duration-200",title:"Close description",children:""})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(U,{onClick:()=>{!Ye&&!Le?(na(!0),$e(!0),fetch(`/api/method/surgical_training.api.session.get_ai_isbar_evaluation?session_name=${e}`).then(h=>{if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);return h.json()}).then(h=>{var T;console.log("AI insights API response:",h);const k=((T=h.message)==null?void 0:T.data)||h.data;if(k)we(k),O.success("AI insights loaded!");else throw new Error("No data in response");na(!1)}).catch(h=>{console.error("Failed to load AI insights:",h),na(!1),O.error("Could not load AI insights")})):$e(!Le)},variant:"outline",className:`group ${Le?"bg-indigo-600 text-white border-indigo-600":"bg-indigo-50 text-indigo-700 border-indigo-300 hover:bg-indigo-600 hover:text-white hover:border-indigo-600"} transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg`,children:[s.jsx(Jo,{size:16,className:"mr-2 group-hover:scale-110 transition-transform duration-300"}),Le?"Hide":"Show"," AI Insights",(Ye==null?void 0:Ye.global)&&!Le&&s.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-indigo-600 text-white text-xs rounded-full font-medium",children:Ye.global.average.toFixed(1)})]}),s.jsxs(U,{onClick:ux,disabled:u,variant:"outline",className:"group bg-blue-500/10 hover:bg-blue-500 border-blue-200 text-blue-700 hover:text-white transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg",children:[s.jsx(H0,{size:16,className:"mr-2 group-hover:scale-110 transition-transform duration-300"}),u?"Exporting...":"Export JSON"]}),s.jsx(U,{asChild:!0,variant:"outline",className:"group border-blue-200 text-blue-700 hover:bg-blue-50 transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg",children:s.jsxs(ls,{to:"/dashboard",className:"flex items-center gap-2",children:[s.jsx(mr,{size:16,className:"group-hover:-translate-x-1 transition-transform duration-300"}),"Back to Dashboard"]})})]})]})}),s.jsx("div",{className:"mb-8",children:s.jsxs("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-900 flex items-center gap-3",children:[s.jsx(Qr,{size:24,className:"text-blue-500"}),"Video Viewer"]})}),o==="single"&&s.jsx("div",{className:"w-full",children:s.jsx("div",{children:xx(r)})}),o==="side-by-side"&&s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oo,{size:16,className:"text-green-500"}),s.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Video Synchronization"})]}),v&&s.jsxs("div",{className:"text-xs text-gray-600",children:["Master: ",s.jsx("span",{className:"font-medium text-green-600",children:v.title})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zs,{size:16,className:"text-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Play/Pause Sync"})]}),s.jsx("button",{onClick:()=>p(!S),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${S?"bg-blue-600":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${S?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ul,{size:16,className:"text-orange-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Seek Sync"})]}),s.jsx("button",{onClick:()=>y(!g),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${g?"bg-orange-600":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${g?"translate-x-6":"translate-x-1"}`})})]}),s.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gd,{size:16,className:"text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Master Video:"})]}),s.jsx("select",{value:(v==null?void 0:v.title)||(x.length>0?x[0].title:""),onChange:h=>{const k=x.find(T=>T.title===h.target.value);M(k||null)},className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 max-w-[120px]",children:x.map(h=>s.jsx("option",{value:h.title,children:h.title},h.title))})]})})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-4 h-auto",children:[v&&s.jsx("div",{className:"flex-1 w-2/3",children:s.jsxs("div",{className:"bg-white border-2 border-yellow-400 rounded-lg overflow-hidden shadow-lg",children:[s.jsx("div",{className:"px-4 py-2 border-b-2 border-yellow-300 bg-yellow-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gd,{size:20,className:"text-yellow-600"}),s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:v.title})})]}),s.jsxs(U,{onClick:()=>Zu(v),variant:"outline",size:"sm",className:"text-orange-600 border-orange-300 hover:bg-orange-50 font-medium",children:[s.jsx(Uf,{size:16,className:"mr-2"}),"Sync All Videos"]})]})}),s.jsx("div",{className:"p-4",ref:go,children:(()=>{const h=a.get(v.title);if(!h)return null;const k=v.video_file,T=gn(v.title);return s.jsx(Bf,{src:k,title:v.title,comments:T.map(A=>ne(R({},A),{isEvaluation:Hf(A),comment_color:ks(A)})),isPlaying:h.isPlaying,currentTime:h.currentTime,onTimeUpdate:A=>vo(v.title,{playedSeconds:A}),onPlayPause:A=>ua(v.title,A),onSeek:A=>pn(v.title,A)},`master-${v.title}`)})()}),s.jsx("div",{className:"bg-white border-2 border-yellow-300 rounded-lg p-4 shadow-md mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dr,{size:20,className:"text-yellow-600"}),s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Add Labels & Comments"})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-sm font-mono text-gray-700",children:(()=>{const h=a.get(v.title),k=(h==null?void 0:h.currentTime)||0,T=Math.floor(k/60),A=Math.floor(k%60);return`${T}:${String(A).padStart(2,"0")}`})()}),s.jsx(U,{onClick:()=>{const h=a.get(v.title);h&&ua(v.title,!h.isPlaying)},variant:"outline",size:"sm",className:"text-blue-600 border-blue-300 hover:bg-blue-50 font-medium",children:(()=>{const h=a.get(v.title);return h!=null&&h.isPlaying?s.jsxs(s.Fragment,{children:[s.jsx(vd,{size:16,className:"mr-2"}),"Pause All"]}):s.jsxs(s.Fragment,{children:[s.jsx(zs,{size:16,className:"mr-2"}),"Play All"]})})()})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{size:14,className:"text-blue-600"}),s.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Add Custom Comment"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("textarea",{value:v&&((Ju=a.get(v.title))==null?void 0:Ju.newComment)||"",onChange:h=>{v&&gs(v.title,h.target.value)},placeholder:"Describe what you observe...",className:"flex-1 p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-xs",rows:2}),s.jsxs(U,{onClick:()=>{var h;if(v){const k=(h=a.get(v.title))==null?void 0:h.newComment.trim();k&&El(v.title,k,Q)}},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-3 py-1 text-xs",disabled:!v||!((tm=(em=a.get(v.title))==null?void 0:em.newComment)!=null&&tm.trim()),children:[s.jsx(l2,{size:14,className:"mr-1"}),"Add"]})]})]}),v&&vt(v.title).length>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-6 w-6 rounded-full bg-yellow-500 flex items-center justify-center",children:s.jsx(Dr,{size:12,className:"text-white"})}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Active Labels"})]})}),s.jsx("div",{className:"space-y-2",children:vt(v.title).map(h=>s.jsxs("div",{className:"flex items-center justify-between bg-white rounded-md px-3 py-2 border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 rounded-full bg-yellow-400 flex items-center justify-center",children:s.jsx(Dr,{size:8,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:h.comment}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Started at ",Je(h.startTime)]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(U,{onClick:()=>bo(h.id),size:"sm",className:"bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1 h-6",children:"Cancel"}),s.jsx(U,{onClick:()=>Pl(h.id),size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 text-white text-xs px-2 py-1 h-6",children:"Stop Label"})]})]},h.id))})]})]})})]})}),s.jsx(sN,{activeVideos:x,masterVideo:v,masterVideoHeight:Dg,videoPlayerStates:a,onShowVideoSelection:()=>Iu(!0),onHandleProgress:vo,onHandlePlayPause:ua,onHandleSeek:pn})]})}),v&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{size:18,className:"text-blue-500"}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Comment History"}),s.jsx("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-xs font-medium",children:v.title})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[gn(v.title).length," comments"]})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:gn(v.title).length>0?s.jsx("div",{className:"divide-y divide-gray-100",children:gn(v.title).map(h=>{const k=Ku(h),T=Qu(k),A=Oe.has(h.name),Y=h.comment_text.length>150,K=ks(h),ie=T.label&&T.label!=="",be=!ie&&K!=="#FFFFFF"?{borderLeftColor:K,borderLeftWidth:"4px"}:void 0;return s.jsx("div",{className:"p-4 bg-white border-l-4 hover:bg-gray-50 transition-colors",style:be||{borderLeftColor:"#E5E7EB"},children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ie&&s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T.classes}`,children:[s.jsx("span",{className:`w-2 h-2 rounded-full mr-1 ${T.dotClasses}`}),T.label]}),h.student_name&&h.student_name.trim()&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:[s.jsx(xd,{size:10,className:"mr-1"}),h.student_name]}),s.jsx("span",{className:"text-sm text-gray-500 font-mono",children:Je(h.timestamp)}),h.duration&&s.jsxs("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[Je(h.duration)," duration"]})]}),s.jsx("div",{className:"text-sm text-gray-800 leading-relaxed",children:Y&&!A?s.jsxs(s.Fragment,{children:[h.comment_text.substring(0,150),"...",s.jsx("button",{onClick:()=>jo(h.name),className:"ml-2 text-blue-600 hover:text-blue-800 font-medium text-xs",children:"Show more"})]}):s.jsxs(s.Fragment,{children:[h.comment_text,Y&&s.jsx("button",{onClick:()=>jo(h.name),className:"ml-2 text-blue-600 hover:text-blue-800 font-medium text-xs",children:"Show less"})]})}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{children:["By: ",h.doctor_name||h.doctor]}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(h.created_at).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>Hu(h),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit comment",children:s.jsx(Va,{size:14})}),s.jsx("button",{onClick:()=>Bu(h.name,h.comment_text),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete comment",children:s.jsx(Ba,{size:14})})]})]})},h.name)})}):s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Ke,{size:48,className:"mx-auto mb-3 text-gray-300"}),s.jsxs("p",{className:"text-sm",children:["No comments yet for ",v.title]}),s.jsx("p",{className:"text-xs mt-1",children:"Comments and labels will appear here"})]})})]})]})}),s.jsx("div",{className:"video-list-section",children:me&&s.jsx(X2,{videos:me.videos,currentVideo:r,onVideoChange:ex,getVideoComments:gn})})]}),_&&r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[95vh] border border-gray-200 animate-fade-in-up overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center shadow-lg",children:s.jsx(Ke,{size:18,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Video Annotation"}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(Rt,{size:12}),"At ",Je(V)," in ",r.title]})]})]}),s.jsx(U,{onClick:()=>{I(!1)},variant:"ghost",size:"sm",className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg",children:""})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>w("comment"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md font-medium transition-all duration-200 text-sm ${hn==="comment"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Ke,{size:16}),"Comment"]}),s.jsxs("button",{onClick:()=>w("evaluation"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md font-medium transition-all duration-200 text-sm ${hn==="evaluation"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx($f,{size:16}),"Evaluation"]})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Time"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:Math.floor(V),onChange:h=>ue(parseInt(h.target.value)||0),className:"w-16 px-2 py-1 border border-gray-200 rounded text-center font-mono text-sm",min:"0",max:Math.floor(r.duration||0)}),s.jsx("span",{className:"text-xs text-gray-500",children:"sec"}),s.jsx(U,{onClick:()=>{var h;return ue(((h=a.get(r.title))==null?void 0:h.currentTime)||0)},variant:"outline",size:"sm",className:"text-xs px-2 py-1 h-auto",children:"Current"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"ISBAR Category"}),s.jsxs(U,{onClick:()=>Ct()&&Be(!0),variant:"ghost",size:"sm",className:"h-auto px-1 py-0 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"View ISBAR scoring guide",children:[s.jsx(Vs,{size:10,className:"mr-0.5"}),"Guide"]})]}),s.jsxs("select",{value:Q,onChange:h=>{const k=h.target.value;Ne(k),oa(""),k==="general"&&r&&Tl(r.title,k,"")},className:"w-full px-2 py-2 border border-gray-200 rounded text-xs h-10",children:[s.jsx("option",{value:"identification",children:"I - Identification"}),s.jsx("option",{value:"situation",children:"S - Situation"}),s.jsx("option",{value:"background_history",children:"B - Background - History"}),s.jsx("option",{value:"background_examination",children:"B - Background - Examination"}),s.jsx("option",{value:"assessment",children:"A - Assessment"}),s.jsx("option",{value:"recommendation",children:"R - Recommendation"}),s.jsx("option",{value:"general",children:"General"})]})]}),["identification","situation","background_history","background_examination","assessment","recommendation"].includes(Q)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"ISBAR Score"}),s.jsxs("select",{value:Ou,onChange:h=>{const k=h.target.value;oa(k),r&&Tl(r.title,Q,k)},className:"w-full px-2 py-2 border border-gray-200 rounded text-xs h-10",children:[s.jsx("option",{value:"",children:"Select score..."}),Q==="identification"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - Requires direct prompting"}),s.jsx("option",{value:"1",children:"1 - After a hint"}),s.jsx("option",{value:"2",children:"2 - Information incomplete"}),s.jsx("option",{value:"3",children:"3 - Information complete"})]}),Q==="situation"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - Unable to identify"}),s.jsx("option",{value:"1",children:"1 - After extended prompting"}),s.jsx("option",{value:"2",children:"2 - Fewer prompts needed"}),s.jsx("option",{value:"3",children:"3 - Unprompted"})]}),Q==="background_history"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - Unstructured/non-relevant"}),s.jsx("option",{value:"1",children:"1 - Frequent clarification needed"}),s.jsx("option",{value:"2",children:"2 - Few questions needed"}),s.jsx("option",{value:"3",children:"3 - Comprehensive focused"})]}),Q==="background_examination"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - Omitted or irrelevant"}),s.jsx("option",{value:"1",children:"1 - Frequent clarification needed"}),s.jsx("option",{value:"2",children:"2 - Few questions needed"}),s.jsx("option",{value:"3",children:"3 - Comprehensive focused"})]}),Q==="assessment"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - No logical assessment"}),s.jsx("option",{value:"1",children:"1 - After extended questioning"}),s.jsx("option",{value:"2",children:"2 - After minimal questioning"}),s.jsx("option",{value:"3",children:"3 - Without questioning"})]}),Q==="recommendation"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"0",children:"0 - No clear recommendation"}),s.jsx("option",{value:"1",children:"1 - After extended questioning"}),s.jsx("option",{value:"2",children:"2 - After minimal questioning"}),s.jsx("option",{value:"3",children:"3 - Without questioning"})]})]})]})]})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto h-full",children:s.jsx("div",{className:"p-6 space-y-4",children:hn==="comment"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-base font-medium text-gray-700",children:"Your Observation"}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{rows:6,className:"w-full rounded-xl border border-gray-200 bg-white shadow-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 px-4 py-3 text-sm text-gray-900 placeholder-gray-500 transition-all duration-300 resize-none",placeholder:"Describe what you observe at this moment. Include technical details, technique assessment, or areas for improvement...",value:((sm=a.get(r.title))==null?void 0:sm.newComment)||"",onChange:h=>gs(r.title,h.target.value),disabled:da}),s.jsxs("div",{className:"absolute bottom-3 right-3 text-xs text-gray-400",children:[(((rm=a.get(r.title))==null?void 0:rm.newComment)||"").length,"/500"]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Comment Color:"}),s.jsx("div",{className:"flex items-center gap-2",children:at.map(h=>s.jsx("button",{onClick:()=>Xe(h.value),className:`w-6 h-6 rounded-full border-2 transition-all duration-200 hover:scale-110 ${ce===h.value?"border-gray-800 ring-2 ring-gray-300":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:h.value},title:`Select ${h.name} color for comment`,"aria-label":`Select ${h.name} color for comment`},h.value))}),s.jsxs(U,{onClick:()=>B(!0),variant:"ghost",size:"sm",className:"h-7 px-3 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"View color guide for consistent labeling",children:[s.jsx(Vs,{size:12,className:"mr-1"}),"Guide"]}),s.jsx("div",{className:"ml-2 px-3 py-1 rounded-full text-xs font-medium border",style:{backgroundColor:ce,color:ce==="#FFFFFF"?"#374151":"#FFFFFF",borderColor:ce},children:"Preview"})]}),L&&he&&s.jsxs("div",{className:"absolute top-3 left-3 right-16 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-blue-700",children:" Listening..."})]})}),s.jsx("div",{className:"text-sm text-blue-800 bg-white/50 rounded-lg px-2 py-1",children:he||"Start speaking..."})]})]})]})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dr,{size:14,className:"text-blue-500"}),s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Performance Assessment"})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[Object.values(E).slice(0,7).filter(h=>h!=="").length,"/7 completed"]})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:[{key:"identification",title:"ID",icon:"",desc:"Introduction & identification"},{key:"situation",title:"Situation",icon:"",desc:"Problem identification"},{key:"history",title:"History",icon:"",desc:"Background information"},{key:"examination",title:"Examination",icon:"",desc:"Observations & examination"},{key:"assessment",title:"Assessment",icon:"",desc:"Logical assessment"},{key:"recommendation",title:"Recommendation",icon:"",desc:"Clear recommendations"},{key:"grs",title:"Global Rating",icon:"",desc:"Overall confidence level"}].map(h=>{const k=E[h.key],T=oe[h.key];return s.jsx("div",{className:"border border-gray-200 rounded-lg bg-white",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("button",{onClick:()=>cx(h.key),className:"w-full flex items-center justify-between hover:bg-gray-50 rounded-md p-1 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:h.icon}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.title}),s.jsx("div",{className:"text-xs text-gray-500",children:h.desc})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[k&&s.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded",children:lc(h.key,k)}),s.jsx(pi,{size:14,className:`text-gray-400 transition-transform ${T?"rotate-180":""}`})]})]}),T&&s.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-md",children:s.jsx("div",{className:"grid grid-cols-2 gap-1",children:["poor","fair","good","excellent"].map(A=>s.jsx("button",{onClick:()=>qu(h.key,A),className:`p-2 text-xs rounded-md transition-colors ${k===A?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}`,children:lc(h.key,A)},A))})})]})},h.key)})}),s.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white p-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Additional Comments"}),s.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 resize-none",placeholder:"Any additional observations or comments...",value:E.comment,onChange:h=>qu("comment",h.target.value)})]}),s.jsx("div",{className:"flex justify-start",children:s.jsxs(U,{onClick:Yu,variant:"outline",size:"sm",className:"text-gray-600 border-gray-200 hover:bg-gray-50 px-3 py-2",children:[s.jsx(Xt,{size:14,className:"mr-1"}),"Reset"]})})]})})})}),s.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(U,{onClick:Vu,variant:"outline",size:"sm",disabled:!$,className:`flex items-center gap-2 transition-all duration-300 px-3 py-2 ${L?"border-red-200 text-red-700 bg-red-50":Z==="denied"?"border-gray-300 text-gray-400 cursor-not-allowed":"border-blue-200 text-blue-700 hover:bg-blue-50"}`,title:$?Z==="denied"?"Microphone access denied":L?"Stop recording":"Start voice recording":"Speech recognition not supported",children:[s.jsx(If,{size:14,className:L?"animate-pulse":""}),s.jsx("span",{className:"text-sm",children:L?"Stop":"Voice"})]}),L&&s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]}),he&&!L&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(U,{onClick:Jg,variant:"outline",size:"sm",className:"text-green-700 border-green-200 hover:bg-green-50 px-3 py-2",children:[s.jsx(er,{size:12}),s.jsx("span",{className:"text-sm ml-1",children:"Use"})]}),s.jsx(U,{onClick:Zg,variant:"outline",size:"sm",className:"text-gray-600 border-gray-200 hover:bg-gray-50 px-3 py-2",children:s.jsx("span",{className:"text-sm",children:"Clear"})})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U,{onClick:()=>{I(!1)},variant:"outline",size:"sm",className:"px-4 py-2",children:"Cancel"}),hn==="comment"?s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(U,{onClick:()=>{var k;const h=(k=a.get(r.title))==null?void 0:k.newComment.trim();h&&(El(r.title,h,Q),I(!1))},disabled:da||!((nm=a.get(r.title))!=null&&nm.newComment.trim()),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2",children:[s.jsx(Dr,{size:14,className:"mr-1"}),da?"Starting...":"Start Label"]})}):s.jsxs(U,{onClick:dx,disabled:da||Object.values(E).slice(0,7).every(h=>!h),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2",children:[s.jsx($f,{size:14,className:"mr-1"}),da?"Adding...":"Add Evaluation"]})]})]})})]})}),on&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full border border-gray-200 animate-fade-in-up p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-red-100 flex items-center justify-center",children:s.jsx(Br,{size:24,className:"text-red-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Delete Comment?"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This action cannot be undone."})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap break-words",children:on.text})}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(U,{onClick:()=>aa(null),variant:"outline",className:"border-gray-200",children:"Cancel"}),s.jsx(U,{onClick:()=>Bu(on.name,on.text),disabled:Uu,className:"bg-red-600 hover:bg-red-700 text-white",children:Uu?"Deleting...":"Delete Comment"})]})]})}),s.jsx(rN,{isOpen:Is,onClose:()=>ho(!1),customTemplates:la,newTemplate:_s,editingTemplate:Wt,onNewTemplateChange:(h,k)=>Cl(T=>ne(R({},T),{[h]:k})),onCreateTemplate:nx,onEditTemplate:ix,onUpdateTemplate:ax,onCancelTemplateEdit:ox,onDeleteTemplate:lx,onEditingTemplateChange:(h,k)=>fn(T=>T?ne(R({},T),{[h]:k}):null)}),s.jsx(tN,{isOpen:Ig,onClose:()=>Iu(!1),sessionData:me,activeVideos:x,masterVideo:v,onAddVideo:mx,onRemoveVideo:fx}),It&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] border border-gray-200 animate-fade-in-up overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center shadow-lg",children:s.jsx(Vs,{size:18,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Color Guide"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Choose consistent colors for better labeling"})]})]}),s.jsx(U,{onClick:()=>B(!1),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg",children:""})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-6",children:"Use these color recommendations to maintain consistency across all users when labeling comments:"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:at.map(h=>s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300 shadow-sm",style:{backgroundColor:h.value}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 text-base",children:h.name}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:ms[h.name]})]})]}),s.jsx(U,{onClick:()=>{Xe(h.value),B(!1)},variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"Select"})]},h.name))}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vs,{size:16,className:"text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("div",{className:"font-medium mb-1",children:"Pro Tip:"}),"Consistent color usage helps reviewers quickly identify different types of feedback and improves the overall learning experience."]})]})})]})}),s.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex-shrink-0",children:s.jsx("div",{className:"flex justify-end",children:s.jsx(U,{onClick:()=>B(!1),variant:"outline",size:"sm",className:"px-4 py-2",children:"Close"})})})]})}),fe&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] border border-gray-200 animate-fade-in-up overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center shadow-lg",children:s.jsx(Vs,{size:18,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ISBAR Scoring Guide"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Structured communication assessment framework"})]})]}),s.jsx(U,{onClick:()=>Be(!1),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg",children:""})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-6",children:"ISBAR (Identification, Situation, Background, Assessment, Recommendation) is a structured communication framework for clinical handovers. Use these detailed scoring criteria for consistent evaluation:"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-6 text-xs",children:[s.jsxs("div",{className:"p-3 bg-red-50 border-l-4 border-red-400 rounded",children:[s.jsx("div",{className:"font-semibold text-red-800",children:"Score 0"}),s.jsx("div",{className:"text-red-700",children:"Not performed competently"})]}),s.jsxs("div",{className:"p-3 bg-orange-50 border-l-4 border-orange-400 rounded",children:[s.jsx("div",{className:"font-semibold text-orange-800",children:"Score 1"}),s.jsx("div",{className:"text-orange-700",children:"Able to perform under firm direction"})]}),s.jsxs("div",{className:"p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:[s.jsx("div",{className:"font-semibold text-yellow-800",children:"Score 2"}),s.jsx("div",{className:"text-yellow-700",children:"Able to perform under modest direction"})]}),s.jsxs("div",{className:"p-3 bg-green-50 border-l-4 border-green-400 rounded",children:[s.jsx("div",{className:"font-semibold text-green-800",children:"Score 3"}),s.jsx("div",{className:"text-green-700",children:"Able to perform under minimal direction"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 bg-gradient-to-r from-blue-50 to-blue-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full text-sm font-bold",children:"I"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"I - Identification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Identification of: 1) self 2) role 3) patient"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-red-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-red-100 text-red-800 rounded-full text-xs font-bold flex items-center justify-center",children:"0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Requires direct prompting"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-orange-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-100 text-orange-800 rounded-full text-xs font-bold flex items-center justify-center",children:"1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Introduces themselves but only after a hint"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-yellow-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold flex items-center justify-center",children:"2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Introduces themselves but information is incomplete"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-green-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-100 text-green-800 rounded-full text-xs font-bold flex items-center justify-center",children:"3"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Introduces themselves and information is complete"})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 bg-gradient-to-r from-green-50 to-green-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-600 text-white rounded-full text-sm font-bold",children:"S"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"S - Situation"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Identifies main problem(s)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-red-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-red-100 text-red-800 rounded-full text-xs font-bold flex items-center justify-center",children:"0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Unable to identify the main problem(s)"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-orange-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-100 text-orange-800 rounded-full text-xs font-bold flex items-center justify-center",children:"1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Identifies the main problem(s) after extended prompting"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-yellow-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold flex items-center justify-center",children:"2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Identifies the main problem(s) with fewer prompts needed"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-green-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-100 text-green-800 rounded-full text-xs font-bold flex items-center justify-center",children:"3"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Identifies and prioritises the main problem(s) unprompted"})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 bg-gradient-to-r from-purple-50 to-purple-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-600 text-white rounded-full text-sm font-bold",children:"B"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"B - Background"}),s.jsx("p",{className:"text-sm text-gray-600",children:"History and examination/observations"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-purple-800 mb-2",children:"Gives appropriate history:"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-red-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-red-100 text-red-800 rounded-full text-xs font-bold flex items-center justify-center",children:"0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"History is unstructured, or contains non-relevant information"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-orange-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-100 text-orange-800 rounded-full text-xs font-bold flex items-center justify-center",children:"1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Relevant history but frequent clarification needed"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-yellow-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold flex items-center justify-center",children:"2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Relevant history with few further questions needed"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-green-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-100 text-green-800 rounded-full text-xs font-bold flex items-center justify-center",children:"3"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Comprehensive focused history"})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-purple-800 mb-2",children:"Gives appropriate examination/observations:"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-red-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-red-100 text-red-800 rounded-full text-xs font-bold flex items-center justify-center",children:"0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Examination/significant observations are omitted or irrelevant"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-orange-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-100 text-orange-800 rounded-full text-xs font-bold flex items-center justify-center",children:"1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Examination/observations are reported but frequent clarification is needed"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-yellow-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold flex items-center justify-center",children:"2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Examination/observations are reported with few further questions needed"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-green-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-100 text-green-800 rounded-full text-xs font-bold flex items-center justify-center",children:"3"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Comprehensive focused examination/observations"})]})]})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 bg-gradient-to-r from-yellow-50 to-yellow-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-yellow-600 text-white rounded-full text-sm font-bold",children:"A"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"A - Assessment"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Makes logical assessment (Correlates problem, history, exam and context)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-red-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-red-100 text-red-800 rounded-full text-xs font-bold flex items-center justify-center",children:"0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"No logical assessment given"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-orange-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-100 text-orange-800 rounded-full text-xs font-bold flex items-center justify-center",children:"1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Assessment is logical only after extended questioning"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-yellow-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold flex items-center justify-center",children:"2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Assessment is logical after minimal questioning"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-green-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-100 text-green-800 rounded-full text-xs font-bold flex items-center justify-center",children:"3"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Comprehensive logical assessment without questioning"})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 bg-gradient-to-r from-indigo-50 to-indigo-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold",children:"R"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"R - Recommendation"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Makes a clear recommendation"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-red-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-red-100 text-red-800 rounded-full text-xs font-bold flex items-center justify-center",children:"0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"No clear recommendation is made"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-orange-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-100 text-orange-800 rounded-full text-xs font-bold flex items-center justify-center",children:"1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Clear recommendation only after extended questioning"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-yellow-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold flex items-center justify-center",children:"2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Clear recommendation after minimal questioning"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-green-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-100 text-green-800 rounded-full text-xs font-bold flex items-center justify-center",children:"3"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Clear comprehensive recommendation without questioning"})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 bg-gradient-to-r from-gray-50 to-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-600 text-white rounded-full text-sm font-bold",children:"G"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Global Rating Scale (GRS)"}),s.jsx("p",{className:"text-sm text-gray-600",children:"How confident am I that I received an accurate picture of the patient?"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-red-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-red-100 text-red-800 rounded-full text-xs font-bold flex items-center justify-center",children:"0"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Not at all confident"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-orange-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-orange-100 text-orange-800 rounded-full text-xs font-bold flex items-center justify-center",children:"1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"I am confident but required extended questioning on several aspects"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-yellow-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold flex items-center justify-center",children:"2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"I am confident but required some further questioning"})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border-l-4 border-green-400",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-100 text-green-800 rounded-full text-xs font-bold flex items-center justify-center",children:"3"}),s.jsx("span",{className:"text-sm text-gray-700",children:"I am confident and required little or no questioning"})]})]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vs,{size:16,className:"text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("div",{className:"font-medium mb-1",children:"Assessment Guide:"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Score 0:"})," Not performed competently - needs significant improvement"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Score 1:"})," Able to perform under firm direction - requires extensive support"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Score 2:"})," Able to perform under modest direction - developing competency"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Score 3:"})," Able to perform under minimal direction - demonstrates proficiency"]})]})]})]})})]})}),s.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex-shrink-0",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx(U,{onClick:()=>{yt(),Be(!1)},variant:"ghost",size:"sm",className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Skip & Don't Show Again"}),s.jsx(U,{onClick:()=>Be(!1),variant:"outline",size:"sm",className:"px-4 py-2",children:"Close"})]})})]})}),yx()]})},iN=()=>{const{sessionName:e}=b0(),{currentUser:t}=Ls();return s.jsx(lN,{sessionName:e!=null?e:null,authUser:t})},oN=()=>{const{currentUser:e}=Ls(),[t,r]=f.useState(null),[n,a]=f.useState(!1),[l,i]=f.useState({}),[c,o]=f.useState(!1),[d,u]=f.useState(null),[m,x]=f.useState(null),[b,N]=f.useState(!1),j=f.useRef(null),[S,p]=f.useState(!1),[g,y]=f.useState({current_password:"",new_password:"",confirm_password:""}),[v,M]=f.useState({current:!1,new:!1,confirm:!1}),[L,P]=f.useState(!1),[C,X]=f.useState({session_notifications:!0,comment_notifications:!0,system_notifications:!0,auto_play_videos:!0,theme:"light"}),[$,de]=f.useState(!1),[he,W]=f.useState([]),[Z,te]=f.useState(0),[D,ee]=f.useState(null),{data:_,error:I,mutate:V,isLoading:ue}=St("surgical_training.api.user.get_user_profile"),{data:Q,error:Ne,isLoading:ce}=St("surgical_training.api.user.get_user_roles"),{call:Xe}=st("surgical_training.api.user.update_user_profile"),{call:nt}=st("surgical_training.api.user.change_password"),{upload:z}=t1();f.useEffect(()=>{console.log(" CurrentUser detected, triggering immediate data fetch:",e),setTimeout(()=>{V()},100)},[e,V]),f.useEffect(()=>{!Q&&!ce&&!Ne&&setTimeout(()=>{V()},200)},[e,Q,ce,Ne,V]),f.useEffect(()=>{const B=(_==null?void 0:_.message)||_;B&&typeof B=="object"&&B.name&&!t?(console.log(" Profile data loaded, setting profile"),console.log("Profile data:",B),r(B),i(B)):console.log(" Waiting for profile data...",{hasProfile:!!B,hasRoles:!!Q,userLoading:ue,rolesLoading:ce})},[_,Q,I,Ne,e,ue,ce]),f.useEffect(()=>{D||(ee(Date.now()),te(0),W([]))},[e,D]),f.useEffect(()=>{if(!D)return;const B=setInterval(()=>{const fe=Date.now()-D;let Le=Math.min(fe/4500,1);const $e=Le<.5?2*Le*Le:1-Math.pow(-2*Le+2,3)/2,Ye=Math.min($e*99,99),we=[];fe>300&&we.push(" Authenticating"),fe>2e3&&we.push(" Loading profile"),te(Ye),W(we),t&&fe>1e3&&(te(100),we.push(" Ready"),W(we),clearInterval(B)),fe>8e3&&(te(100),clearInterval(B))},100);return()=>clearInterval(B)},[e,D,t]),f.useEffect(()=>{if(!t&&!I){const B=setTimeout(()=>{var Be,Le;de(!0);const fe={name:e,email:e,first_name:((Be=e.split("@")[0])==null?void 0:Be.replace(/\./g," ").replace(/\b\w/g,$e=>$e.toUpperCase()))||"User",last_name:"",full_name:((Le=e.split("@")[0])==null?void 0:Le.replace(/\./g," ").replace(/\b\w/g,$e=>$e.toUpperCase()))||"User",phone:"",gender:"",language:"en",role_profile_name:"User",enabled:1,time_zone:""};r(fe),i(fe)},1e4);return()=>clearTimeout(B)}},[e,t,I]);const ae=(B,fe)=>{i(Be=>ne(R({},Be),{[B]:fe}))},ge=B=>{var Be;const fe=(Be=B.target.files)==null?void 0:Be[0];if(fe){if(fe.size>5*1024*1024){O.error("Image size must be less than 5MB");return}if(!fe.type.startsWith("image/")){O.error("Please select a valid image file");return}u(fe);const Le=new FileReader;Le.onload=$e=>{var Ye;x((Ye=$e.target)==null?void 0:Ye.result)},Le.readAsDataURL(fe)}},ye=()=>xe(void 0,null,function*(){if(!(!d||!e)){N(!0);try{const B=yield z(d,{doctype:"User",docname:e,fieldname:"user_image",isPrivate:!1});if(B!=null&&B.file_url)yield Xe({user_image:B.file_url}),O.success("Avatar updated successfully"),u(null),x(null),yield V();else throw new Error("Upload failed - no file URL returned")}catch(B){console.error("Error uploading avatar:",B),O.error("Failed to upload avatar")}finally{N(!1)}}}),_e=()=>xe(void 0,null,function*(){if(l){o(!0);try{const B={first_name:l.first_name||"",last_name:l.last_name||"",phone:l.phone||"",gender:l.gender||"",language:l.language||"en",time_zone:l.time_zone||""};console.log("Sending update data:",B),yield Xe(B),O.success("Profile updated successfully"),a(!1),yield V()}catch(B){console.error("Error updating profile:",B),O.error("Failed to update profile")}finally{o(!1)}}}),at=B=>xe(void 0,null,function*(){if(B.preventDefault(),g.new_password!==g.confirm_password){O.error("New passwords do not match");return}if(g.new_password.length<8){O.error("Password must be at least 8 characters long");return}P(!0);try{yield nt({old_password:g.current_password,new_password:g.new_password}),O.success("Password changed successfully"),p(!1),y({current_password:"",new_password:"",confirm_password:""})}catch(fe){console.error("Error changing password:",fe),O.error("Failed to change password. Please check your current password.")}finally{P(!1)}}),ms=()=>{a(!1),i(t||{}),u(null),x(null)},It=B=>{if(!B)return"Not available";try{const fe=new Date(B);return isNaN(fe.getTime())?"Invalid date":fe.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(fe){return"Invalid date"}};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(xr,{currentPage:"account"}),s.jsxs("div",{className:"max-w-4xl mx-auto pt-8 pb-12 px-4",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Account Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage your profile information and account preferences"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs(Ae,{children:[s.jsxs(Mt,{className:"text-center",children:[s.jsxs("div",{className:"relative mx-auto w-32 h-32 mb-4",children:[s.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center overflow-hidden",children:m||t.user_image?s.jsx("img",{src:m||t.user_image,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(os,{size:48,className:"text-white"})}),n&&s.jsx("button",{onClick:()=>{var B;return(B=j.current)==null?void 0:B.click()},className:"absolute bottom-0 right-0 bg-indigo-600 hover:bg-indigo-700 text-white p-2 rounded-full shadow-lg transition-colors",children:s.jsx(Yj,{size:16})})]}),s.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:ge,className:"hidden"}),d&&s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx(U,{size:"sm",onClick:ye,disabled:b,children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-3 w-3 border border-white border-t-transparent rounded-full mr-1"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(S2,{size:14,className:"mr-1"}),"Upload"]})}),s.jsx(U,{size:"sm",variant:"outline",onClick:()=>{u(null),x(null)},children:"Cancel"})]}),s.jsx(it,{className:"text-xl",children:t.full_name}),s.jsxs(Kt,{className:"flex items-center justify-center gap-1",children:[s.jsx(Iw,{size:14}),t.email]})]}),s.jsxs(Me,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(yd,{size:14}),s.jsxs("span",{children:["Role Profile: ",t.role_profile_name||"User"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ff,{size:14}),s.jsx("span",{children:"Assigned Roles:"})]}),(()=>{const B=(Q==null?void 0:Q.message)||Q;let fe=(B==null?void 0:B.roles)||[];fe.length===0&&(B!=null&&B.frappe_roles)&&(fe=B.frappe_roles);const Be=Q0(fe);return s.jsx("div",{className:"ml-6 flex flex-wrap gap-1",children:Be.map((Le,$e)=>s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Le.color}`,children:Le.name},$e))})})()]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Rs,{size:14}),s.jsxs("span",{children:["Joined: ",It(t.creation||"")]})]}),t.last_login&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Rt,{size:14}),s.jsxs("span",{children:["Last login: ",It(t.last_login)]})]}),s.jsxs("div",{className:`flex items-center gap-2 text-sm ${t.enabled?"text-green-600":"text-red-600"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${t.enabled?"bg-green-500":"bg-red-500"}`}),s.jsxs("span",{children:["Status: ",t.enabled?"Active":"Inactive"]})]})]})]}),s.jsxs(Ae,{className:"mt-6",children:[s.jsx(Mt,{children:s.jsxs(it,{className:"text-lg flex items-center gap-2",children:[s.jsx(Y0,{size:18}),"Quick Actions"]})}),s.jsxs(Me,{className:"space-y-3",children:[s.jsxs(U,{variant:"outline",className:"w-full justify-start",onClick:()=>p(!S),children:[s.jsx(Ew,{size:16,className:"mr-2"}),"Change Password"]}),s.jsx(U,{variant:"outline",className:"w-full justify-start",onClick:()=>a(!n),children:n?s.jsxs(s.Fragment,{children:[s.jsx(Xt,{size:16,className:"mr-2"}),"Cancel Editing"]}):s.jsxs(s.Fragment,{children:[s.jsx(Va,{size:16,className:"mr-2"}),"Edit Profile"]})})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Ae,{children:[s.jsxs(Mt,{children:[s.jsxs(it,{className:"flex items-center gap-2",children:[s.jsx(Ff,{size:20}),"Personal Information"]}),s.jsx(Kt,{children:"Update your personal details and contact information"})]}),s.jsxs(Me,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n?s.jsx(Hs,{value:l.first_name||"",onChange:B=>ae("first_name",B.target.value),placeholder:"Enter first name"}):s.jsx("p",{className:"text-gray-900 py-2",children:t.first_name||"Not set"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n?s.jsx(Hs,{value:l.last_name||"",onChange:B=>ae("last_name",B.target.value),placeholder:"Enter last name"}):s.jsx("p",{className:"text-gray-900 py-2",children:t.last_name||"Not set"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n?s.jsx(Hs,{value:l.phone||l.mobile_no||"",onChange:B=>ae("mobile_no",B.target.value),placeholder:"Enter phone number",type:"tel"}):s.jsx("p",{className:"text-gray-900 py-2",children:t.phone||t.mobile_no||"Not set"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),n?s.jsx(Hs,{value:l.location||"",onChange:B=>ae("location",B.target.value),placeholder:"Enter your location"}):s.jsx("p",{className:"text-gray-900 py-2",children:t.location||"Not set"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),n?s.jsx("textarea",{value:l.bio||"",onChange:B=>ae("bio",B.target.value),placeholder:"Tell us about yourself...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}):s.jsx("p",{className:"text-gray-900 py-2",children:t.bio||"No bio provided"})]}),n&&s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(U,{onClick:_e,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border border-white border-t-transparent rounded-full mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bi,{size:16,className:"mr-2"}),"Save Changes"]})}),s.jsxs(U,{variant:"outline",onClick:ms,children:[s.jsx(Xt,{size:16,className:"mr-2"}),"Cancel"]})]})]})]}),S&&s.jsxs(Ae,{children:[s.jsxs(Mt,{children:[s.jsxs(it,{className:"flex items-center gap-2",children:[s.jsx(W0,{size:20}),"Change Password"]}),s.jsx(Kt,{children:"Update your account password for better security"})]}),s.jsx(Me,{children:s.jsxs("form",{onSubmit:at,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{type:v.current?"text":"password",value:g.current_password,onChange:B=>y(fe=>ne(R({},fe),{current_password:B.target.value})),placeholder:"Enter current password",required:!0}),s.jsx("button",{type:"button",onClick:()=>M(B=>ne(R({},B),{current:!B.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v.current?s.jsx(Ua,{size:16}):s.jsx(Qr,{size:16})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{type:v.new?"text":"password",value:g.new_password,onChange:B=>y(fe=>ne(R({},fe),{new_password:B.target.value})),placeholder:"Enter new password",minLength:8,required:!0}),s.jsx("button",{type:"button",onClick:()=>M(B=>ne(R({},B),{new:!B.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v.new?s.jsx(Ua,{size:16}):s.jsx(Qr,{size:16})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{type:v.confirm?"text":"password",value:g.confirm_password,onChange:B=>y(fe=>ne(R({},fe),{confirm_password:B.target.value})),placeholder:"Confirm new password",required:!0}),s.jsx("button",{type:"button",onClick:()=>M(B=>ne(R({},B),{confirm:!B.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v.confirm?s.jsx(Ua,{size:16}):s.jsx(Qr,{size:16})})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(U,{type:"submit",disabled:L,children:L?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border border-white border-t-transparent rounded-full mr-2"}),"Changing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jj,{size:16,className:"mr-2"}),"Change Password"]})}),s.jsx(U,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"})]})]})})]}),s.jsxs(Ae,{children:[s.jsxs(Mt,{children:[s.jsxs(it,{className:"flex items-center gap-2",children:[s.jsx(fd,{size:20}),"Notification Preferences"]}),s.jsx(Kt,{children:"Manage how you receive notifications and updates"})]}),s.jsx(Me,{className:"space-y-4",children:[{key:"session_notifications",label:"Session Notifications",description:"Get notified about new training sessions and assignments"},{key:"comment_notifications",label:"Comment Notifications",description:"Receive notifications when someone comments on videos"},{key:"system_notifications",label:"System Notifications",description:"Receive important system updates and announcements"},{key:"auto_play_videos",label:"Auto-play Videos",description:"Automatically play videos in sessions"}].map(B=>s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:B.label}),s.jsx("p",{className:"text-sm text-gray-600",children:B.description})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:C[B.key],onChange:fe=>X(Be=>ne(R({},Be),{[B.key]:fe.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]},B.key))})]})]})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(xr,{currentPage:"account"}),s.jsx("div",{className:"max-w-4xl mx-auto pt-8 px-4",children:s.jsxs("div",{className:"flex justify-center items-center h-96 flex-col",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4",children:s.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:$?"Loading timeout - using fallback data...":"Loading Your Profile"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your account information"})]}),s.jsxs("div",{className:"w-full max-w-md mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),s.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[Math.round(Z),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${Z}%`}})})]}),s.jsxs("div",{className:"w-full max-w-md space-y-3 mb-6",children:[he.map((B,fe)=>s.jsxs("div",{className:"flex items-center text-sm text-gray-700 transition-all duration-500 ease-in-out",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3 animate-pulse"}),B]},fe)),Z<99&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mr-3 animate-pulse"}),Z<50&&"Loading...",Z>=50&&"Almost ready..."]})]}),s.jsxs("details",{className:"w-full max-w-md text-xs text-gray-500",children:[s.jsx("summary",{className:"cursor-pointer hover:text-gray-700 mb-2",children:"Debug Information"}),s.jsxs("div",{className:"bg-gray-100 p-3 rounded-md space-y-1",children:[s.jsxs("p",{children:["Current User: ",e]}),s.jsxs("p",{children:["Overall Loading: ","No"]}),s.jsxs("p",{children:["Profile Loading: ","No"]}),s.jsxs("p",{children:["Roles Loading: ","No"]}),s.jsxs("p",{children:["Profile Data: ",_?"Received":"Waiting"]}),s.jsxs("p",{children:["Roles Data: ",Q?"Received":"Waiting"]}),s.jsxs("p",{children:["Profile Error: ","No"]}),s.jsxs("p",{children:["Roles Error: ","No"]}),Q&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"font-medium",children:"Roles Data:"}),s.jsx("pre",{className:"text-xs bg-white p-2 rounded border overflow-auto",children:JSON.stringify(Q,null,2)})]}),I,Ne]})]})]})})]})},cN=()=>{const{currentUser:e}=Ls(),{data:t,error:r}=St("surgical_training.api.user.get_user_roles");return s.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(Ae,{children:[s.jsx(Mt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yd,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx(it,{className:"text-2xl",children:"Role Checker"}),s.jsx("p",{className:"text-gray-600",children:"Check current user roles and permissions"})]})]})}),s.jsxs(Me,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg",children:[s.jsx(os,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Current User"}),s.jsx("p",{className:"text-sm text-gray-600",children:e})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Role Information"}),r,t&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"font-medium text-green-800 mb-2",children:" API Response Received"}),s.jsx("div",{className:"bg-white p-3 rounded border text-sm font-mono",children:s.jsx("pre",{children:JSON.stringify(t,null,2)})})]}),t.roles&&s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium mb-2",children:["Current Roles (",t.roles.length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.roles.map(n=>s.jsx(bd,{variant:"secondary",className:"text-sm",children:n},n))})]})]}),!t&&!r&&s.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-yellow-700",children:"Loading role information..."})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Access Permissions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(yd,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Analytics Page"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Requires: Role Administrator, System Manager, or Administrator"}),t!=null&&t.roles?t.roles.some(n=>["Role Administrator","System Manager","Administrator"].includes(n))?s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Access Granted"})]}):s.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[s.jsx(pd,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Access Denied"})]}):s.jsx("span",{className:"text-sm text-gray-500",children:"Checking..."})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(os,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"My Sessions Page"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Requires: Physician or Doctor"}),t!=null&&t.roles?t.roles.some(n=>["Physician","Doctor"].includes(n))?s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Access Granted"})]}):s.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[s.jsx(pd,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Access Denied"})]}):s.jsx("span",{className:"text-sm text-gray-500",children:"Checking..."})]})]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"font-medium mb-2",children:" Console Debug Info"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Open browser console (F12) to see detailed role debugging information. The Analytics and My Sessions pages log role data to console."})]})]})]})})})},dN=()=>"/isim/login",Fr=({children:e})=>{const{currentUser:t,isValidating:r}=Ls(),[n,a]=f.useState(0),[l,i]=f.useState(!1);return sessionStorage.getItem("just_logged_out")==="true"?(window.location.replace(dN()),s.jsx("div",{className:"flex justify-center items-center h-screen",children:"Redirecting to login..."})):(f.useEffect(()=>{},[t,r,n]),f.useEffect(()=>{a(0),i(!1)},[t]),l?s.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):s.jsx(s.Fragment,{children:e}))},uN="modulepreload",mN=function(e,t){return new URL(e,t).href},Wf={},fN=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const i=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),o=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(r.map(d=>{if(d=mN(d,n),d in Wf)return;Wf[d]=!0;const u=d.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(!!n)for(let N=i.length-1;N>=0;N--){const j=i[N];if(j.href===d&&(!u||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${m}`))return;const b=document.createElement("link");if(b.rel=u?"stylesheet":uN,u||(b.as="script"),b.crossOrigin="",b.href=d,o&&b.setAttribute("nonce",o),document.head.appendChild(b),u)return new Promise((N,j)=>{b.addEventListener("load",N),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return a.then(i=>{for(const c of i||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})};var hN=function(t){return pN(t)&&!gN(t)};function pN(e){return!!e&&typeof e=="object"}function gN(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||vN(e)}var xN=typeof Symbol=="function"&&Symbol.for,yN=xN?Symbol.for("react.element"):60103;function vN(e){return e.$$typeof===yN}function bN(e){return Array.isArray(e)?[]:{}}function hl(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Kn(bN(e),e,t):e}function jN(e,t,r){return e.concat(t).map(function(n){return hl(n,r)})}function wN(e,t){if(!t.customMerge)return Kn;var r=t.customMerge(e);return typeof r=="function"?r:Kn}function NN(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Gf(e){return Object.keys(e).concat(NN(e))}function Z0(e,t){try{return t in e}catch(r){return!1}}function kN(e,t){return Z0(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function SN(e,t,r){var n={};return r.isMergeableObject(e)&&Gf(e).forEach(function(a){n[a]=hl(e[a],r)}),Gf(t).forEach(function(a){kN(e,a)||(Z0(e,a)&&r.isMergeableObject(t[a])?n[a]=wN(a,r)(e[a],t[a],r):n[a]=hl(t[a],r))}),n}function Kn(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||jN,r.isMergeableObject=r.isMergeableObject||hN,r.cloneUnlessOtherwiseSpecified=hl;var n=Array.isArray(t),a=Array.isArray(e),l=n===a;return l?n?r.arrayMerge(e,t,r):SN(e,t,r):hl(t,r)}Kn.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,a){return Kn(n,a,r)},{})};var _N=Kn,J0=_N,qf=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function CN(e,t){return!!(e===t||qf(e)&&qf(t))}function EN(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!CN(e[r],t[r]))return!1;return!0}function PN(e,t){t===void 0&&(t=EN);var r,n=[],a,l=!1;function i(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];return l&&r===this&&t(c,n)||(a=e.apply(this,c),l=!0,r=this,n=c),a}return i}const TN=Object.freeze(Object.defineProperty({__proto__:null,default:PN},Symbol.toStringTag,{value:"Module"})),zN=Nx(TN);var AN=typeof Element!="undefined",MN=typeof Map=="function",RN=typeof Set=="function",LN=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function gi(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!gi(e[n],t[n]))return!1;return!0}var l;if(MN&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(l=e.entries();!(n=l.next()).done;)if(!t.has(n.value[0]))return!1;for(l=e.entries();!(n=l.next()).done;)if(!gi(n.value[1],t.get(n.value[0])))return!1;return!0}if(RN&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(l=e.entries();!(n=l.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(LN&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(AN&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!gi(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var eg=function(t,r){try{return gi(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},tg={exports:{}},$N="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ON=$N,IN=ON;function sg(){}function rg(){}rg.resetWarningCache=sg;var DN=function(){function e(n,a,l,i,c,o){if(o!==IN){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rg,resetWarningCache:sg};return r.PropTypes=r,r};tg.exports=DN();var FN=tg.exports,UN=Object.create,co=Object.defineProperty,VN=Object.getOwnPropertyDescriptor,BN=Object.getOwnPropertyNames,HN=Object.getPrototypeOf,WN=Object.prototype.hasOwnProperty,GN=(e,t)=>{for(var r in t)co(e,r,{get:t[r],enumerable:!0})},ng=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of BN(t))!WN.call(e,a)&&a!==r&&co(e,a,{get:()=>t[a],enumerable:!(n=VN(t,a))||n.enumerable});return e},qN=(e,t,r)=>(r=e!=null?UN(HN(e)):{},ng(!e||!e.__esModule?co(r,"default",{value:e,enumerable:!0}):r,e)),YN=e=>ng(co({},"__esModule",{value:!0}),e),ag={};GN(ag,{defaultProps:()=>XN,propTypes:()=>QN});var lg=YN(ag),KN=qN(FN);const{string:mt,bool:Tt,number:vn,array:oc,oneOfType:ka,shape:qt,object:Nt,func:et,node:Yf}=KN.default,QN={url:ka([mt,oc,Nt]),playing:Tt,loop:Tt,controls:Tt,volume:vn,muted:Tt,playbackRate:vn,width:ka([mt,vn]),height:ka([mt,vn]),style:Nt,progressInterval:vn,playsinline:Tt,pip:Tt,stopOnUnmount:Tt,light:ka([Tt,mt,Nt]),playIcon:Yf,previewTabIndex:vn,previewAriaLabel:mt,fallback:Yf,oEmbedUrl:mt,wrapper:ka([mt,et,qt({render:et.isRequired})]),config:qt({soundcloud:qt({options:Nt}),youtube:qt({playerVars:Nt,embedOptions:Nt,onUnstarted:et}),facebook:qt({appId:mt,version:mt,playerId:mt,attributes:Nt}),dailymotion:qt({params:Nt}),vimeo:qt({playerOptions:Nt,title:mt}),mux:qt({attributes:Nt,version:mt}),file:qt({attributes:Nt,tracks:oc,forceVideo:Tt,forceAudio:Tt,forceHLS:Tt,forceSafariHLS:Tt,forceDisableHls:Tt,forceDASH:Tt,forceFLV:Tt,hlsOptions:Nt,hlsVersion:mt,dashVersion:mt,flvVersion:mt}),wistia:qt({options:Nt,playerId:mt,customControls:oc}),mixcloud:qt({options:Nt}),twitch:qt({options:Nt,playerId:mt}),vidyard:qt({options:Nt})}),onReady:et,onStart:et,onPlay:et,onPause:et,onBuffer:et,onBufferEnd:et,onEnded:et,onError:et,onDuration:et,onSeek:et,onPlaybackRateChange:et,onPlaybackQualityChange:et,onProgress:et,onClickPreview:et,onEnablePIP:et,onDisablePIP:et},ft=()=>{},XN={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:ft},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:ft,onStart:ft,onPlay:ft,onPause:ft,onBuffer:ft,onBufferEnd:ft,onEnded:ft,onError:ft,onDuration:ft,onSeek:ft,onPlaybackRateChange:ft,onPlaybackQualityChange:ft,onProgress:ft,onClickPreview:ft,onEnablePIP:ft,onDisablePIP:ft};var ZN=function(t,r,n){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof r=="function"&&(n=r,r={}),r=r||{},n=n||function(){},l.type=r.type||"text/javascript",l.charset=r.charset||"utf8",l.async="async"in r?!!r.async:!0,l.src=t,r.attrs&&JN(l,r.attrs),r.text&&(l.text=""+r.text);var i="onload"in l?Kf:ek;i(l,n),l.onload||Kf(l,n),a.appendChild(l)};function JN(e,t){for(var r in t)e.setAttribute(r,t[r])}function Kf(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function ek(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var tk=Object.create,uo=Object.defineProperty,sk=Object.getOwnPropertyDescriptor,rk=Object.getOwnPropertyNames,nk=Object.getPrototypeOf,ak=Object.prototype.hasOwnProperty,lk=(e,t)=>{for(var r in t)uo(e,r,{get:t[r],enumerable:!0})},ig=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of rk(t))!ak.call(e,a)&&a!==r&&uo(e,a,{get:()=>t[a],enumerable:!(n=sk(t,a))||n.enumerable});return e},_u=(e,t,r)=>(r=e!=null?tk(nk(e)):{},ig(!e||!e.__esModule?uo(r,"default",{value:e,enumerable:!0}):r,e)),ik=e=>ig(uo({},"__esModule",{value:!0}),e),og={};lk(og,{callPlayer:()=>Nk,getConfig:()=>jk,getSDK:()=>bk,isBlobUrl:()=>Sk,isMediaStream:()=>kk,lazy:()=>uk,omit:()=>wk,parseEndTime:()=>xk,parseStartTime:()=>gk,queryString:()=>vk,randomString:()=>yk,supportsWebKitPresentationMode:()=>_k});var mo=ik(og),ok=_u(f),ck=_u(ZN),dk=_u(J0);const uk=e=>ok.default.lazy(()=>xe(void 0,null,function*(){const t=yield e();return typeof t.default=="function"?t:t.default})),mk=/[?&#](?:start|t)=([0-9hms]+)/,fk=/[?&#]end=([0-9hms]+)/,jd=/(\d+)(h|m|s)/g,hk=/^\d+$/;function cg(e,t){if(e instanceof Array)return;const r=e.match(t);if(r){const n=r[1];if(n.match(jd))return pk(n);if(hk.test(n))return parseInt(n)}}function pk(e){let t=0,r=jd.exec(e);for(;r!==null;){const[,n,a]=r;a==="h"&&(t+=parseInt(n,10)*60*60),a==="m"&&(t+=parseInt(n,10)*60),a==="s"&&(t+=parseInt(n,10)),r=jd.exec(e)}return t}function gk(e){return cg(e,mk)}function xk(e){return cg(e,fk)}function yk(){return Math.random().toString(36).substr(2,5)}function vk(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function cc(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const bn={},bk=function(t,r,n=null,a=()=>!0,l=ck.default){const i=cc(r);return i&&a(i)?Promise.resolve(i):new Promise((c,o)=>{if(bn[t]){bn[t].push({resolve:c,reject:o});return}bn[t]=[{resolve:c,reject:o}];const d=u=>{bn[t].forEach(m=>m.resolve(u))};if(n){const u=window[n];window[n]=function(){u&&u(),d(cc(r))}}l(t,u=>{u?(bn[t].forEach(m=>m.reject(u)),bn[t]=null):n||d(cc(r))})})};function jk(e,t){return(0,dk.default)(t.config,e.config)}function wk(e,...t){const r=[].concat(...t),n={},a=Object.keys(e);for(const l of a)r.indexOf(l)===-1&&(n[l]=e[l]);return n}function Nk(e,...t){if(!this.player||!this.player[e]){let r=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c  `;return this.player?this.player[e]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}return this.player[e](...t)}function kk(e){return typeof window!="undefined"&&typeof window.MediaStream!="undefined"&&e instanceof window.MediaStream}function Sk(e){return/^blob:/.test(e)}function _k(e=document.createElement("video")){const t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var Ck=Object.create,wl=Object.defineProperty,Ek=Object.getOwnPropertyDescriptor,Pk=Object.getOwnPropertyNames,Tk=Object.getPrototypeOf,zk=Object.prototype.hasOwnProperty,Ak=(e,t,r)=>t in e?wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mk=(e,t)=>{for(var r in t)wl(e,r,{get:t[r],enumerable:!0})},dg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Pk(t))!zk.call(e,a)&&a!==r&&wl(e,a,{get:()=>t[a],enumerable:!(n=Ek(t,a))||n.enumerable});return e},ug=(e,t,r)=>(r=e!=null?Ck(Tk(e)):{},dg(!e||!e.__esModule?wl(r,"default",{value:e,enumerable:!0}):r,e)),Rk=e=>dg(wl({},"__esModule",{value:!0}),e),We=(e,t,r)=>(Ak(e,typeof t!="symbol"?t+"":t,r),r),mg={};Mk(mg,{default:()=>fo});var Lk=Rk(mg),Qf=ug(f),$k=ug(eg),fg=lg,Ok=mo;const Ik=5e3;let fo=class extends Qf.Component{constructor(){super(...arguments),We(this,"mounted",!1),We(this,"isReady",!1),We(this,"isPlaying",!1),We(this,"isLoading",!0),We(this,"loadOnReady",null),We(this,"startOnPlay",!0),We(this,"seekOnPlay",null),We(this,"onDurationCalled",!1),We(this,"handlePlayerMount",t=>{if(this.player){this.progress();return}this.player=t,this.player.load(this.props.url),this.progress()}),We(this,"getInternalPlayer",t=>this.player?this.player[t]:null),We(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const t=this.getCurrentTime()||0,r=this.getSecondsLoaded(),n=this.getDuration();if(n){const a={playedSeconds:t,played:t/n};r!==null&&(a.loadedSeconds=r,a.loaded=r/n),(a.playedSeconds!==this.prevPlayed||a.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(a),this.prevPlayed=a.playedSeconds,this.prevLoaded=a.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),We(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:t,playing:r,volume:n,muted:a}=this.props;t(),!a&&n!==null&&this.player.setVolume(n),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):r&&this.player.play(),this.handleDurationCheck()}),We(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:t,onPlay:r,playbackRate:n}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&n!==1&&this.player.setPlaybackRate(n),t(),this.startOnPlay=!1),r(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),We(this,"handlePause",t=>{this.isPlaying=!1,this.isLoading||this.props.onPause(t)}),We(this,"handleEnded",()=>{const{activePlayer:t,loop:r,onEnded:n}=this.props;t.loopOnEnded&&r&&this.seekTo(0),r||(this.isPlaying=!1,n())}),We(this,"handleError",(...t)=>{this.isLoading=!1,this.props.onError(...t)}),We(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const t=this.getDuration();t?this.onDurationCalled||(this.props.onDuration(t),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),We(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(t){if(!this.player)return;const{url:r,playing:n,volume:a,muted:l,playbackRate:i,pip:c,loop:o,activePlayer:d,disableDeferredLoading:u}=this.props;if(!(0,$k.default)(t.url,r)){if(this.isLoading&&!d.forceLoad&&!u&&!(0,Ok.isMediaStream)(r)){console.warn(`ReactPlayer: the attempt to load ${r} is being deferred until the player has loaded`),this.loadOnReady=r;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}!t.playing&&n&&!this.isPlaying&&this.player.play(),t.playing&&!n&&this.isPlaying&&this.player.pause(),!t.pip&&c&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!c&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==a&&a!==null&&this.player.setVolume(a),t.muted!==l&&(l?this.player.mute():(this.player.unmute(),a!==null&&setTimeout(()=>this.player.setVolume(a)))),t.playbackRate!==i&&this.player.setPlaybackRate&&this.player.setPlaybackRate(i),t.loop!==o&&this.player.setLoop&&this.player.setLoop(o)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(t,r,n){if(!this.isReady){t!==0&&(this.seekOnPlay=t,setTimeout(()=>{this.seekOnPlay=null},Ik));return}if(r?r==="fraction":t>0&&t<1){const l=this.player.getDuration();if(!l){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(l*t,n);return}this.player.seekTo(t,n)}render(){const t=this.props.activePlayer;return t?Qf.default.createElement(t,ne(R({},this.props),{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}};We(fo,"displayName","Player");We(fo,"propTypes",fg.propTypes);We(fo,"defaultProps",fg.defaultProps);var Dk=Object.create,Nl=Object.defineProperty,Fk=Object.getOwnPropertyDescriptor,Uk=Object.getOwnPropertyNames,Vk=Object.getPrototypeOf,Bk=Object.prototype.hasOwnProperty,Hk=(e,t,r)=>t in e?Nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wk=(e,t)=>{for(var r in t)Nl(e,r,{get:t[r],enumerable:!0})},hg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Uk(t))!Bk.call(e,a)&&a!==r&&Nl(e,a,{get:()=>t[a],enumerable:!(n=Fk(t,a))||n.enumerable});return e},kl=(e,t,r)=>(r=e!=null?Dk(Vk(e)):{},hg(!e||!e.__esModule?Nl(r,"default",{value:e,enumerable:!0}):r,e)),Gk=e=>hg(Nl({},"__esModule",{value:!0}),e),He=(e,t,r)=>(Hk(e,typeof t!="symbol"?t+"":t,r),r),pg={};Wk(pg,{createReactPlayer:()=>tS});var qk=Gk(pg),wn=kl(f),Yk=kl(J0),dc=kl(zN),Xf=kl(eg),Ta=lg,gg=mo,Kk=kl(Lk);const Qk=(0,gg.lazy)(()=>fN(()=>import("./Preview-C2sLXQCt.js").then(e=>e.P),[],import.meta.url)),Xk=typeof window!="undefined"&&window.document&&typeof document!="undefined",Zk=typeof No!="undefined"&&No.window&&No.window.document,Jk=Object.keys(Ta.propTypes),eS=Xk||Zk?wn.Suspense:()=>null,Sa=[],tS=(e,t)=>{var r;return r=class extends wn.Component{constructor(){super(...arguments),He(this,"state",{showPreview:!!this.props.light}),He(this,"references",{wrapper:n=>{this.wrapper=n},player:n=>{this.player=n}}),He(this,"handleClickPreview",n=>{this.setState({showPreview:!1}),this.props.onClickPreview(n)}),He(this,"showPreview",()=>{this.setState({showPreview:!0})}),He(this,"getDuration",()=>this.player?this.player.getDuration():null),He(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),He(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),He(this,"getInternalPlayer",(n="player")=>this.player?this.player.getInternalPlayer(n):null),He(this,"seekTo",(n,a,l)=>{if(!this.player)return null;this.player.seekTo(n,a,l)}),He(this,"handleReady",()=>{this.props.onReady(this)}),He(this,"getActivePlayer",(0,dc.default)(n=>{for(const a of[...Sa,...e])if(a.canPlay(n))return a;return t||null})),He(this,"getConfig",(0,dc.default)((n,a)=>{const{config:l}=this.props;return Yk.default.all([Ta.defaultProps.config,Ta.defaultProps.config[a]||{},l,l[a]||{}])})),He(this,"getAttributes",(0,dc.default)(n=>(0,gg.omit)(this.props,Jk))),He(this,"renderActivePlayer",n=>{if(!n)return null;const a=this.getActivePlayer(n);if(!a)return null;const l=this.getConfig(n,a.key);return wn.default.createElement(Kk.default,ne(R({},this.props),{key:a.key,ref:this.references.player,config:l,activePlayer:a.lazyPlayer||a,onReady:this.handleReady}))})}shouldComponentUpdate(n,a){return!(0,Xf.default)(this.props,n)||!(0,Xf.default)(this.state,a)}componentDidUpdate(n){const{light:a}=this.props;!n.light&&a&&this.setState({showPreview:!0}),n.light&&!a&&this.setState({showPreview:!1})}renderPreview(n){if(!n)return null;const{light:a,playIcon:l,previewTabIndex:i,oEmbedUrl:c,previewAriaLabel:o}=this.props;return wn.default.createElement(Qk,{url:n,light:a,playIcon:l,previewTabIndex:i,previewAriaLabel:o,oEmbedUrl:c,onClick:this.handleClickPreview})}render(){const{url:n,style:a,width:l,height:i,fallback:c,wrapper:o}=this.props,{showPreview:d}=this.state,u=this.getAttributes(n),m=typeof o=="string"?this.references.wrapper:void 0;return wn.default.createElement(o,R({ref:m,style:ne(R({},a),{width:l,height:i})},u),wn.default.createElement(eS,{fallback:c},d?this.renderPreview(n):this.renderActivePlayer(n)))}},He(r,"displayName","ReactPlayer"),He(r,"propTypes",Ta.propTypes),He(r,"defaultProps",Ta.defaultProps),He(r,"addCustomPlayer",n=>{Sa.push(n)}),He(r,"removeCustomPlayers",()=>{Sa.length=0}),He(r,"canPlay",n=>{for(const a of[...Sa,...e])if(a.canPlay(n))return!0;return!1}),He(r,"canEnablePIP",n=>{for(const a of[...Sa,...e])if(a.canEnablePIP&&a.canEnablePIP(n))return!0;return!1}),r};var Cu=Object.defineProperty,sS=Object.getOwnPropertyDescriptor,rS=Object.getOwnPropertyNames,nS=Object.prototype.hasOwnProperty,aS=(e,t)=>{for(var r in t)Cu(e,r,{get:t[r],enumerable:!0})},lS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of rS(t))!nS.call(e,a)&&a!==r&&Cu(e,a,{get:()=>t[a],enumerable:!(n=sS(t,a))||n.enumerable});return e},iS=e=>lS(Cu({},"__esModule",{value:!0}),e),xg={};aS(xg,{AUDIO_EXTENSIONS:()=>Eu,DASH_EXTENSIONS:()=>zg,FLV_EXTENSIONS:()=>Ag,HLS_EXTENSIONS:()=>Tu,MATCH_URL_DAILYMOTION:()=>Cg,MATCH_URL_FACEBOOK:()=>jg,MATCH_URL_FACEBOOK_WATCH:()=>wg,MATCH_URL_KALTURA:()=>Tg,MATCH_URL_MIXCLOUD:()=>Eg,MATCH_URL_MUX:()=>bg,MATCH_URL_SOUNDCLOUD:()=>yg,MATCH_URL_STREAMABLE:()=>Ng,MATCH_URL_TWITCH_CHANNEL:()=>_g,MATCH_URL_TWITCH_VIDEO:()=>Sg,MATCH_URL_VIDYARD:()=>Pg,MATCH_URL_VIMEO:()=>vg,MATCH_URL_WISTIA:()=>kg,MATCH_URL_YOUTUBE:()=>wd,VIDEO_EXTENSIONS:()=>Pu,canPlay:()=>cS});var oS=iS(xg),Zf=mo;const wd=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,yg=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,vg=/vimeo\.com\/(?!progressive_redirect).+/,bg=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,jg=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,wg=/^https?:\/\/fb\.watch\/.+$/,Ng=/streamable\.com\/([a-z0-9]+)$/,kg=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,Sg=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,_g=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,Cg=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,Eg=/mixcloud\.com\/([^/]+\/[^/]+)/,Pg=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Tg=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,Eu=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Pu=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Tu=/\.(m3u8)($|\?)/i,zg=/\.(mpd)($|\?)/i,Ag=/\.(flv)($|\?)/i,Nd=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&Nd(t)||Nd(t.src))return!0;return!1}return(0,Zf.isMediaStream)(e)||(0,Zf.isBlobUrl)(e)?!0:Eu.test(e)||Pu.test(e)||Tu.test(e)||zg.test(e)||Ag.test(e)},cS={youtube:e=>e instanceof Array?e.every(t=>wd.test(t)):wd.test(e),soundcloud:e=>yg.test(e)&&!Eu.test(e),vimeo:e=>vg.test(e)&&!Pu.test(e)&&!Tu.test(e),mux:e=>bg.test(e),facebook:e=>jg.test(e)||wg.test(e),streamable:e=>Ng.test(e),wistia:e=>kg.test(e),twitch:e=>Sg.test(e)||_g.test(e),dailymotion:e=>Cg.test(e),mixcloud:e=>Eg.test(e),vidyard:e=>Pg.test(e),kaltura:e=>Tg.test(e),file:Nd};var dS=Object.create,Sl=Object.defineProperty,uS=Object.getOwnPropertyDescriptor,mS=Object.getOwnPropertyNames,fS=Object.getPrototypeOf,hS=Object.prototype.hasOwnProperty,pS=(e,t,r)=>t in e?Sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gS=(e,t)=>{for(var r in t)Sl(e,r,{get:t[r],enumerable:!0})},Mg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of mS(t))!hS.call(e,a)&&a!==r&&Sl(e,a,{get:()=>t[a],enumerable:!(n=uS(t,a))||n.enumerable});return e},xS=(e,t,r)=>(r=e!=null?dS(fS(e)):{},Mg(!e||!e.__esModule?Sl(r,"default",{value:e,enumerable:!0}):r,e)),yS=e=>Mg(Sl({},"__esModule",{value:!0}),e),or=(e,t,r)=>(pS(e,typeof t!="symbol"?t+"":t,r),r),Rg={};gS(Rg,{default:()=>zu});var vS=yS(Rg),uc=xS(f),jn=mo,Lg=oS;const bS="https://www.youtube.com/iframe_api",Jf="YT",jS="onYouTubeIframeAPIReady",ei=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,mc=/user\/([a-zA-Z0-9_-]+)\/?/,wS=/youtube-nocookie\.com/,NS="https://www.youtube-nocookie.com";class zu extends uc.Component{constructor(){super(...arguments),or(this,"callPlayer",jn.callPlayer),or(this,"parsePlaylist",t=>{if(t instanceof Array)return{listType:"playlist",playlist:t.map(this.getID).join(",")};if(ei.test(t)){const[,r]=t.match(ei);return{listType:"playlist",list:r.replace(/^UC/,"UU")}}if(mc.test(t)){const[,r]=t.match(mc);return{listType:"user_uploads",list:r}}return{}}),or(this,"onStateChange",t=>{const{data:r}=t,{onPlay:n,onPause:a,onBuffer:l,onBufferEnd:i,onEnded:c,onReady:o,loop:d,config:{playerVars:u,onUnstarted:m}}=this.props,{UNSTARTED:x,PLAYING:b,PAUSED:N,BUFFERING:j,ENDED:S,CUED:p}=window[Jf].PlayerState;if(r===x&&m(),r===b&&(n(),i()),r===N&&a(),r===j&&l(),r===S){const g=!!this.callPlayer("getPlaylist");d&&!g&&(u.start?this.seekTo(u.start):this.play()),c()}r===p&&o()}),or(this,"mute",()=>{this.callPlayer("mute")}),or(this,"unmute",()=>{this.callPlayer("unMute")}),or(this,"ref",t=>{this.container=t})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}getID(t){return!t||t instanceof Array||ei.test(t)?null:t.match(Lg.MATCH_URL_YOUTUBE)[1]}load(t,r){const{playing:n,muted:a,playsinline:l,controls:i,loop:c,config:o,onError:d}=this.props,{playerVars:u,embedOptions:m}=o,x=this.getID(t);if(r){if(ei.test(t)||mc.test(t)||t instanceof Array){this.player.loadPlaylist(this.parsePlaylist(t));return}this.player.cueVideoById({videoId:x,startSeconds:(0,jn.parseStartTime)(t)||u.start,endSeconds:(0,jn.parseEndTime)(t)||u.end});return}(0,jn.getSDK)(bS,Jf,jS,b=>b.loaded).then(b=>{this.container&&(this.player=new b.Player(this.container,R({width:"100%",height:"100%",videoId:x,playerVars:R(R({autoplay:n?1:0,mute:a?1:0,controls:i?1:0,start:(0,jn.parseStartTime)(t),end:(0,jn.parseEndTime)(t),origin:window.location.origin,playsinline:l?1:0},this.parsePlaylist(t)),u),events:{onReady:()=>{c&&this.player.setLoop(!0),this.props.onReady()},onPlaybackRateChange:N=>this.props.onPlaybackRateChange(N.data),onPlaybackQualityChange:N=>this.props.onPlaybackQualityChange(N),onStateChange:this.onStateChange,onError:N=>d(N.data)},host:wS.test(t)?NS:void 0},m)))},d),m.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayers callback props instead, eg onReady, onPlay, onPause")}play(){this.callPlayer("playVideo")}pause(){this.callPlayer("pauseVideo")}stop(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}seekTo(t,r=!1){this.callPlayer("seekTo",t),!r&&!this.props.playing&&this.pause()}setVolume(t){this.callPlayer("setVolume",t*100)}setPlaybackRate(t){this.callPlayer("setPlaybackRate",t)}setLoop(t){this.callPlayer("setLoop",t)}getDuration(){return this.callPlayer("getDuration")}getCurrentTime(){return this.callPlayer("getCurrentTime")}getSecondsLoaded(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}render(){const{display:t}=this.props,r={width:"100%",height:"100%",display:t};return uc.default.createElement("div",{style:r},uc.default.createElement("div",{ref:this.ref}))}}or(zu,"displayName","YouTube");or(zu,"canPlay",Lg.canPlay.youtube);var kS=qk.createReactPlayer,eh=vS.default,SS=kS([{key:"youtube",canPlay:eh.canPlay,lazyPlayer:eh}]);const _S=th(SS),CS=()=>{const e="https://www.youtube.com/watch?v=tW-vpSNrs6M";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(xr,{currentPage:"guide"}),s.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-blue-600 to-indigo-600 shadow-lg",children:s.jsx(zs,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Platform Tutorial"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Watch our comprehensive video tutorial to learn how to use the Clinical training simulation Platform effectively"})]}),s.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-2xl mb-8",children:[s.jsxs(Mt,{className:"text-center pb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 rounded-full",children:[s.jsx(Rt,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Complete Tutorial"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-100 rounded-full",children:[s.jsx(fl,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"For All Users"})]})]}),s.jsx(it,{className:"text-2xl text-gray-900 mb-2",children:"How to Use the Clinical training simulation Platform"}),s.jsx("p",{className:"text-gray-600",children:"Learn everything you need to know about navigating sessions, adding comments, using evaluation tools, and collaborating with other medical professionals."})]}),s.jsxs(Me,{className:"p-6",children:[s.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg bg-black",children:s.jsx("div",{className:"aspect-video",children:s.jsx(_S,{url:e,width:"100%",height:"100%",controls:!0,light:!1,pip:!0})})}),s.jsx("div",{className:"flex justify-center mt-6",children:s.jsxs(U,{onClick:()=>window.open(e,"_blank"),className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 px-8",children:[s.jsx(xw,{className:"w-4 h-4 mr-2"}),"Watch on YouTube"]})})]})]}),s.jsx(Ae,{className:"mt-8 bg-gradient-to-r from-gray-50 to-blue-50 border-gray-200",children:s.jsxs(Me,{className:"p-8 text-center",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Need Additional Help?"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"If you have questions after watching the tutorial, don't hesitate to reach out for support."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(U,{variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:"Contact Support"}),s.jsx(U,{variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-50",children:"View Documentation"})]})]})})]})]})},ES=()=>{var nt;const e=bl(),[t,r]=f.useState("month"),[n,a]=f.useState(null),[l,i]=f.useState([]),[c,o]=f.useState(!0),[d,u]=f.useState(!1),[m,x]=f.useState(""),[b,N]=f.useState([]),[j,S]=f.useState([]),[p,g]=f.useState([]),[y,v]=f.useState(!1),{userRoles:M,rolesError:L,hasAdmin:P,currentUser:C,isReady:X}=Su(),$=C==="Administrator",{data:de}=St("surgical_training.api.session.get_sessions"),{call:he}=st("surgical_training.api.session_assignment.bulk_assign_sessions"),{call:W}=st("surgical_training.api.session_assignment.remove_session_assignment"),Z=P||$;if(f.useEffect(()=>{xe(void 0,null,function*(){if(Z)try{const ge=yield(yield fetch("/api/method/surgical_training.api.session_assignment.get_all_users",{method:"GET",headers:{"Content-Type":"application/json"}})).json();ge&&ge.message&&ge.message.message==="Success"&&S(ge.message.data);const _e=yield(yield fetch("/api/method/surgical_training.api.session_assignment.get_session_assignments",{method:"GET",headers:{"Content-Type":"application/json"}})).json();_e&&_e.message&&_e.message.message==="Success"&&g(_e.message.data)}catch(ae){console.error("Error fetching users and assignments:",ae)}})},[Z]),f.useEffect(()=>{de&&Z&&xe(void 0,null,function*(){if(!de||!de.message||de.message.message!=="Success")return;const ae=de.message.data,ge=[];for(const ye of ae)try{const at=yield(yield fetch(`/api/method/surgical_training.api.session.get_session_details?session_name=${encodeURIComponent(ye.name)}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(at&&at.message&&at.message.message==="Success"){const ms=at.message.data,It=ms.comments||[],B=new Set(It.map($e=>$e.doctor)).size,fe=ms.videos||[],Be=fe.length>0?It.length/fe.length:0,Le=It.length>0?new Date(Math.max(...It.map($e=>new Date($e.created_at).getTime()))).toISOString():ye.session_date;ge.push(ne(R({},ye),{comments:It,commentCount:It.length,uniqueUsers:B,avgCommentsPerVideo:Be,lastActivity:Le}))}}catch(_e){console.error(`Error fetching data for session ${ye.name}:`,_e),ge.push(ne(R({},ye),{comments:[],commentCount:0,uniqueUsers:0,avgCommentsPerVideo:0,lastActivity:ye.session_date}))}i(ge),o(!1)})},[de,Z]),console.log("Analytics Debug:",{authUser:C,userRoles:M,rolesError:L==null?void 0:L.message,fallbackAdminCheck:$,hasAdministratorAccess:Z,hasAdmin:P,rolesReady:X}),X&&!Z)return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(xr,{currentPage:"analytics"}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-red-100 mb-6",children:s.jsx(c2,{className:"h-12 w-12 text-red-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Restricted"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"You don't have the required permissions to access the Analytics dashboard."}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 text-left max-w-2xl mx-auto",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(os,{className:"h-5 w-5 mr-2 text-blue-600"}),"Your Current Access"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"User:"}),s.jsx("span",{className:"text-sm text-gray-900 ml-2",children:C})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Roles:"}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:M.length>0?Q0(M).map((z,ae)=>s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${z.color}`,children:z.name},ae)):s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Guest"})})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("span",{className:"text-sm font-medium text-red-700",children:"Required Role:"}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Admin"})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"To access this page, you need one of the administrator roles listed above. Please contact your administrator to request the appropriate permissions."}),s.jsxs(U,{onClick:()=>e("/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2 mx-auto",children:[s.jsx(mr,{className:"h-4 w-4"}),"Back to Dashboard"]})]})]})})]});if(!X)return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(xr,{currentPage:"analytics"}),s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]});const te=()=>xe(void 0,null,function*(){if(!(!m||b.length===0)){v(!0);try{const z=yield he({user_email:m,session_names:JSON.stringify(b)});if(z&&z.message&&z.message.message==="Success"){const ae=z.message.data;ae.total_assigned>0&&alert(`Successfully assigned ${ae.total_assigned} sessions to user`),ae.errors&&ae.errors.length>0&&console.warn("Assignment errors:",ae.errors);const ye=yield(yield fetch("/api/method/surgical_training.api.session_assignment.get_session_assignments",{method:"GET",headers:{"Content-Type":"application/json"}})).json();ye&&ye.message&&ye.message.message==="Success"&&g(ye.message.data),x(""),N([]),u(!1)}}catch(z){console.error("Error assigning sessions:",z),alert("Failed to assign sessions")}finally{v(!1)}}}),D=z=>xe(void 0,null,function*(){if(confirm("Are you sure you want to remove this assignment?"))try{const ae=yield W({assignment_name:z});if(ae&&ae.message&&ae.message.message==="Success"){const ye=yield(yield fetch("/api/method/surgical_training.api.session_assignment.get_session_assignments",{method:"GET",headers:{"Content-Type":"application/json"}})).json();ye&&ye.message&&ye.message.message==="Success"&&g(ye.message.data),alert("Assignment removed successfully")}}catch(ae){console.error("Error removing assignment:",ae),alert("Failed to remove assignment")}}),ee=z=>{N(ae=>ae.includes(z)?ae.filter(ge=>ge!==z):[...ae,z])},_=l.reduce((z,ae)=>z+ae.commentCount,0),I=l.length,V=l.filter(z=>z.commentCount>0).length,ue=new Set(l.flatMap(z=>z.comments.map(ae=>ae.doctor))).size,Q=l.flatMap(z=>z.comments.map(ae=>ne(R({},ae),{sessionTitle:z.title}))).sort((z,ae)=>new Date(ae.created_at).getTime()-new Date(z.created_at).getTime()).slice(0,10),Ne=z=>{const ae=Math.floor(z/60),ge=Math.floor(z%60);return`${String(ae).padStart(2,"0")}:${String(ge).padStart(2,"0")}`},ce=z=>{try{return new Date(z).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(ae){return z}},Xe=z=>z===0?{level:"No Activity",color:"gray",icon:Br}:z<5?{level:"Low",color:"yellow",icon:Rt}:z<15?{level:"Medium",color:"blue",icon:Ts}:{level:"High",color:"green",icon:ra};return c?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(xr,{currentPage:"analytics"}),s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(xr,{currentPage:"analytics"}),s.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Comment Analytics Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Track user engagement and comment activity across training sessions"})]}),s.jsx("div",{className:"flex gap-2",children:["week","month","year"].map(z=>s.jsx(U,{variant:t===z?"default":"outline",onClick:()=>r(z),className:`capitalize ${t===z?"bg-blue-600 text-white":"text-gray-600"}`,children:z},z))})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(Ae,{className:"group hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:s.jsxs(Me,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:s.jsx(dl,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[I," Total"]})]}),s.jsx(it,{className:"text-2xl font-bold text-gray-900 mb-1",children:V}),s.jsx(Kt,{className:"text-gray-600",children:"Active Sessions with Comments"})]})}),s.jsx(Ae,{className:"group hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:s.jsxs(Me,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:s.jsx(Ke,{className:"w-6 h-6 text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Engagement"})]}),s.jsx(it,{className:"text-2xl font-bold text-gray-900 mb-1",children:_}),s.jsx(Kt,{className:"text-gray-600",children:"Total Comments Made"})]})}),s.jsx(Ae,{className:"group hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:s.jsxs(Me,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:s.jsx(fl,{className:"w-6 h-6 text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"Contributors"})]}),s.jsx(it,{className:"text-2xl font-bold text-gray-900 mb-1",children:ue}),s.jsx(Kt,{className:"text-gray-600",children:"Active Commenting Users"})]})}),s.jsx(Ae,{className:"group hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:s.jsxs(Me,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-100",children:s.jsx(hd,{className:"w-6 h-6 text-orange-600"})}),s.jsx("span",{className:"text-sm font-medium text-orange-600",children:"Average"})]}),s.jsx(it,{className:"text-2xl font-bold text-gray-900 mb-1",children:I>0?(_/I).toFixed(1):"0"}),s.jsx(Kt,{className:"text-gray-600",children:"Comments per Session"})]})})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(Ae,{children:[s.jsx(Mt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-indigo-100",children:s.jsx(Y0,{className:"w-6 h-6 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx(it,{children:"Session Assignment Management"}),s.jsx(Kt,{children:"Assign training sessions to specific users"})]})]}),s.jsxs(U,{onClick:()=>u(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white flex items-center gap-2",children:[s.jsx(tc,{size:16}),"Assign Sessions"]})]})}),s.jsx(Me,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 border-b border-gray-200 pb-2",children:[s.jsxs("span",{className:"font-medium",children:["Current Assignments (",p.length,")"]}),s.jsxs("span",{children:["Users: ",new Set(p.map(z=>z.assigned_user)).size]})]}),p.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(tc,{size:32,className:"mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-sm",children:"No session assignments yet"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-60 overflow-y-auto",children:p.map(z=>{const ae=j.find(ye=>ye.name===z.assigned_user),ge=l.find(ye=>ye.name===z.session);return s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(ge==null?void 0:ge.title)||z.session}),s.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[s.jsx(os,{size:10}),(ae==null?void 0:ae.full_name)||z.assigned_user]})]}),s.jsx(U,{onClick:()=>D(z.name),variant:"ghost",size:"sm",className:"p-1 h-6 w-6 text-red-500 hover:text-red-700 hover:bg-red-50",children:s.jsx(Xt,{size:12})})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Assigned ",new Date(z.assignment_date).toLocaleDateString()]})]},z.name)})})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Ae,{className:"lg:col-span-2",children:[s.jsx(Mt,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:s.jsx(Ts,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(it,{children:"Session Comment Analytics"}),s.jsx(Kt,{children:"Engagement metrics by training session"})]})]})})}),s.jsx(Me,{children:s.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[l.map((z,ae)=>{const ge=Xe(z.commentCount),ye=ge.icon;return s.jsxs("div",{className:"group p-4 rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-300 cursor-pointer",onClick:()=>a(n===z.name?null:z.name),children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:z.title}),s.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium bg-${ge.color}-100 text-${ge.color}-700 flex items-center gap-1`,children:[s.jsx(ye,{size:12}),ge.level]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Ke,{size:14,className:"text-purple-500"}),s.jsxs("span",{children:[z.commentCount," comments"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(fl,{size:14,className:"text-green-500"}),s.jsxs("span",{children:[z.uniqueUsers," users"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(hd,{size:14,className:"text-blue-500"}),s.jsxs("span",{children:[z.avgCommentsPerVideo.toFixed(1)," avg/video"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Rt,{size:14,className:"text-orange-500"}),s.jsx("span",{children:ce(z.lastActivity)})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(ls,{to:`/session/${z.name}`,className:"p-2 rounded-lg bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",title:"View Session",children:s.jsx(Qr,{size:16})}),s.jsx(Yn,{size:16,className:`text-gray-400 transition-transform duration-200 ${n===z.name?"rotate-90":""}`})]})]}),n===z.name&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 animate-fade-in-up",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Recent Comments:"}),s.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[z.comments.slice(0,5).map(_e=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-6 w-6 rounded-full bg-blue-600 flex items-center justify-center",children:s.jsx(os,{size:12,className:"text-white"})}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:_e.doctor_name||_e.doctor})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx(Rt,{size:10}),Ne(_e.timestamp)," in ",_e.video_title]})]}),s.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:_e.comment_text}),s.jsx("div",{className:"mt-1 text-xs text-gray-500",children:ce(_e.created_at)})]},_e.name)),z.comments.length>5&&s.jsx("div",{className:"text-center",children:s.jsxs(ls,{to:`/session/${z.name}`,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:["View all ",z.comments.length," comments "]})})]})]})]},z.name)}),l.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Ts,{size:48,className:"mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"No Sessions Found"}),s.jsx("p",{className:"text-sm",children:"Create some training sessions to see analytics here"})]})]})})]}),s.jsxs(Ae,{children:[s.jsx(Mt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:s.jsx(Ke,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx(it,{children:"Recent Activity"}),s.jsx(Kt,{children:"Latest comment activity"})]})]})}),s.jsx(Me,{children:s.jsxs("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:[Q.map((z,ae)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-600 flex items-center justify-center flex-shrink-0",children:s.jsx(os,{size:14,className:"text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:z.doctor_name||z.doctor}),s.jsx("span",{className:"text-xs text-gray-500",children:"commented"})]}),s.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-1",children:z.comment_text}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:z.sessionTitle}),s.jsx("span",{children:""}),s.jsx("span",{children:ce(z.created_at)})]})]})]},z.name)),Q.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ke,{size:32,className:"mx-auto text-gray-300 mb-2"}),s.jsx("p",{className:"text-sm",children:"No recent activity"})]})]})})]})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full border border-gray-200 animate-fade-in-up max-h-[90vh] overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-lg",children:s.jsx(tc,{size:20,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Assign Sessions to User"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Select a user and choose which sessions to assign"})]})]}),s.jsx(U,{onClick:()=>{u(!1),x(""),N([])},variant:"ghost",size:"sm",className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg",children:s.jsx(Xt,{size:20})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select User"}),s.jsxs("select",{value:m,onChange:z=>x(z.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20",children:[s.jsx("option",{value:"",children:"Choose a user..."}),j.map(z=>s.jsxs("option",{value:z.name,children:[z.full_name||z.name," (",z.email,")"]},z.name))]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Select Sessions (",b.length," selected)"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U,{onClick:()=>N(l.map(z=>z.name)),variant:"outline",size:"sm",className:"text-xs",children:"Select All"}),s.jsx(U,{onClick:()=>N([]),variant:"outline",size:"sm",className:"text-xs",children:"Clear All"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-60 overflow-y-auto border border-gray-200 rounded-lg p-3",children:l.map(z=>{const ae=b.includes(z.name),ge=m&&p.some(ye=>ye.session===z.name&&ye.assigned_user===m);return s.jsx("div",{onClick:()=>!ge&&ee(z.name),className:`p-3 rounded-lg border-2 transition-all cursor-pointer ${ge?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":ae?"border-indigo-300 bg-indigo-50":"border-gray-200 hover:border-indigo-200 hover:bg-indigo-25"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:z.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[s.jsx(Ke,{size:10}),s.jsxs("span",{children:[z.commentCount," comments"]}),s.jsx("span",{children:""}),s.jsx(Rt,{size:10}),s.jsx("span",{children:new Date(z.session_date).toLocaleDateString()})]}),ge&&s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Already assigned to this user"})]}),s.jsx("div",{className:"ml-2 flex items-center",children:ae&&!ge&&s.jsx(er,{size:16,className:"text-indigo-600"})})]})},z.name)})})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsx("div",{className:"text-sm text-gray-600",children:m&&b.length>0&&s.jsxs("span",{children:["Ready to assign ",b.length," session",b.length!==1?"s":""," to ",((nt=j.find(z=>z.name===m))==null?void 0:nt.full_name)||m]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U,{onClick:()=>{u(!1),x(""),N([])},variant:"outline",className:"border-gray-200",children:"Cancel"}),s.jsx(U,{onClick:te,disabled:!m||b.length===0||y,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:y?"Assigning...":"Assign Sessions"})]})]})]})]})})})]})},PS=({assessment:e,onViewDetail:t,onEdit:r})=>{var l;const n=i=>i>=80?"text-green-600 bg-green-50":i>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",a=i=>({Completed:"bg-green-100 text-green-800",Draft:"bg-gray-100 text-gray-800","In Progress":"bg-blue-100 text-blue-800"})[i]||"bg-gray-100 text-gray-800";return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(cl,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded",children:"Assessment"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.session.title}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Session: ",e.session.name]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Rs,{className:"w-4 h-4 mr-1"}),e.session.session_date?new Date(e.session.session_date).toLocaleDateString():"No date"]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(e.status)}`,children:e.status}),s.jsxs("div",{className:`px-3 py-2 rounded-lg text-center ${n(e.scores.percentage)}`,children:[s.jsxs("div",{className:"text-lg font-bold",children:[((l=e.scores.percentage)==null?void 0:l.toFixed(1))||0,"%"]}),s.jsx("div",{className:"text-xs",children:"Overall Score"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Students:"}),s.jsx("div",{className:"font-medium",children:[e.session.student_1_name,e.session.student_2_name].filter(Boolean).join(", ")||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Categories:"}),s.jsxs("div",{className:"font-medium",children:[e.category_count," evaluated"]})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Assessed on ",new Date(e.creation).toLocaleDateString()]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>r(e.id),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors text-sm font-medium flex items-center gap-1",children:[s.jsx(q0,{className:"w-4 h-4"}),"Edit"]}),s.jsx("button",{onClick:()=>t(e.id),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Details"})]})]})]})},TS=({survey:e,onEdit:t})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ke,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded",children:e.is_block_survey?"Training Block Survey":"Session Survey"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.session_title}),e.session_id!=="block_survey"&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Session: ",e.session_id]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Rs,{className:"w-4 h-4 mr-1"}),"Submitted on ",new Date(e.submission_date).toLocaleDateString()]})]}),s.jsx("div",{className:"flex flex-col items-end space-y-2",children:s.jsxs("div",{className:"px-3 py-2 rounded-lg text-center bg-purple-50 text-purple-700",children:[s.jsx("div",{className:"text-lg font-bold",children:e.response_count}),s.jsx("div",{className:"text-xs",children:"Responses"})]})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Last modified ",new Date(e.modified).toLocaleDateString()]}),s.jsxs("button",{onClick:()=>t(e.id),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm font-medium flex items-center gap-1",children:[s.jsx(q0,{className:"w-4 h-4"}),"Edit Responses"]})]})]}),ti=({title:e,value:t,icon:r,trend:n})=>{const a=()=>{switch(n){case"improving":return s.jsx(ra,{className:"w-4 h-4 text-green-500"});case"declining":return s.jsx(j2,{className:"w-4 h-4 text-red-500"});case"stable":return s.jsx(G0,{className:"w-4 h-4 text-gray-500"});default:return null}};return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:r}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t})]})]}),n&&s.jsx("div",{className:"flex items-center",children:a()})]})})},zS=()=>{var D,ee,_;const[e,t]=f.useState({search:"",session:"",dateFrom:"",dateTo:"",status:"",type:"all"}),[r,n]=f.useState(0),[a,l]=f.useState(!1),[i,c]=f.useState(null),o=10,{data:d,mutate:u}=St("surgical_training.api.user_assessments.get_user_assessments",{session_filter:e.session||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0}),{data:m,mutate:x}=St("surgical_training.api.user_assessments.get_user_surveys",{session_filter:e.session||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0}),{call:b}=st("surgical_training.api.user_assessments.update_survey_response"),{call:N}=st("surgical_training.api.user_assessments.update_session_evaluation"),{data:j}=St("surgical_training.api.user_assessments.get_available_sessions_for_assessment"),S=(d==null?void 0:d.data)||((D=d==null?void 0:d.message)==null?void 0:D.data)||(d==null?void 0:d.message),p=(m==null?void 0:m.data)||((ee=m==null?void 0:m.message)==null?void 0:ee.data)||(m==null?void 0:m.message),g=(S==null?void 0:S.assessments)||[],y=(p==null?void 0:p.surveys)||[],v=S==null?void 0:S.summary,M=S==null?void 0:S.pagination,L=p==null?void 0:p.pagination,P=(j==null?void 0:j.data)||[],X=Xn.useMemo(()=>{let I=[];return(e.type==="all"||e.type==="assessments")&&I.push(...g.map(V=>ne(R({},V),{itemType:"assessment"}))),(e.type==="all"||e.type==="surveys")&&I.push(...y.map(V=>ne(R({},V),{itemType:"survey"}))),I.sort((V,ue)=>new Date(ue.creation).getTime()-new Date(V.creation).getTime())},[g,y,e.type]).filter(I=>{var ue,Q;if(!e.search)return!0;const V=e.search.toLowerCase();return"session"in I?I.session.title.toLowerCase().includes(V)||I.session.name.toLowerCase().includes(V)||((ue=I.session.student_1_name)==null?void 0:ue.toLowerCase().includes(V))||((Q=I.session.student_2_name)==null?void 0:Q.toLowerCase().includes(V)):I.session_title.toLowerCase().includes(V)||I.session_id.toLowerCase().includes(V)}),$=I=>{window.location.href=`/surgical_training/assessments/${I}`},de=(I,V="assessment")=>{c({id:I,type:V})},he=()=>{c(null)},W=(I,V,ue)=>xe(void 0,null,function*(){try{V==="survey"?(yield b({survey_id:I,responses:JSON.stringify(ue)}),O.success("Survey updated successfully"),x()):(yield N({evaluation_id:I,evaluation_data:ue}),O.success("Assessment updated successfully"),u()),c(null)}catch(Q){console.error("Error updating:",Q),O.error(`Failed to update ${V}`)}}),Z=(I,V)=>{t(ue=>ne(R({},ue),{[I]:V})),n(0)},te=I=>{const V=e.type==="surveys"?L:e.type==="assessments"?M:M!=null&&M.has_more||L!=null&&L.has_more?{has_more:!0}:{has_more:!1};I==="next"&&(V!=null&&V.has_more)?n(ue=>ue+1):I==="prev"&&r>0&&n(ue=>ue-1)};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Submissions"}),s.jsx("p",{className:"text-gray-600",children:"View and edit your training assessments and survey responses"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(ti,{title:"Total Assessments",value:(v==null?void 0:v.total_assessments)||0,icon:s.jsx(cl,{className:"w-6 h-6 text-blue-600"})}),s.jsx(ti,{title:"Survey Responses",value:y.length,icon:s.jsx(Ke,{className:"w-6 h-6 text-purple-600"})}),s.jsx(ti,{title:"Average Score",value:`${((_=v==null?void 0:v.average_score)==null?void 0:_.toFixed(1))||0}%`,icon:s.jsx(ra,{className:"w-6 h-6 text-green-600"}),trend:v==null?void 0:v.improvement_trend}),s.jsx(ti,{title:"Recent Activity",value:`${(v==null?void 0:v.recent_activity)||0} this month`,icon:s.jsx(Rs,{className:"w-6 h-6 text-gray-600"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx(n2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search submissions...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e.search,onChange:I=>Z("search",I.target.value)})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>Z("type","all"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${e.type==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"All"}),s.jsx("button",{onClick:()=>Z("type","assessments"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${e.type==="assessments"?"bg-white text-blue-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Assessments"}),s.jsx("button",{onClick:()=>Z("type","surveys"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${e.type==="surveys"?"bg-white text-purple-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Surveys"})]}),s.jsxs("button",{onClick:()=>l(!a),className:"flex items-center px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[s.jsx(kw,{className:"w-4 h-4 mr-2"}),"More Filters"]})]})]}),a&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e.session,onChange:I=>Z("session",I.target.value),children:[s.jsx("option",{value:"",children:"All Sessions"}),P.map(I=>s.jsx("option",{value:I.name,children:I.title},I.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e.dateFrom,onChange:I=>Z("dateFrom",I.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:e.dateTo,onChange:I=>Z("dateTo",I.target.value)})]})]})})]}),s.jsx("div",{className:"space-y-4",children:X.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(fr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",e.type==="all"?"Submissions":e.type==="assessments"?"Assessments":"Surveys"," Found"]}),s.jsx("p",{className:"text-gray-600",children:e.search||e.session||e.dateFrom||e.dateTo?"Try adjusting your filters to see more results.":`You haven't completed any ${e.type==="all"?"submissions":e.type==="assessments"?"assessments":"surveys"} yet.`})]}):X.map(I=>"session"in I?s.jsx(PS,{assessment:I,onViewDetail:$,onEdit:V=>de(V,"assessment")},I.id):s.jsx(TS,{survey:I,onEdit:V=>de(V,"survey")},I.id))}),(M&&M.total>o||L&&L.total>o)&&s.jsxs("div",{className:"flex justify-between items-center mt-8",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing items from page ",r+1]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>te("prev"),disabled:r===0,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),s.jsx("button",{onClick:()=>te("next"),disabled:!(M!=null&&M.has_more||L!=null&&L.has_more),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),i&&s.jsx(AS,{itemId:i.id,itemType:i.type,onSave:W,onCancel:he})]})})},AS=({itemId:e,itemType:t,onSave:r,onCancel:n})=>{var S;const[a,l]=f.useState({}),[i,c]=f.useState(!0),[o,d]=f.useState(!1),u=t==="survey"?"surgical_training.api.user_assessments.get_survey_detail":"surgical_training.api.user_assessments.get_assessment_detail",{data:m,error:x}=St(u);f.useEffect(()=>{var g;const p=(m==null?void 0:m.data)||((g=m==null?void 0:m.message)==null?void 0:g.data)||(m==null?void 0:m.message);p&&(l(p),c(!1))},[m,x]);const b=()=>xe(void 0,null,function*(){d(!0),yield r(e,t,a),d(!1)}),N=(p,g)=>{l(y=>ne(R({},y),{[p]:g}))},j=(p,g)=>{l(y=>ne(R({},y),{responses:ne(R({},y.responses),{[p]:g})}))};return i?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md mx-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4 w-3/4"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})}):!i&&(!a||Object.keys(a).length===0)?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Data"}),s.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load submission data. Please try again."}),s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[s.jsx("p",{children:"Debug info:"}),s.jsxs("p",{children:[" Item ID: ",e]}),s.jsxs("p",{children:[" Item Type: ",t]}),s.jsxs("p",{children:[" API: ",t==="survey"?"get_survey_detail":"get_assessment_detail"]})]}),s.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Close"})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsx("div",{className:"flex-shrink-0 p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Edit ",t==="survey"?"Survey Responses":"Assessment"]}),s.jsx("p",{className:"text-sm text-gray-600",children:t==="survey"?a.session_title:(S=a.session)==null?void 0:S.title})]}),s.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:s.jsx(Xt,{className:"w-5 h-5"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 min-h-0",children:t==="survey"?s.jsxs("div",{className:"space-y-6 pb-4",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-purple-900 mb-2",children:"Survey Responses"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Edit your responses to the survey questions. Changes will be saved when you click Save."})]}),Object.entries(a.responses||{}).map(([p,g])=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Question ",p]}),s.jsx("textarea",{value:g,onChange:y=>j(p,y.target.value),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-vertical",placeholder:"Enter your response..."})]},p)),Object.keys(a.responses||{}).length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No responses found for this survey."})]}):s.jsxs("div",{className:"space-y-6 pb-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Assessment Details"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Edit the assessment scores and comments. Note that changes to scores may affect overall ratings."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Rating"}),s.jsx("input",{type:"text",value:a.overall_rating||"",onChange:p=>N("overall_rating",p.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Excellent, Good, Satisfactory"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:a.status||"",onChange:p=>N("status",p.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"In Progress",children:"In Progress"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Comments"}),s.jsx("textarea",{value:a.evaluator_comments||"",onChange:p=>N("evaluator_comments",p.target.value),rows:6,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Enter overall assessment comments..."})]})]})}),s.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 p-6 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",disabled:o,children:"Cancel"}),s.jsx("button",{onClick:b,disabled:o,className:`px-6 py-2 rounded-md transition-colors flex items-center gap-2 ${t==="survey"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bi,{className:"w-4 h-4"}),"Save Changes"]})})]})})]})})},$g=({percentage:e,size:t="md"})=>{const r=()=>e>=80?"text-green-600 bg-green-50 border-green-200":e>=60?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200",n={sm:"w-12 h-12 text-sm",md:"w-16 h-16 text-base",lg:"w-20 h-20 text-lg"};return s.jsxs("div",{className:`${n[t]} rounded-full border-2 ${r()} flex items-center justify-center font-bold`,children:[e.toFixed(0),"%"]})},Og=({rating:e})=>{const t=()=>{switch(e.toLowerCase()){case"excellent":return"bg-green-100 text-green-800 border-green-200";case"good":return"bg-blue-100 text-blue-800 border-blue-200";case"satisfactory":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"needs improvement":return"bg-orange-100 text-orange-800 border-orange-200";case"unsatisfactory":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e?s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${t()}`,children:e}):null},MS=({category:e})=>{const[t,r]=Xn.useState(!1);return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.category}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Score: ",s.jsxs("span",{className:"font-medium",children:[e.score,"/",e.max_score]})]}),s.jsx(Og,{rating:e.rating})]})]}),s.jsx($g,{percentage:e.percentage})]}),e.comments&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Comments"}),s.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 rounded-md p-3",children:e.comments})]}),e.details&&e.details.length>0&&s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>r(!t),className:"flex items-center text-sm font-medium text-blue-600 hover:text-blue-700",children:[t?"Hide":"Show"," Detailed Breakdown (",e.details.length," criteria)",s.jsx(ra,{className:`w-4 h-4 ml-1 transform transition-transform ${t?"rotate-180":""}`})]}),t&&s.jsx("div",{className:"mt-4 space-y-3",children:e.details.map((n,a)=>s.jsxs("div",{className:"border border-gray-100 rounded-md p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:n.criteria}),s.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[n.score,"/",n.max_score,n.weight&&` (Weight: ${n.weight})`]})]}),n.comments&&s.jsx("p",{className:"text-sm text-gray-600",children:n.comments})]},a))})]})]})})},RS=({status:e})=>{switch(e.toLowerCase()){case"completed":return s.jsx(er,{className:"w-5 h-5 text-green-600"});case"draft":return s.jsx(Rt,{className:"w-5 h-5 text-gray-600"});case"in progress":return s.jsx(Br,{className:"w-5 h-5 text-blue-600"});default:return s.jsx(pd,{className:"w-5 h-5 text-red-600"})}},LS=()=>{const{assessmentId:e}=b0(),t=bl(),{data:r}=St("surgical_training.api.user_assessments.get_assessment_detail"),n=r==null?void 0:r.data,a=()=>{t("/surgical_training/assessments")};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:a,className:"flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Assessments"]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assessment Details"}),s.jsx("h2",{className:"text-xl text-gray-700 mb-4",children:n.session.title}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Session Date: ",n.session.session_date?new Date(n.session.session_date).toLocaleDateString():"No date specified"]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(os,{className:"w-4 h-4 mr-2"}),"Assessed by: ",n.doctor_display_name]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(RS,{status:n.status}),s.jsxs("span",{className:"ml-2",children:["Status: ",n.status]})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Completed: ",new Date(n.creation).toLocaleString()]})]}),(n.session.student_1_name||n.session.student_2_name)&&s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Students: "}),s.jsx("span",{className:"text-sm text-gray-600",children:[n.session.student_1_name,n.session.student_2_name].filter(Boolean).join(", ")})]})]}),s.jsxs("div",{className:"ml-6 text-center",children:[s.jsx($g,{percentage:n.scores.overall_percentage,size:"lg"}),s.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"Overall Score"}),s.jsxs("div",{className:"text-xs text-gray-500",children:[n.scores.total_achieved,"/",n.scores.total_possible," points"]})]})]}),n.session.description&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Session Description"}),s.jsx("p",{className:"text-sm text-gray-600",children:n.session.description})]})]})]}),(n.evaluator_comments||n.overall_rating)&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Overall Assessment"]}),n.overall_rating&&s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Rating: "}),s.jsx(Og,{rating:n.overall_rating})]}),n.evaluator_comments&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Comments"}),s.jsx("div",{className:"bg-gray-50 rounded-md p-4",children:s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.evaluator_comments})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(cl,{className:"w-5 h-5 mr-2"}),"Category Breakdown (",n.categories.length," categories)"]}),n.categories.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center",children:[s.jsx(cl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No category evaluations found for this assessment."})]}):s.jsx("div",{className:"space-y-4",children:n.categories.map((l,i)=>s.jsx(MS,{category:l},l.id||i))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assessment Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.categories.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Categories Evaluated"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.categories.filter(l=>l.percentage>=80).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Excellent Performance"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[Math.round(n.categories.reduce((l,i)=>l+i.percentage,0)/n.categories.length),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Average Category Score"})]})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-xs text-gray-500",children:s.jsxs("p",{children:["Assessment ID: ",n.id,"  Last Modified: ",new Date(n.modified).toLocaleString()]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("button",{onClick:a,className:"flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Assessments"]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Assessment Not Found"}),s.jsx("p",{className:"text-red-600",children:"The requested assessment could not be found or you don't have permission to view it."})]})]})})};function $S(){return f.useEffect(()=>{document.documentElement.classList.remove("dark"),document.body.classList.remove("dark")},[]),s.jsx("div",{className:"light-theme-wrapper",style:{backgroundColor:"#f9fafb",minHeight:"100vh",fontFamily:"system-ui, sans-serif"},children:s.jsxs(Jb,{children:[s.jsx(W1,{position:"top-right"}),s.jsx(Kb,{children:s.jsxs(Vb,{children:[s.jsx(rs,{path:"/login",element:s.jsx(U2,{})}),s.jsx(rs,{path:"/dashboard",element:s.jsx(Fr,{children:s.jsx(Q2,{})})}),s.jsx(rs,{path:"/session/:sessionName",element:s.jsx(Fr,{children:s.jsx(iN,{})})}),s.jsx(rs,{path:"/account",element:s.jsx(Fr,{children:s.jsx(oN,{})})}),s.jsx(rs,{path:"/guide",element:s.jsx(CS,{})}),s.jsx(rs,{path:"/analytics",element:s.jsx(Fr,{children:s.jsx(ES,{})})}),s.jsx(rs,{path:"/assessments",element:s.jsx(Fr,{children:s.jsx(zS,{})})}),s.jsx(rs,{path:"/assessments/:assessmentId",element:s.jsx(Fr,{children:s.jsx(LS,{})})}),s.jsx(rs,{path:"/role-checker",element:s.jsx(Fr,{children:s.jsx(cN,{})})}),s.jsx(rs,{path:"/",element:s.jsx(Fb,{to:"/dashboard",replace:!0})}),s.jsx(rs,{path:"*",element:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Route Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The requested route was not found in static mode."}),s.jsxs("div",{className:"mt-4",children:[s.jsx("a",{href:"#/login",className:"text-blue-600 hover:text-blue-800",children:"Go to Login"})," | ",s.jsx("a",{href:"#/dashboard",className:"text-blue-600 hover:text-blue-800",children:"Go to Dashboard"})]})]})})})]})})]})})}h0(document.getElementById("root")).render(s.jsx(f.StrictMode,{children:s.jsx($S,{})}));export{th as g,f as r};
//# sourceMappingURL=main-BcTkDk8q.js.map
